(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&c(x)}).observe(document,{childList:!0,subtree:!0});function a(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(f){if(f.ep)return;f.ep=!0;const h=a(f);fetch(f.href,h)}})();function Go(n){const i=Object.create(null);for(const a of n.split(","))i[a]=1;return a=>a in i}const ot={},Wr=[],Fn=()=>{},lc=()=>!1,Es=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Wo=n=>n.startsWith("onUpdate:"),Ft=Object.assign,Xo=(n,i)=>{const a=n.indexOf(i);a>-1&&n.splice(a,1)},Uu=Object.prototype.hasOwnProperty,$e=(n,i)=>Uu.call(n,i),ve=Array.isArray,Xr=n=>Di(n)==="[object Map]",cc=n=>Di(n)==="[object Set]",Pa=n=>Di(n)==="[object Date]",Be=n=>typeof n=="function",Ot=n=>typeof n=="string",Un=n=>typeof n=="symbol",nt=n=>n!==null&&typeof n=="object",uc=n=>(nt(n)||Be(n))&&Be(n.then)&&Be(n.catch),fc=Object.prototype.toString,Di=n=>fc.call(n),Vu=n=>Di(n).slice(8,-1),hc=n=>Di(n)==="[object Object]",jo=n=>Ot(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,xi=Go(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),As=n=>{const i=Object.create(null);return(a=>i[a]||(i[a]=n(a)))},Hu=/-\w/g,Cn=As(n=>n.replace(Hu,i=>i.slice(1).toUpperCase())),Gu=/\B([A-Z])/g,Rr=As(n=>n.replace(Gu,"-$1").toLowerCase()),Cs=As(n=>n.charAt(0).toUpperCase()+n.slice(1)),ro=As(n=>n?`on${Cs(n)}`:""),ur=(n,i)=>!Object.is(n,i),$i=(n,...i)=>{for(let a=0;a<n.length;a++)n[a](...i)},dc=(n,i,a,c=!1)=>{Object.defineProperty(n,i,{configurable:!0,enumerable:!1,writable:c,value:a})},zo=n=>{const i=parseFloat(n);return isNaN(i)?n:i};let La;const bs=()=>La||(La=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yo(n){if(ve(n)){const i={};for(let a=0;a<n.length;a++){const c=n[a],f=Ot(c)?zu(c):Yo(c);if(f)for(const h in f)i[h]=f[h]}return i}else if(Ot(n)||nt(n))return n}const Wu=/;(?![^(]*\))/g,Xu=/:([^]+)/,ju=/\/\*[^]*?\*\//g;function zu(n){const i={};return n.replace(ju,"").split(Wu).forEach(a=>{if(a){const c=a.split(Xu);c.length>1&&(i[c[0].trim()]=c[1].trim())}}),i}function yi(n){let i="";if(Ot(n))i=n;else if(ve(n))for(let a=0;a<n.length;a++){const c=yi(n[a]);c&&(i+=c+" ")}else if(nt(n))for(const a in n)n[a]&&(i+=a+" ");return i.trim()}const Yu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ku=Go(Yu);function gc(n){return!!n||n===""}function Zu(n,i){if(n.length!==i.length)return!1;let a=!0;for(let c=0;a&&c<n.length;c++)a=Ko(n[c],i[c]);return a}function Ko(n,i){if(n===i)return!0;let a=Pa(n),c=Pa(i);if(a||c)return a&&c?n.getTime()===i.getTime():!1;if(a=Un(n),c=Un(i),a||c)return n===i;if(a=ve(n),c=ve(i),a||c)return a&&c?Zu(n,i):!1;if(a=nt(n),c=nt(i),a||c){if(!a||!c)return!1;const f=Object.keys(n).length,h=Object.keys(i).length;if(f!==h)return!1;for(const x in n){const m=n.hasOwnProperty(x),E=i.hasOwnProperty(x);if(m&&!E||!m&&E||!Ko(n[x],i[x]))return!1}}return String(n)===String(i)}const xc=n=>!!(n&&n.__v_isRef===!0),wn=n=>Ot(n)?n:n==null?"":ve(n)||nt(n)&&(n.toString===fc||!Be(n.toString))?xc(n)?wn(n.value):JSON.stringify(n,pc,2):String(n),pc=(n,i)=>xc(i)?pc(n,i.value):Xr(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((a,[c,f],h)=>(a[io(c,h)+" =>"]=f,a),{})}:cc(i)?{[`Set(${i.size})`]:[...i.values()].map(a=>io(a))}:Un(i)?io(i):nt(i)&&!ve(i)&&!hc(i)?String(i):i,io=(n,i="")=>{var a;return Un(n)?`Symbol(${(a=n.description)!=null?a:i})`:n};let nn;class qu{constructor(i=!1){this.detached=i,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=nn,!i&&nn&&(this.index=(nn.scopes||(nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let i,a;if(this.scopes)for(i=0,a=this.scopes.length;i<a;i++)this.scopes[i].pause();for(i=0,a=this.effects.length;i<a;i++)this.effects[i].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let i,a;if(this.scopes)for(i=0,a=this.scopes.length;i<a;i++)this.scopes[i].resume();for(i=0,a=this.effects.length;i<a;i++)this.effects[i].resume()}}run(i){if(this._active){const a=nn;try{return nn=this,i()}finally{nn=a}}}on(){++this._on===1&&(this.prevScope=nn,nn=this)}off(){this._on>0&&--this._on===0&&(nn=this.prevScope,this.prevScope=void 0)}stop(i){if(this._active){this._active=!1;let a,c;for(a=0,c=this.effects.length;a<c;a++)this.effects[a].stop();for(this.effects.length=0,a=0,c=this.cleanups.length;a<c;a++)this.cleanups[a]();if(this.cleanups.length=0,this.scopes){for(a=0,c=this.scopes.length;a<c;a++)this.scopes[a].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!i){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0}}}function Qu(){return nn}let ut;const so=new WeakSet;class wc{constructor(i){this.fn=i,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nn&&nn.active&&nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,so.has(this)&&(so.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ec(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fa(this),Ac(this);const i=ut,a=In;ut=this,In=!0;try{return this.fn()}finally{Cc(this),ut=i,In=a,this.flags&=-3}}stop(){if(this.flags&1){for(let i=this.deps;i;i=i.nextDep)Qo(i);this.deps=this.depsTail=void 0,Fa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?so.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bo(this)&&this.run()}get dirty(){return bo(this)}}let mc=0,pi,wi;function Ec(n,i=!1){if(n.flags|=8,i){n.next=wi,wi=n;return}n.next=pi,pi=n}function Zo(){mc++}function qo(){if(--mc>0)return;if(wi){let i=wi;for(wi=void 0;i;){const a=i.next;i.next=void 0,i.flags&=-9,i=a}}let n;for(;pi;){let i=pi;for(pi=void 0;i;){const a=i.next;if(i.next=void 0,i.flags&=-9,i.flags&1)try{i.trigger()}catch(c){n||(n=c)}i=a}}if(n)throw n}function Ac(n){for(let i=n.deps;i;i=i.nextDep)i.version=-1,i.prevActiveLink=i.dep.activeLink,i.dep.activeLink=i}function Cc(n){let i,a=n.depsTail,c=a;for(;c;){const f=c.prevDep;c.version===-1?(c===a&&(a=f),Qo(c),Ju(c)):i=c,c.dep.activeLink=c.prevActiveLink,c.prevActiveLink=void 0,c=f}n.deps=i,n.depsTail=a}function bo(n){for(let i=n.deps;i;i=i.nextDep)if(i.dep.version!==i.version||i.dep.computed&&(bc(i.dep.computed)||i.dep.version!==i.version))return!0;return!!n._dirty}function bc(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Ii)||(n.globalVersion=Ii,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!bo(n))))return;n.flags|=2;const i=n.dep,a=ut,c=In;ut=n,In=!0;try{Ac(n);const f=n.fn(n._value);(i.version===0||ur(f,n._value))&&(n.flags|=128,n._value=f,i.version++)}catch(f){throw i.version++,f}finally{ut=a,In=c,Cc(n),n.flags&=-3}}function Qo(n,i=!1){const{dep:a,prevSub:c,nextSub:f}=n;if(c&&(c.nextSub=f,n.prevSub=void 0),f&&(f.prevSub=c,n.nextSub=void 0),a.subs===n&&(a.subs=c,!c&&a.computed)){a.computed.flags&=-5;for(let h=a.computed.deps;h;h=h.nextDep)Qo(h,!0)}!i&&!--a.sc&&a.map&&a.map.delete(a.key)}function Ju(n){const{prevDep:i,nextDep:a}=n;i&&(i.nextDep=a,n.prevDep=void 0),a&&(a.prevDep=i,n.nextDep=void 0)}let In=!0;const yc=[];function Zn(){yc.push(In),In=!1}function qn(){const n=yc.pop();In=n===void 0?!0:n}function Fa(n){const{cleanup:i}=n;if(n.cleanup=void 0,i){const a=ut;ut=void 0;try{i()}finally{ut=a}}}let Ii=0;class $u{constructor(i,a){this.sub=i,this.dep=a,this.version=a.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jo{constructor(i){this.computed=i,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(i){if(!ut||!In||ut===this.computed)return;let a=this.activeLink;if(a===void 0||a.sub!==ut)a=this.activeLink=new $u(ut,this),ut.deps?(a.prevDep=ut.depsTail,ut.depsTail.nextDep=a,ut.depsTail=a):ut.deps=ut.depsTail=a,Ic(a);else if(a.version===-1&&(a.version=this.version,a.nextDep)){const c=a.nextDep;c.prevDep=a.prevDep,a.prevDep&&(a.prevDep.nextDep=c),a.prevDep=ut.depsTail,a.nextDep=void 0,ut.depsTail.nextDep=a,ut.depsTail=a,ut.deps===a&&(ut.deps=c)}return a}trigger(i){this.version++,Ii++,this.notify(i)}notify(i){Zo();try{for(let a=this.subs;a;a=a.prevSub)a.sub.notify()&&a.sub.dep.notify()}finally{qo()}}}function Ic(n){if(n.dep.sc++,n.sub.flags&4){const i=n.dep.computed;if(i&&!n.dep.subs){i.flags|=20;for(let c=i.deps;c;c=c.nextDep)Ic(c)}const a=n.dep.subs;a!==n&&(n.prevSub=a,a&&(a.nextSub=n)),n.dep.subs=n}}const yo=new WeakMap,_r=Symbol(""),Io=Symbol(""),_i=Symbol("");function Vt(n,i,a){if(In&&ut){let c=yo.get(n);c||yo.set(n,c=new Map);let f=c.get(a);f||(c.set(a,f=new Jo),f.map=c,f.key=a),f.track()}}function zn(n,i,a,c,f,h){const x=yo.get(n);if(!x){Ii++;return}const m=E=>{E&&E.trigger()};if(Zo(),i==="clear")x.forEach(m);else{const E=ve(n),w=E&&jo(a);if(E&&a==="length"){const b=Number(c);x.forEach((y,N)=>{(N==="length"||N===_i||!Un(N)&&N>=b)&&m(y)})}else switch((a!==void 0||x.has(void 0))&&m(x.get(a)),w&&m(x.get(_i)),i){case"add":E?w&&m(x.get("length")):(m(x.get(_r)),Xr(n)&&m(x.get(Io)));break;case"delete":E||(m(x.get(_r)),Xr(n)&&m(x.get(Io)));break;case"set":Xr(n)&&m(x.get(_r));break}}qo()}function kr(n){const i=Je(n);return i===n?i:(Vt(i,"iterate",_i),_n(n)?i:i.map(Qn))}function $o(n){return Vt(n=Je(n),"iterate",_i),n}function ar(n,i){return fr(n)?Si(jr(n)?Qn(i):i):Qn(i)}const e0={__proto__:null,[Symbol.iterator](){return oo(this,Symbol.iterator,n=>ar(this,n))},concat(...n){return kr(this).concat(...n.map(i=>ve(i)?kr(i):i))},entries(){return oo(this,"entries",n=>(n[1]=ar(this,n[1]),n))},every(n,i){return Hn(this,"every",n,i,void 0,arguments)},filter(n,i){return Hn(this,"filter",n,i,a=>a.map(c=>ar(this,c)),arguments)},find(n,i){return Hn(this,"find",n,i,a=>ar(this,a),arguments)},findIndex(n,i){return Hn(this,"findIndex",n,i,void 0,arguments)},findLast(n,i){return Hn(this,"findLast",n,i,a=>ar(this,a),arguments)},findLastIndex(n,i){return Hn(this,"findLastIndex",n,i,void 0,arguments)},forEach(n,i){return Hn(this,"forEach",n,i,void 0,arguments)},includes(...n){return ao(this,"includes",n)},indexOf(...n){return ao(this,"indexOf",n)},join(n){return kr(this).join(n)},lastIndexOf(...n){return ao(this,"lastIndexOf",n)},map(n,i){return Hn(this,"map",n,i,void 0,arguments)},pop(){return li(this,"pop")},push(...n){return li(this,"push",n)},reduce(n,...i){return ka(this,"reduce",n,i)},reduceRight(n,...i){return ka(this,"reduceRight",n,i)},shift(){return li(this,"shift")},some(n,i){return Hn(this,"some",n,i,void 0,arguments)},splice(...n){return li(this,"splice",n)},toReversed(){return kr(this).toReversed()},toSorted(n){return kr(this).toSorted(n)},toSpliced(...n){return kr(this).toSpliced(...n)},unshift(...n){return li(this,"unshift",n)},values(){return oo(this,"values",n=>ar(this,n))}};function oo(n,i,a){const c=$o(n),f=c[i]();return c!==n&&!_n(n)&&(f._next=f.next,f.next=()=>{const h=f._next();return h.done||(h.value=a(h.value)),h}),f}const t0=Array.prototype;function Hn(n,i,a,c,f,h){const x=$o(n),m=x!==n&&!_n(n),E=x[i];if(E!==t0[i]){const y=E.apply(n,h);return m?Qn(y):y}let w=a;x!==n&&(m?w=function(y,N){return a.call(this,ar(n,y),N,n)}:a.length>2&&(w=function(y,N){return a.call(this,y,N,n)}));const b=E.call(x,w,c);return m&&f?f(b):b}function ka(n,i,a,c){const f=$o(n);let h=a;return f!==n&&(_n(n)?a.length>3&&(h=function(x,m,E){return a.call(this,x,m,E,n)}):h=function(x,m,E){return a.call(this,x,ar(n,m),E,n)}),f[i](h,...c)}function ao(n,i,a){const c=Je(n);Vt(c,"iterate",_i);const f=c[i](...a);return(f===-1||f===!1)&&na(a[0])?(a[0]=Je(a[0]),c[i](...a)):f}function li(n,i,a=[]){Zn(),Zo();const c=Je(n)[i].apply(n,a);return qo(),qn(),c}const n0=Go("__proto__,__v_isRef,__isVue"),_c=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Un));function r0(n){Un(n)||(n=String(n));const i=Je(this);return Vt(i,"has",n),i.hasOwnProperty(n)}class Sc{constructor(i=!1,a=!1){this._isReadonly=i,this._isShallow=a}get(i,a,c){if(a==="__v_skip")return i.__v_skip;const f=this._isReadonly,h=this._isShallow;if(a==="__v_isReactive")return!f;if(a==="__v_isReadonly")return f;if(a==="__v_isShallow")return h;if(a==="__v_raw")return c===(f?h?d0:Nc:h?Oc:Rc).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(c)?i:void 0;const x=ve(i);if(!f){let E;if(x&&(E=e0[a]))return E;if(a==="hasOwnProperty")return r0}const m=Reflect.get(i,a,Wt(i)?i:c);if((Un(a)?_c.has(a):n0(a))||(f||Vt(i,"get",a),h))return m;if(Wt(m)){const E=x&&jo(a)?m:m.value;return f&&nt(E)?So(E):E}return nt(m)?f?So(m):ys(m):m}}class Tc extends Sc{constructor(i=!1){super(!1,i)}set(i,a,c,f){let h=i[a];const x=ve(i)&&jo(a);if(!this._isShallow){const w=fr(h);if(!_n(c)&&!fr(c)&&(h=Je(h),c=Je(c)),!x&&Wt(h)&&!Wt(c))return w||(h.value=c),!0}const m=x?Number(a)<i.length:$e(i,a),E=Reflect.set(i,a,c,Wt(i)?i:f);return i===Je(f)&&(m?ur(c,h)&&zn(i,"set",a,c):zn(i,"add",a,c)),E}deleteProperty(i,a){const c=$e(i,a);i[a];const f=Reflect.deleteProperty(i,a);return f&&c&&zn(i,"delete",a,void 0),f}has(i,a){const c=Reflect.has(i,a);return(!Un(a)||!_c.has(a))&&Vt(i,"has",a),c}ownKeys(i){return Vt(i,"iterate",ve(i)?"length":_r),Reflect.ownKeys(i)}}class i0 extends Sc{constructor(i=!1){super(!0,i)}set(i,a){return!0}deleteProperty(i,a){return!0}}const s0=new Tc,o0=new i0,a0=new Tc(!0);const _o=n=>n,Ki=n=>Reflect.getPrototypeOf(n);function l0(n,i,a){return function(...c){const f=this.__v_raw,h=Je(f),x=Xr(h),m=n==="entries"||n===Symbol.iterator&&x,E=n==="keys"&&x,w=f[n](...c),b=a?_o:i?Si:Qn;return!i&&Vt(h,"iterate",E?Io:_r),Ft(Object.create(w),{next(){const{value:y,done:N}=w.next();return N?{value:y,done:N}:{value:m?[b(y[0]),b(y[1])]:b(y),done:N}}})}}function Zi(n){return function(...i){return n==="delete"?!1:n==="clear"?void 0:this}}function c0(n,i){const a={get(f){const h=this.__v_raw,x=Je(h),m=Je(f);n||(ur(f,m)&&Vt(x,"get",f),Vt(x,"get",m));const{has:E}=Ki(x),w=i?_o:n?Si:Qn;if(E.call(x,f))return w(h.get(f));if(E.call(x,m))return w(h.get(m));h!==x&&h.get(f)},get size(){const f=this.__v_raw;return!n&&Vt(Je(f),"iterate",_r),f.size},has(f){const h=this.__v_raw,x=Je(h),m=Je(f);return n||(ur(f,m)&&Vt(x,"has",f),Vt(x,"has",m)),f===m?h.has(f):h.has(f)||h.has(m)},forEach(f,h){const x=this,m=x.__v_raw,E=Je(m),w=i?_o:n?Si:Qn;return!n&&Vt(E,"iterate",_r),m.forEach((b,y)=>f.call(h,w(b),w(y),x))}};return Ft(a,n?{add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear")}:{add(f){!i&&!_n(f)&&!fr(f)&&(f=Je(f));const h=Je(this);return Ki(h).has.call(h,f)||(h.add(f),zn(h,"add",f,f)),this},set(f,h){!i&&!_n(h)&&!fr(h)&&(h=Je(h));const x=Je(this),{has:m,get:E}=Ki(x);let w=m.call(x,f);w||(f=Je(f),w=m.call(x,f));const b=E.call(x,f);return x.set(f,h),w?ur(h,b)&&zn(x,"set",f,h):zn(x,"add",f,h),this},delete(f){const h=Je(this),{has:x,get:m}=Ki(h);let E=x.call(h,f);E||(f=Je(f),E=x.call(h,f)),m&&m.call(h,f);const w=h.delete(f);return E&&zn(h,"delete",f,void 0),w},clear(){const f=Je(this),h=f.size!==0,x=f.clear();return h&&zn(f,"clear",void 0,void 0),x}}),["keys","values","entries",Symbol.iterator].forEach(f=>{a[f]=l0(f,n,i)}),a}function ea(n,i){const a=c0(n,i);return(c,f,h)=>f==="__v_isReactive"?!n:f==="__v_isReadonly"?n:f==="__v_raw"?c:Reflect.get($e(a,f)&&f in c?a:c,f,h)}const u0={get:ea(!1,!1)},f0={get:ea(!1,!0)},h0={get:ea(!0,!1)};const Rc=new WeakMap,Oc=new WeakMap,Nc=new WeakMap,d0=new WeakMap;function g0(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function x0(n){return n.__v_skip||!Object.isExtensible(n)?0:g0(Vu(n))}function ys(n){return fr(n)?n:ta(n,!1,s0,u0,Rc)}function Dc(n){return ta(n,!1,a0,f0,Oc)}function So(n){return ta(n,!0,o0,h0,Nc)}function ta(n,i,a,c,f){if(!nt(n)||n.__v_raw&&!(i&&n.__v_isReactive))return n;const h=x0(n);if(h===0)return n;const x=f.get(n);if(x)return x;const m=new Proxy(n,h===2?c:a);return f.set(n,m),m}function jr(n){return fr(n)?jr(n.__v_raw):!!(n&&n.__v_isReactive)}function fr(n){return!!(n&&n.__v_isReadonly)}function _n(n){return!!(n&&n.__v_isShallow)}function na(n){return n?!!n.__v_raw:!1}function Je(n){const i=n&&n.__v_raw;return i?Je(i):n}function p0(n){return!$e(n,"__v_skip")&&Object.isExtensible(n)&&dc(n,"__v_skip",!0),n}const Qn=n=>nt(n)?ys(n):n,Si=n=>nt(n)?So(n):n;function Wt(n){return n?n.__v_isRef===!0:!1}function mn(n){return vc(n,!1)}function w0(n){return vc(n,!0)}function vc(n,i){return Wt(n)?n:new m0(n,i)}class m0{constructor(i,a){this.dep=new Jo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=a?i:Je(i),this._value=a?i:Qn(i),this.__v_isShallow=a}get value(){return this.dep.track(),this._value}set value(i){const a=this._rawValue,c=this.__v_isShallow||_n(i)||fr(i);i=c?i:Je(i),ur(i,a)&&(this._rawValue=i,this._value=c?i:Qn(i),this.dep.trigger())}}function zr(n){return Wt(n)?n.value:n}const E0={get:(n,i,a)=>i==="__v_raw"?n:zr(Reflect.get(n,i,a)),set:(n,i,a,c)=>{const f=n[i];return Wt(f)&&!Wt(a)?(f.value=a,!0):Reflect.set(n,i,a,c)}};function Mc(n){return jr(n)?n:new Proxy(n,E0)}class A0{constructor(i,a,c){this.fn=i,this.setter=a,this._value=void 0,this.dep=new Jo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ii-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!a,this.isSSR=c}notify(){if(this.flags|=16,!(this.flags&8)&&ut!==this)return Ec(this,!0),!0}get value(){const i=this.dep.track();return bc(this),i&&(i.version=this.dep.version),this._value}set value(i){this.setter&&this.setter(i)}}function C0(n,i,a=!1){let c,f;return Be(n)?c=n:(c=n.get,f=n.set),new A0(c,f,a)}const qi={},as=new WeakMap;let Cr;function b0(n,i=!1,a=Cr){if(a){let c=as.get(a);c||as.set(a,c=[]),c.push(n)}}function y0(n,i,a=ot){const{immediate:c,deep:f,once:h,scheduler:x,augmentJob:m,call:E}=a,w=q=>f?q:_n(q)||f===!1||f===0?Yn(q,1):Yn(q);let b,y,N,v,P=!1,L=!1;if(Wt(n)?(y=()=>n.value,P=_n(n)):jr(n)?(y=()=>w(n),P=!0):ve(n)?(L=!0,P=n.some(q=>jr(q)||_n(q)),y=()=>n.map(q=>{if(Wt(q))return q.value;if(jr(q))return w(q);if(Be(q))return E?E(q,2):q()})):Be(n)?i?y=E?()=>E(n,2):n:y=()=>{if(N){Zn();try{N()}finally{qn()}}const q=Cr;Cr=b;try{return E?E(n,3,[v]):n(v)}finally{Cr=q}}:y=Fn,i&&f){const q=y,ge=f===!0?1/0:f;y=()=>Yn(q(),ge)}const z=Qu(),le=()=>{b.stop(),z&&z.active&&Xo(z.effects,b)};if(h&&i){const q=i;i=(...ge)=>{q(...ge),le()}}let J=L?new Array(n.length).fill(qi):qi;const j=q=>{if(!(!(b.flags&1)||!b.dirty&&!q))if(i){const ge=b.run();if(f||P||(L?ge.some((we,Y)=>ur(we,J[Y])):ur(ge,J))){N&&N();const we=Cr;Cr=b;try{const Y=[ge,J===qi?void 0:L&&J[0]===qi?[]:J,v];J=ge,E?E(i,3,Y):i(...Y)}finally{Cr=we}}}else b.run()};return m&&m(j),b=new wc(y),b.scheduler=x?()=>x(j,!1):j,v=q=>b0(q,!1,b),N=b.onStop=()=>{const q=as.get(b);if(q){if(E)E(q,4);else for(const ge of q)ge();as.delete(b)}},i?c?j(!0):J=b.run():x?x(j.bind(null,!0),!0):b.run(),le.pause=b.pause.bind(b),le.resume=b.resume.bind(b),le.stop=le,le}function Yn(n,i=1/0,a){if(i<=0||!nt(n)||n.__v_skip||(a=a||new Map,(a.get(n)||0)>=i))return n;if(a.set(n,i),i--,Wt(n))Yn(n.value,i,a);else if(ve(n))for(let c=0;c<n.length;c++)Yn(n[c],i,a);else if(cc(n)||Xr(n))n.forEach(c=>{Yn(c,i,a)});else if(hc(n)){for(const c in n)Yn(n[c],i,a);for(const c of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,c)&&Yn(n[c],i,a)}return n}function vi(n,i,a,c){try{return c?n(...c):n()}catch(f){Is(f,i,a)}}function Vn(n,i,a,c){if(Be(n)){const f=vi(n,i,a,c);return f&&uc(f)&&f.catch(h=>{Is(h,i,a)}),f}if(ve(n)){const f=[];for(let h=0;h<n.length;h++)f.push(Vn(n[h],i,a,c));return f}}function Is(n,i,a,c=!0){const f=i?i.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:x}=i&&i.appContext.config||ot;if(i){let m=i.parent;const E=i.proxy,w=`https://vuejs.org/error-reference/#runtime-${a}`;for(;m;){const b=m.ec;if(b){for(let y=0;y<b.length;y++)if(b[y](n,E,w)===!1)return}m=m.parent}if(h){Zn(),vi(h,null,10,[n,E,w]),qn();return}}I0(n,a,f,c,x)}function I0(n,i,a,c=!0,f=!1){if(f)throw n;console.error(n)}const Kt=[];let Pn=-1;const Yr=[];let lr=null,Ur=0;const Bc=Promise.resolve();let ls=null;function Pc(n){const i=ls||Bc;return n?i.then(this?n.bind(this):n):i}function _0(n){let i=Pn+1,a=Kt.length;for(;i<a;){const c=i+a>>>1,f=Kt[c],h=Ti(f);h<n||h===n&&f.flags&2?i=c+1:a=c}return i}function ra(n){if(!(n.flags&1)){const i=Ti(n),a=Kt[Kt.length-1];!a||!(n.flags&2)&&i>=Ti(a)?Kt.push(n):Kt.splice(_0(i),0,n),n.flags|=1,Lc()}}function Lc(){ls||(ls=Bc.then(kc))}function S0(n){ve(n)?Yr.push(...n):lr&&n.id===-1?lr.splice(Ur+1,0,n):n.flags&1||(Yr.push(n),n.flags|=1),Lc()}function Ua(n,i,a=Pn+1){for(;a<Kt.length;a++){const c=Kt[a];if(c&&c.flags&2){if(n&&c.id!==n.uid)continue;Kt.splice(a,1),a--,c.flags&4&&(c.flags&=-2),c(),c.flags&4||(c.flags&=-2)}}}function Fc(n){if(Yr.length){const i=[...new Set(Yr)].sort((a,c)=>Ti(a)-Ti(c));if(Yr.length=0,lr){lr.push(...i);return}for(lr=i,Ur=0;Ur<lr.length;Ur++){const a=lr[Ur];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}lr=null,Ur=0}}const Ti=n=>n.id==null?n.flags&2?-1:1/0:n.id;function kc(n){try{for(Pn=0;Pn<Kt.length;Pn++){const i=Kt[Pn];i&&!(i.flags&8)&&(i.flags&4&&(i.flags&=-2),vi(i,i.i,i.i?15:14),i.flags&4||(i.flags&=-2))}}finally{for(;Pn<Kt.length;Pn++){const i=Kt[Pn];i&&(i.flags&=-2)}Pn=-1,Kt.length=0,Fc(),ls=null,(Kt.length||Yr.length)&&kc()}}let ln=null,Uc=null;function cs(n){const i=ln;return ln=n,Uc=n&&n.type.__scopeId||null,i}function T0(n,i=ln,a){if(!i||n._n)return n;const c=(...f)=>{c._d&&hs(-1);const h=cs(i);let x;try{x=n(...f)}finally{cs(h),c._d&&hs(1)}return x};return c._n=!0,c._c=!0,c._d=!0,c}function Va(n,i){if(ln===null)return n;const a=Os(ln),c=n.dirs||(n.dirs=[]);for(let f=0;f<i.length;f++){let[h,x,m,E=ot]=i[f];h&&(Be(h)&&(h={mounted:h,updated:h}),h.deep&&Yn(x),c.push({dir:h,instance:a,value:x,oldValue:void 0,arg:m,modifiers:E}))}return n}function Er(n,i,a,c){const f=n.dirs,h=i&&i.dirs;for(let x=0;x<f.length;x++){const m=f[x];h&&(m.oldValue=h[x].value);let E=m.dir[c];E&&(Zn(),Vn(E,a,8,[n.el,m,n,i]),qn())}}function es(n,i){if(Ht){let a=Ht.provides;const c=Ht.parent&&Ht.parent.provides;c===a&&(a=Ht.provides=Object.create(c)),a[n]=i}}function kn(n,i,a=!1){const c=Of();if(c||Kr){let f=Kr?Kr._context.provides:c?c.parent==null||c.ce?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides:void 0;if(f&&n in f)return f[n];if(arguments.length>1)return a&&Be(i)?i.call(c&&c.proxy):i}}const R0=Symbol.for("v-scx"),O0=()=>kn(R0);function ts(n,i,a){return Vc(n,i,a)}function Vc(n,i,a=ot){const{immediate:c,deep:f,flush:h,once:x}=a,m=Ft({},a),E=i&&c||!i&&h!=="post";let w;if(Oi){if(h==="sync"){const v=O0();w=v.__watcherHandles||(v.__watcherHandles=[])}else if(!E){const v=()=>{};return v.stop=Fn,v.resume=Fn,v.pause=Fn,v}}const b=Ht;m.call=(v,P,L)=>Vn(v,b,P,L);let y=!1;h==="post"?m.scheduler=v=>{tn(v,b&&b.suspense)}:h!=="sync"&&(y=!0,m.scheduler=(v,P)=>{P?v():ra(v)}),m.augmentJob=v=>{i&&(v.flags|=4),y&&(v.flags|=2,b&&(v.id=b.uid,v.i=b))};const N=y0(n,i,m);return Oi&&(w?w.push(N):E&&N()),N}function N0(n,i,a){const c=this.proxy,f=Ot(n)?n.includes(".")?Hc(c,n):()=>c[n]:n.bind(c,c);let h;Be(i)?h=i:(h=i.handler,a=i);const x=Mi(this),m=Vc(f,h.bind(c),a);return x(),m}function Hc(n,i){const a=i.split(".");return()=>{let c=n;for(let f=0;f<a.length&&c;f++)c=c[a[f]];return c}}const D0=Symbol("_vte"),v0=n=>n.__isTeleport,M0=Symbol("_leaveCb");function ia(n,i){n.shapeFlag&6&&n.component?(n.transition=i,ia(n.component.subTree,i)):n.shapeFlag&128?(n.ssContent.transition=i.clone(n.ssContent),n.ssFallback.transition=i.clone(n.ssFallback)):n.transition=i}function _s(n,i){return Be(n)?Ft({name:n.name},i,{setup:n}):n}function Gc(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Ha(n,i){let a;return!!((a=Object.getOwnPropertyDescriptor(n,i))&&!a.configurable)}const us=new WeakMap;function mi(n,i,a,c,f=!1){if(ve(n)){n.forEach((L,z)=>mi(L,i&&(ve(i)?i[z]:i),a,c,f));return}if(Ei(c)&&!f){c.shapeFlag&512&&c.type.__asyncResolved&&c.component.subTree.component&&mi(n,i,a,c.component.subTree);return}const h=c.shapeFlag&4?Os(c.component):c.el,x=f?null:h,{i:m,r:E}=n,w=i&&i.r,b=m.refs===ot?m.refs={}:m.refs,y=m.setupState,N=Je(y),v=y===ot?lc:L=>Ha(b,L)?!1:$e(N,L),P=(L,z)=>!(z&&Ha(b,z));if(w!=null&&w!==E){if(Ga(i),Ot(w))b[w]=null,v(w)&&(y[w]=null);else if(Wt(w)){const L=i;P(w,L.k)&&(w.value=null),L.k&&(b[L.k]=null)}}if(Be(E))vi(E,m,12,[x,b]);else{const L=Ot(E),z=Wt(E);if(L||z){const le=()=>{if(n.f){const J=L?v(E)?y[E]:b[E]:P()||!n.k?E.value:b[n.k];if(f)ve(J)&&Xo(J,h);else if(ve(J))J.includes(h)||J.push(h);else if(L)b[E]=[h],v(E)&&(y[E]=b[E]);else{const j=[h];P(E,n.k)&&(E.value=j),n.k&&(b[n.k]=j)}}else L?(b[E]=x,v(E)&&(y[E]=x)):z&&(P(E,n.k)&&(E.value=x),n.k&&(b[n.k]=x))};if(x){const J=()=>{le(),us.delete(n)};J.id=-1,us.set(n,J),tn(J,a)}else Ga(n),le()}}}function Ga(n){const i=us.get(n);i&&(i.flags|=8,us.delete(n))}bs().requestIdleCallback;bs().cancelIdleCallback;const Ei=n=>!!n.type.__asyncLoader,Wc=n=>n.type.__isKeepAlive;function B0(n,i){Xc(n,"a",i)}function P0(n,i){Xc(n,"da",i)}function Xc(n,i,a=Ht){const c=n.__wdc||(n.__wdc=()=>{let f=a;for(;f;){if(f.isDeactivated)return;f=f.parent}return n()});if(Ss(i,c,a),a){let f=a.parent;for(;f&&f.parent;)Wc(f.parent.vnode)&&L0(c,i,a,f),f=f.parent}}function L0(n,i,a,c){const f=Ss(i,n,c,!0);Yc(()=>{Xo(c[i],f)},a)}function Ss(n,i,a=Ht,c=!1){if(a){const f=a[n]||(a[n]=[]),h=i.__weh||(i.__weh=(...x)=>{Zn();const m=Mi(a),E=Vn(i,a,n,x);return m(),qn(),E});return c?f.unshift(h):f.push(h),h}}const Jn=n=>(i,a=Ht)=>{(!Oi||n==="sp")&&Ss(n,(...c)=>i(...c),a)},F0=Jn("bm"),jc=Jn("m"),k0=Jn("bu"),U0=Jn("u"),zc=Jn("bum"),Yc=Jn("um"),V0=Jn("sp"),H0=Jn("rtg"),G0=Jn("rtc");function W0(n,i=Ht){Ss("ec",n,i)}const X0="components";function j0(n,i){return Y0(X0,n,!0,i)||n}const z0=Symbol.for("v-ndc");function Y0(n,i,a=!0,c=!1){const f=ln||Ht;if(f){const h=f.type;{const m=Bf(h,!1);if(m&&(m===i||m===Cn(i)||m===Cs(Cn(i))))return h}const x=Wa(f[n]||h[n],i)||Wa(f.appContext[n],i);return!x&&c?h:x}}function Wa(n,i){return n&&(n[i]||n[Cn(i)]||n[Cs(Cn(i))])}const To=n=>n?x1(n)?Os(n):To(n.parent):null,Ai=Ft(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>To(n.parent),$root:n=>To(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Zc(n),$forceUpdate:n=>n.f||(n.f=()=>{ra(n.update)}),$nextTick:n=>n.n||(n.n=Pc.bind(n.proxy)),$watch:n=>N0.bind(n)}),lo=(n,i)=>n!==ot&&!n.__isScriptSetup&&$e(n,i),K0={get({_:n},i){if(i==="__v_skip")return!0;const{ctx:a,setupState:c,data:f,props:h,accessCache:x,type:m,appContext:E}=n;if(i[0]!=="$"){const N=x[i];if(N!==void 0)switch(N){case 1:return c[i];case 2:return f[i];case 4:return a[i];case 3:return h[i]}else{if(lo(c,i))return x[i]=1,c[i];if(f!==ot&&$e(f,i))return x[i]=2,f[i];if($e(h,i))return x[i]=3,h[i];if(a!==ot&&$e(a,i))return x[i]=4,a[i];Ro&&(x[i]=0)}}const w=Ai[i];let b,y;if(w)return i==="$attrs"&&Vt(n.attrs,"get",""),w(n);if((b=m.__cssModules)&&(b=b[i]))return b;if(a!==ot&&$e(a,i))return x[i]=4,a[i];if(y=E.config.globalProperties,$e(y,i))return y[i]},set({_:n},i,a){const{data:c,setupState:f,ctx:h}=n;return lo(f,i)?(f[i]=a,!0):c!==ot&&$e(c,i)?(c[i]=a,!0):$e(n.props,i)||i[0]==="$"&&i.slice(1)in n?!1:(h[i]=a,!0)},has({_:{data:n,setupState:i,accessCache:a,ctx:c,appContext:f,props:h,type:x}},m){let E;return!!(a[m]||n!==ot&&m[0]!=="$"&&$e(n,m)||lo(i,m)||$e(h,m)||$e(c,m)||$e(Ai,m)||$e(f.config.globalProperties,m)||(E=x.__cssModules)&&E[m])},defineProperty(n,i,a){return a.get!=null?n._.accessCache[i]=0:$e(a,"value")&&this.set(n,i,a.value,null),Reflect.defineProperty(n,i,a)}};function Xa(n){return ve(n)?n.reduce((i,a)=>(i[a]=null,i),{}):n}let Ro=!0;function Z0(n){const i=Zc(n),a=n.proxy,c=n.ctx;Ro=!1,i.beforeCreate&&ja(i.beforeCreate,n,"bc");const{data:f,computed:h,methods:x,watch:m,provide:E,inject:w,created:b,beforeMount:y,mounted:N,beforeUpdate:v,updated:P,activated:L,deactivated:z,beforeDestroy:le,beforeUnmount:J,destroyed:j,unmounted:q,render:ge,renderTracked:we,renderTriggered:Y,errorCaptured:Me,serverPrefetch:te,expose:It,inheritAttrs:at,components:me,directives:Ne,filters:ze}=i;if(w&&q0(w,c,null),x)for(const fe in x){const De=x[fe];Be(De)&&(c[fe]=De.bind(a))}if(f){const fe=f.call(a,a);nt(fe)&&(n.data=ys(fe))}if(Ro=!0,h)for(const fe in h){const De=h[fe],Ct=Be(De)?De.bind(a,a):Be(De.get)?De.get.bind(a,a):Fn,_t=!Be(De)&&Be(De.set)?De.set.bind(a):Fn,pt=An({get:Ct,set:_t});Object.defineProperty(c,fe,{enumerable:!0,configurable:!0,get:()=>pt.value,set:Ve=>pt.value=Ve})}if(m)for(const fe in m)Kc(m[fe],c,a,fe);if(E){const fe=Be(E)?E.call(a):E;Reflect.ownKeys(fe).forEach(De=>{es(De,fe[De])})}b&&ja(b,n,"c");function ye(fe,De){ve(De)?De.forEach(Ct=>fe(Ct.bind(a))):De&&fe(De.bind(a))}if(ye(F0,y),ye(jc,N),ye(k0,v),ye(U0,P),ye(B0,L),ye(P0,z),ye(W0,Me),ye(G0,we),ye(H0,Y),ye(zc,J),ye(Yc,q),ye(V0,te),ve(It))if(It.length){const fe=n.exposed||(n.exposed={});It.forEach(De=>{Object.defineProperty(fe,De,{get:()=>a[De],set:Ct=>a[De]=Ct,enumerable:!0})})}else n.exposed||(n.exposed={});ge&&n.render===Fn&&(n.render=ge),at!=null&&(n.inheritAttrs=at),me&&(n.components=me),Ne&&(n.directives=Ne),te&&Gc(n)}function q0(n,i,a=Fn){ve(n)&&(n=Oo(n));for(const c in n){const f=n[c];let h;nt(f)?"default"in f?h=kn(f.from||c,f.default,!0):h=kn(f.from||c):h=kn(f),Wt(h)?Object.defineProperty(i,c,{enumerable:!0,configurable:!0,get:()=>h.value,set:x=>h.value=x}):i[c]=h}}function ja(n,i,a){Vn(ve(n)?n.map(c=>c.bind(i.proxy)):n.bind(i.proxy),i,a)}function Kc(n,i,a,c){let f=c.includes(".")?Hc(a,c):()=>a[c];if(Ot(n)){const h=i[n];Be(h)&&ts(f,h)}else if(Be(n))ts(f,n.bind(a));else if(nt(n))if(ve(n))n.forEach(h=>Kc(h,i,a,c));else{const h=Be(n.handler)?n.handler.bind(a):i[n.handler];Be(h)&&ts(f,h,n)}}function Zc(n){const i=n.type,{mixins:a,extends:c}=i,{mixins:f,optionsCache:h,config:{optionMergeStrategies:x}}=n.appContext,m=h.get(i);let E;return m?E=m:!f.length&&!a&&!c?E=i:(E={},f.length&&f.forEach(w=>fs(E,w,x,!0)),fs(E,i,x)),nt(i)&&h.set(i,E),E}function fs(n,i,a,c=!1){const{mixins:f,extends:h}=i;h&&fs(n,h,a,!0),f&&f.forEach(x=>fs(n,x,a,!0));for(const x in i)if(!(c&&x==="expose")){const m=Q0[x]||a&&a[x];n[x]=m?m(n[x],i[x]):i[x]}return n}const Q0={data:za,props:Ya,emits:Ya,methods:di,computed:di,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:di,directives:di,watch:$0,provide:za,inject:J0};function za(n,i){return i?n?function(){return Ft(Be(n)?n.call(this,this):n,Be(i)?i.call(this,this):i)}:i:n}function J0(n,i){return di(Oo(n),Oo(i))}function Oo(n){if(ve(n)){const i={};for(let a=0;a<n.length;a++)i[n[a]]=n[a];return i}return n}function zt(n,i){return n?[...new Set([].concat(n,i))]:i}function di(n,i){return n?Ft(Object.create(null),n,i):i}function Ya(n,i){return n?ve(n)&&ve(i)?[...new Set([...n,...i])]:Ft(Object.create(null),Xa(n),Xa(i??{})):i}function $0(n,i){if(!n)return i;if(!i)return n;const a=Ft(Object.create(null),n);for(const c in i)a[c]=zt(n[c],i[c]);return a}function qc(){return{app:null,config:{isNativeTag:lc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ef=0;function tf(n,i){return function(c,f=null){Be(c)||(c=Ft({},c)),f!=null&&!nt(f)&&(f=null);const h=qc(),x=new WeakSet,m=[];let E=!1;const w=h.app={_uid:ef++,_component:c,_props:f,_container:null,_context:h,_instance:null,version:Lf,get config(){return h.config},set config(b){},use(b,...y){return x.has(b)||(b&&Be(b.install)?(x.add(b),b.install(w,...y)):Be(b)&&(x.add(b),b(w,...y))),w},mixin(b){return h.mixins.includes(b)||h.mixins.push(b),w},component(b,y){return y?(h.components[b]=y,w):h.components[b]},directive(b,y){return y?(h.directives[b]=y,w):h.directives[b]},mount(b,y,N){if(!E){const v=w._ceVNode||un(c,f);return v.appContext=h,N===!0?N="svg":N===!1&&(N=void 0),n(v,b,N),E=!0,w._container=b,b.__vue_app__=w,Os(v.component)}},onUnmount(b){m.push(b)},unmount(){E&&(Vn(m,w._instance,16),n(null,w._container),delete w._container.__vue_app__)},provide(b,y){return h.provides[b]=y,w},runWithContext(b){const y=Kr;Kr=w;try{return b()}finally{Kr=y}}};return w}}let Kr=null;const nf=(n,i)=>i==="modelValue"||i==="model-value"?n.modelModifiers:n[`${i}Modifiers`]||n[`${Cn(i)}Modifiers`]||n[`${Rr(i)}Modifiers`];function rf(n,i,...a){if(n.isUnmounted)return;const c=n.vnode.props||ot;let f=a;const h=i.startsWith("update:"),x=h&&nf(c,i.slice(7));x&&(x.trim&&(f=a.map(b=>Ot(b)?b.trim():b)),x.number&&(f=a.map(zo)));let m,E=c[m=ro(i)]||c[m=ro(Cn(i))];!E&&h&&(E=c[m=ro(Rr(i))]),E&&Vn(E,n,6,f);const w=c[m+"Once"];if(w){if(!n.emitted)n.emitted={};else if(n.emitted[m])return;n.emitted[m]=!0,Vn(w,n,6,f)}}const sf=new WeakMap;function Qc(n,i,a=!1){const c=a?sf:i.emitsCache,f=c.get(n);if(f!==void 0)return f;const h=n.emits;let x={},m=!1;if(!Be(n)){const E=w=>{const b=Qc(w,i,!0);b&&(m=!0,Ft(x,b))};!a&&i.mixins.length&&i.mixins.forEach(E),n.extends&&E(n.extends),n.mixins&&n.mixins.forEach(E)}return!h&&!m?(nt(n)&&c.set(n,null),null):(ve(h)?h.forEach(E=>x[E]=null):Ft(x,h),nt(n)&&c.set(n,x),x)}function Ts(n,i){return!n||!Es(i)?!1:(i=i.slice(2).replace(/Once$/,""),$e(n,i[0].toLowerCase()+i.slice(1))||$e(n,Rr(i))||$e(n,i))}function Ka(n){const{type:i,vnode:a,proxy:c,withProxy:f,propsOptions:[h],slots:x,attrs:m,emit:E,render:w,renderCache:b,props:y,data:N,setupState:v,ctx:P,inheritAttrs:L}=n,z=cs(n);let le,J;try{if(a.shapeFlag&4){const q=f||c,ge=q;le=Ln(w.call(ge,q,b,y,v,N,P)),J=m}else{const q=i;le=Ln(q.length>1?q(y,{attrs:m,slots:x,emit:E}):q(y,null)),J=i.props?m:of(m)}}catch(q){Ci.length=0,Is(q,n,1),le=un(hr)}let j=le;if(J&&L!==!1){const q=Object.keys(J),{shapeFlag:ge}=j;q.length&&ge&7&&(h&&q.some(Wo)&&(J=af(J,h)),j=Zr(j,J,!1,!0))}return a.dirs&&(j=Zr(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(a.dirs):a.dirs),a.transition&&ia(j,a.transition),le=j,cs(z),le}const of=n=>{let i;for(const a in n)(a==="class"||a==="style"||Es(a))&&((i||(i={}))[a]=n[a]);return i},af=(n,i)=>{const a={};for(const c in n)(!Wo(c)||!(c.slice(9)in i))&&(a[c]=n[c]);return a};function lf(n,i,a){const{props:c,children:f,component:h}=n,{props:x,children:m,patchFlag:E}=i,w=h.emitsOptions;if(i.dirs||i.transition)return!0;if(a&&E>=0){if(E&1024)return!0;if(E&16)return c?Za(c,x,w):!!x;if(E&8){const b=i.dynamicProps;for(let y=0;y<b.length;y++){const N=b[y];if(Jc(x,c,N)&&!Ts(w,N))return!0}}}else return(f||m)&&(!m||!m.$stable)?!0:c===x?!1:c?x?Za(c,x,w):!0:!!x;return!1}function Za(n,i,a){const c=Object.keys(i);if(c.length!==Object.keys(n).length)return!0;for(let f=0;f<c.length;f++){const h=c[f];if(Jc(i,n,h)&&!Ts(a,h))return!0}return!1}function Jc(n,i,a){const c=n[a],f=i[a];return a==="style"&&nt(c)&&nt(f)?!Ko(c,f):c!==f}function cf({vnode:n,parent:i},a){for(;i;){const c=i.subTree;if(c.suspense&&c.suspense.activeBranch===n&&(c.el=n.el),c===n)(n=i.vnode).el=a,i=i.parent;else break}}const $c={},e1=()=>Object.create($c),t1=n=>Object.getPrototypeOf(n)===$c;function uf(n,i,a,c=!1){const f={},h=e1();n.propsDefaults=Object.create(null),n1(n,i,f,h);for(const x in n.propsOptions[0])x in f||(f[x]=void 0);a?n.props=c?f:Dc(f):n.type.props?n.props=f:n.props=h,n.attrs=h}function ff(n,i,a,c){const{props:f,attrs:h,vnode:{patchFlag:x}}=n,m=Je(f),[E]=n.propsOptions;let w=!1;if((c||x>0)&&!(x&16)){if(x&8){const b=n.vnode.dynamicProps;for(let y=0;y<b.length;y++){let N=b[y];if(Ts(n.emitsOptions,N))continue;const v=i[N];if(E)if($e(h,N))v!==h[N]&&(h[N]=v,w=!0);else{const P=Cn(N);f[P]=No(E,m,P,v,n,!1)}else v!==h[N]&&(h[N]=v,w=!0)}}}else{n1(n,i,f,h)&&(w=!0);let b;for(const y in m)(!i||!$e(i,y)&&((b=Rr(y))===y||!$e(i,b)))&&(E?a&&(a[y]!==void 0||a[b]!==void 0)&&(f[y]=No(E,m,y,void 0,n,!0)):delete f[y]);if(h!==m)for(const y in h)(!i||!$e(i,y))&&(delete h[y],w=!0)}w&&zn(n.attrs,"set","")}function n1(n,i,a,c){const[f,h]=n.propsOptions;let x=!1,m;if(i)for(let E in i){if(xi(E))continue;const w=i[E];let b;f&&$e(f,b=Cn(E))?!h||!h.includes(b)?a[b]=w:(m||(m={}))[b]=w:Ts(n.emitsOptions,E)||(!(E in c)||w!==c[E])&&(c[E]=w,x=!0)}if(h){const E=Je(a),w=m||ot;for(let b=0;b<h.length;b++){const y=h[b];a[y]=No(f,E,y,w[y],n,!$e(w,y))}}return x}function No(n,i,a,c,f,h){const x=n[a];if(x!=null){const m=$e(x,"default");if(m&&c===void 0){const E=x.default;if(x.type!==Function&&!x.skipFactory&&Be(E)){const{propsDefaults:w}=f;if(a in w)c=w[a];else{const b=Mi(f);c=w[a]=E.call(null,i),b()}}else c=E;f.ce&&f.ce._setProp(a,c)}x[0]&&(h&&!m?c=!1:x[1]&&(c===""||c===Rr(a))&&(c=!0))}return c}const hf=new WeakMap;function r1(n,i,a=!1){const c=a?hf:i.propsCache,f=c.get(n);if(f)return f;const h=n.props,x={},m=[];let E=!1;if(!Be(n)){const b=y=>{E=!0;const[N,v]=r1(y,i,!0);Ft(x,N),v&&m.push(...v)};!a&&i.mixins.length&&i.mixins.forEach(b),n.extends&&b(n.extends),n.mixins&&n.mixins.forEach(b)}if(!h&&!E)return nt(n)&&c.set(n,Wr),Wr;if(ve(h))for(let b=0;b<h.length;b++){const y=Cn(h[b]);qa(y)&&(x[y]=ot)}else if(h)for(const b in h){const y=Cn(b);if(qa(y)){const N=h[b],v=x[y]=ve(N)||Be(N)?{type:N}:Ft({},N),P=v.type;let L=!1,z=!0;if(ve(P))for(let le=0;le<P.length;++le){const J=P[le],j=Be(J)&&J.name;if(j==="Boolean"){L=!0;break}else j==="String"&&(z=!1)}else L=Be(P)&&P.name==="Boolean";v[0]=L,v[1]=z,(L||$e(v,"default"))&&m.push(y)}}const w=[x,m];return nt(n)&&c.set(n,w),w}function qa(n){return n[0]!=="$"&&!xi(n)}const sa=n=>n==="_"||n==="_ctx"||n==="$stable",oa=n=>ve(n)?n.map(Ln):[Ln(n)],df=(n,i,a)=>{if(i._n)return i;const c=T0((...f)=>oa(i(...f)),a);return c._c=!1,c},i1=(n,i,a)=>{const c=n._ctx;for(const f in n){if(sa(f))continue;const h=n[f];if(Be(h))i[f]=df(f,h,c);else if(h!=null){const x=oa(h);i[f]=()=>x}}},s1=(n,i)=>{const a=oa(i);n.slots.default=()=>a},o1=(n,i,a)=>{for(const c in i)(a||!sa(c))&&(n[c]=i[c])},gf=(n,i,a)=>{const c=n.slots=e1();if(n.vnode.shapeFlag&32){const f=i._;f?(o1(c,i,a),a&&dc(c,"_",f,!0)):i1(i,c)}else i&&s1(n,i)},xf=(n,i,a)=>{const{vnode:c,slots:f}=n;let h=!0,x=ot;if(c.shapeFlag&32){const m=i._;m?a&&m===1?h=!1:o1(f,i,a):(h=!i.$stable,i1(i,f)),x=i}else i&&(s1(n,i),x={default:1});if(h)for(const m in f)!sa(m)&&x[m]==null&&delete f[m]},tn=Af;function pf(n){return wf(n)}function wf(n,i){const a=bs();a.__VUE__=!0;const{insert:c,remove:f,patchProp:h,createElement:x,createText:m,createComment:E,setText:w,setElementText:b,parentNode:y,nextSibling:N,setScopeId:v=Fn,insertStaticContent:P}=n,L=(R,T,M,X=null,Z=null,W=null,ee=void 0,Q=null,se=!!T.dynamicChildren)=>{if(R===T)return;R&&!ci(R,T)&&(X=K(R),Ve(R,Z,W,!0),R=null),T.patchFlag===-2&&(se=!1,T.dynamicChildren=null);const{type:F,ref:Ce,shapeFlag:he}=T;switch(F){case Rs:z(R,T,M,X);break;case hr:le(R,T,M,X);break;case uo:R==null&&J(T,M,X,ee);break;case En:me(R,T,M,X,Z,W,ee,Q,se);break;default:he&1?ge(R,T,M,X,Z,W,ee,Q,se):he&6?Ne(R,T,M,X,Z,W,ee,Q,se):(he&64||he&128)&&F.process(R,T,M,X,Z,W,ee,Q,se,Ee)}Ce!=null&&Z?mi(Ce,R&&R.ref,W,T||R,!T):Ce==null&&R&&R.ref!=null&&mi(R.ref,null,W,R,!0)},z=(R,T,M,X)=>{if(R==null)c(T.el=m(T.children),M,X);else{const Z=T.el=R.el;T.children!==R.children&&w(Z,T.children)}},le=(R,T,M,X)=>{R==null?c(T.el=E(T.children||""),M,X):T.el=R.el},J=(R,T,M,X)=>{[R.el,R.anchor]=P(R.children,T,M,X,R.el,R.anchor)},j=({el:R,anchor:T},M,X)=>{let Z;for(;R&&R!==T;)Z=N(R),c(R,M,X),R=Z;c(T,M,X)},q=({el:R,anchor:T})=>{let M;for(;R&&R!==T;)M=N(R),f(R),R=M;f(T)},ge=(R,T,M,X,Z,W,ee,Q,se)=>{if(T.type==="svg"?ee="svg":T.type==="math"&&(ee="mathml"),R==null)we(T,M,X,Z,W,ee,Q,se);else{const F=R.el&&R.el._isVueCE?R.el:null;try{F&&F._beginPatch(),te(R,T,Z,W,ee,Q,se)}finally{F&&F._endPatch()}}},we=(R,T,M,X,Z,W,ee,Q)=>{let se,F;const{props:Ce,shapeFlag:he,transition:pe,dirs:Se}=R;if(se=R.el=x(R.type,W,Ce&&Ce.is,Ce),he&8?b(se,R.children):he&16&&Me(R.children,se,null,X,Z,co(R,W),ee,Q),Se&&Er(R,null,X,"created"),Y(se,R,R.scopeId,ee,X),Ce){for(const et in Ce)et!=="value"&&!xi(et)&&h(se,et,null,Ce[et],W,X);"value"in Ce&&h(se,"value",null,Ce.value,W),(F=Ce.onVnodeBeforeMount)&&Bn(F,X,R)}Se&&Er(R,null,X,"beforeMount");const Oe=mf(Z,pe);Oe&&pe.beforeEnter(se),c(se,T,M),((F=Ce&&Ce.onVnodeMounted)||Oe||Se)&&tn(()=>{F&&Bn(F,X,R),Oe&&pe.enter(se),Se&&Er(R,null,X,"mounted")},Z)},Y=(R,T,M,X,Z)=>{if(M&&v(R,M),X)for(let W=0;W<X.length;W++)v(R,X[W]);if(Z){let W=Z.subTree;if(T===W||u1(W.type)&&(W.ssContent===T||W.ssFallback===T)){const ee=Z.vnode;Y(R,ee,ee.scopeId,ee.slotScopeIds,Z.parent)}}},Me=(R,T,M,X,Z,W,ee,Q,se=0)=>{for(let F=se;F<R.length;F++){const Ce=R[F]=Q?jn(R[F]):Ln(R[F]);L(null,Ce,T,M,X,Z,W,ee,Q)}},te=(R,T,M,X,Z,W,ee)=>{const Q=T.el=R.el;let{patchFlag:se,dynamicChildren:F,dirs:Ce}=T;se|=R.patchFlag&16;const he=R.props||ot,pe=T.props||ot;let Se;if(M&&Ar(M,!1),(Se=pe.onVnodeBeforeUpdate)&&Bn(Se,M,T,R),Ce&&Er(T,R,M,"beforeUpdate"),M&&Ar(M,!0),(he.innerHTML&&pe.innerHTML==null||he.textContent&&pe.textContent==null)&&b(Q,""),F?It(R.dynamicChildren,F,Q,M,X,co(T,Z),W):ee||De(R,T,Q,null,M,X,co(T,Z),W,!1),se>0){if(se&16)at(Q,he,pe,M,Z);else if(se&2&&he.class!==pe.class&&h(Q,"class",null,pe.class,Z),se&4&&h(Q,"style",he.style,pe.style,Z),se&8){const Oe=T.dynamicProps;for(let et=0;et<Oe.length;et++){const ke=Oe[et],Ze=he[ke],Mt=pe[ke];(Mt!==Ze||ke==="value")&&h(Q,ke,Ze,Mt,Z,M)}}se&1&&R.children!==T.children&&b(Q,T.children)}else!ee&&F==null&&at(Q,he,pe,M,Z);((Se=pe.onVnodeUpdated)||Ce)&&tn(()=>{Se&&Bn(Se,M,T,R),Ce&&Er(T,R,M,"updated")},X)},It=(R,T,M,X,Z,W,ee)=>{for(let Q=0;Q<T.length;Q++){const se=R[Q],F=T[Q],Ce=se.el&&(se.type===En||!ci(se,F)||se.shapeFlag&198)?y(se.el):M;L(se,F,Ce,null,X,Z,W,ee,!0)}},at=(R,T,M,X,Z)=>{if(T!==M){if(T!==ot)for(const W in T)!xi(W)&&!(W in M)&&h(R,W,T[W],null,Z,X);for(const W in M){if(xi(W))continue;const ee=M[W],Q=T[W];ee!==Q&&W!=="value"&&h(R,W,Q,ee,Z,X)}"value"in M&&h(R,"value",T.value,M.value,Z)}},me=(R,T,M,X,Z,W,ee,Q,se)=>{const F=T.el=R?R.el:m(""),Ce=T.anchor=R?R.anchor:m("");let{patchFlag:he,dynamicChildren:pe,slotScopeIds:Se}=T;Se&&(Q=Q?Q.concat(Se):Se),R==null?(c(F,M,X),c(Ce,M,X),Me(T.children||[],M,Ce,Z,W,ee,Q,se)):he>0&&he&64&&pe&&R.dynamicChildren&&R.dynamicChildren.length===pe.length?(It(R.dynamicChildren,pe,M,Z,W,ee,Q),(T.key!=null||Z&&T===Z.subTree)&&a1(R,T,!0)):De(R,T,M,Ce,Z,W,ee,Q,se)},Ne=(R,T,M,X,Z,W,ee,Q,se)=>{T.slotScopeIds=Q,R==null?T.shapeFlag&512?Z.ctx.activate(T,M,X,ee,se):ze(T,M,X,Z,W,ee,se):G(R,T,se)},ze=(R,T,M,X,Z,W,ee)=>{const Q=R.component=Rf(R,X,Z);if(Wc(R)&&(Q.ctx.renderer=Ee),Nf(Q,!1,ee),Q.asyncDep){if(Z&&Z.registerDep(Q,ye,ee),!R.el){const se=Q.subTree=un(hr);le(null,se,T,M),R.placeholder=se.el}}else ye(Q,R,T,M,Z,W,ee)},G=(R,T,M)=>{const X=T.component=R.component;if(lf(R,T,M))if(X.asyncDep&&!X.asyncResolved){fe(X,T,M);return}else X.next=T,X.update();else T.el=R.el,X.vnode=T},ye=(R,T,M,X,Z,W,ee)=>{const Q=()=>{if(R.isMounted){let{next:he,bu:pe,u:Se,parent:Oe,vnode:et}=R;{const fn=l1(R);if(fn){he&&(he.el=et.el,fe(R,he,ee)),fn.asyncDep.then(()=>{tn(()=>{R.isUnmounted||F()},Z)});return}}let ke=he,Ze;Ar(R,!1),he?(he.el=et.el,fe(R,he,ee)):he=et,pe&&$i(pe),(Ze=he.props&&he.props.onVnodeBeforeUpdate)&&Bn(Ze,Oe,he,et),Ar(R,!0);const Mt=Ka(R),Xt=R.subTree;R.subTree=Mt,L(Xt,Mt,y(Xt.el),K(Xt),R,Z,W),he.el=Mt.el,ke===null&&cf(R,Mt.el),Se&&tn(Se,Z),(Ze=he.props&&he.props.onVnodeUpdated)&&tn(()=>Bn(Ze,Oe,he,et),Z)}else{let he;const{el:pe,props:Se}=T,{bm:Oe,m:et,parent:ke,root:Ze,type:Mt}=R,Xt=Ei(T);Ar(R,!1),Oe&&$i(Oe),!Xt&&(he=Se&&Se.onVnodeBeforeMount)&&Bn(he,ke,T),Ar(R,!0);{Ze.ce&&Ze.ce._hasShadowRoot()&&Ze.ce._injectChildStyle(Mt);const fn=R.subTree=Ka(R);L(null,fn,M,X,R,Z,W),T.el=fn.el}if(et&&tn(et,Z),!Xt&&(he=Se&&Se.onVnodeMounted)){const fn=T;tn(()=>Bn(he,ke,fn),Z)}(T.shapeFlag&256||ke&&Ei(ke.vnode)&&ke.vnode.shapeFlag&256)&&R.a&&tn(R.a,Z),R.isMounted=!0,T=M=X=null}};R.scope.on();const se=R.effect=new wc(Q);R.scope.off();const F=R.update=se.run.bind(se),Ce=R.job=se.runIfDirty.bind(se);Ce.i=R,Ce.id=R.uid,se.scheduler=()=>ra(Ce),Ar(R,!0),F()},fe=(R,T,M)=>{T.component=R;const X=R.vnode.props;R.vnode=T,R.next=null,ff(R,T.props,X,M),xf(R,T.children,M),Zn(),Ua(R),qn()},De=(R,T,M,X,Z,W,ee,Q,se=!1)=>{const F=R&&R.children,Ce=R?R.shapeFlag:0,he=T.children,{patchFlag:pe,shapeFlag:Se}=T;if(pe>0){if(pe&128){_t(F,he,M,X,Z,W,ee,Q,se);return}else if(pe&256){Ct(F,he,M,X,Z,W,ee,Q,se);return}}Se&8?(Ce&16&&xe(F,Z,W),he!==F&&b(M,he)):Ce&16?Se&16?_t(F,he,M,X,Z,W,ee,Q,se):xe(F,Z,W,!0):(Ce&8&&b(M,""),Se&16&&Me(he,M,X,Z,W,ee,Q,se))},Ct=(R,T,M,X,Z,W,ee,Q,se)=>{R=R||Wr,T=T||Wr;const F=R.length,Ce=T.length,he=Math.min(F,Ce);let pe;for(pe=0;pe<he;pe++){const Se=T[pe]=se?jn(T[pe]):Ln(T[pe]);L(R[pe],Se,M,null,Z,W,ee,Q,se)}F>Ce?xe(R,Z,W,!0,!1,he):Me(T,M,X,Z,W,ee,Q,se,he)},_t=(R,T,M,X,Z,W,ee,Q,se)=>{let F=0;const Ce=T.length;let he=R.length-1,pe=Ce-1;for(;F<=he&&F<=pe;){const Se=R[F],Oe=T[F]=se?jn(T[F]):Ln(T[F]);if(ci(Se,Oe))L(Se,Oe,M,null,Z,W,ee,Q,se);else break;F++}for(;F<=he&&F<=pe;){const Se=R[he],Oe=T[pe]=se?jn(T[pe]):Ln(T[pe]);if(ci(Se,Oe))L(Se,Oe,M,null,Z,W,ee,Q,se);else break;he--,pe--}if(F>he){if(F<=pe){const Se=pe+1,Oe=Se<Ce?T[Se].el:X;for(;F<=pe;)L(null,T[F]=se?jn(T[F]):Ln(T[F]),M,Oe,Z,W,ee,Q,se),F++}}else if(F>pe)for(;F<=he;)Ve(R[F],Z,W,!0),F++;else{const Se=F,Oe=F,et=new Map;for(F=Oe;F<=pe;F++){const Xe=T[F]=se?jn(T[F]):Ln(T[F]);Xe.key!=null&&et.set(Xe.key,F)}let ke,Ze=0;const Mt=pe-Oe+1;let Xt=!1,fn=0;const lt=new Array(Mt);for(F=0;F<Mt;F++)lt[F]=0;for(F=Se;F<=he;F++){const Xe=R[F];if(Ze>=Mt){Ve(Xe,Z,W,!0);continue}let Ue;if(Xe.key!=null)Ue=et.get(Xe.key);else for(ke=Oe;ke<=pe;ke++)if(lt[ke-Oe]===0&&ci(Xe,T[ke])){Ue=ke;break}Ue===void 0?Ve(Xe,Z,W,!0):(lt[Ue-Oe]=F+1,Ue>=fn?fn=Ue:Xt=!0,L(Xe,T[Ue],M,null,Z,W,ee,Q,se),Ze++)}const ae=Xt?Ef(lt):Wr;for(ke=ae.length-1,F=Mt-1;F>=0;F--){const Xe=Oe+F,Ue=T[Xe],ft=T[Xe+1],$n=Xe+1<Ce?ft.el||c1(ft):X;lt[F]===0?L(null,Ue,M,$n,Z,W,ee,Q,se):Xt&&(ke<0||F!==ae[ke]?pt(Ue,M,$n,2):ke--)}}},pt=(R,T,M,X,Z=null)=>{const{el:W,type:ee,transition:Q,children:se,shapeFlag:F}=R;if(F&6){pt(R.component.subTree,T,M,X);return}if(F&128){R.suspense.move(T,M,X);return}if(F&64){ee.move(R,T,M,Ee);return}if(ee===En){c(W,T,M);for(let he=0;he<se.length;he++)pt(se[he],T,M,X);c(R.anchor,T,M);return}if(ee===uo){j(R,T,M);return}if(X!==2&&F&1&&Q)if(X===0)Q.beforeEnter(W),c(W,T,M),tn(()=>Q.enter(W),Z);else{const{leave:he,delayLeave:pe,afterLeave:Se}=Q,Oe=()=>{R.ctx.isUnmounted?f(W):c(W,T,M)},et=()=>{W._isLeaving&&W[M0](!0),he(W,()=>{Oe(),Se&&Se()})};pe?pe(W,Oe,et):et()}else c(W,T,M)},Ve=(R,T,M,X=!1,Z=!1)=>{const{type:W,props:ee,ref:Q,children:se,dynamicChildren:F,shapeFlag:Ce,patchFlag:he,dirs:pe,cacheIndex:Se}=R;if(he===-2&&(Z=!1),Q!=null&&(Zn(),mi(Q,null,M,R,!0),qn()),Se!=null&&(T.renderCache[Se]=void 0),Ce&256){T.ctx.deactivate(R);return}const Oe=Ce&1&&pe,et=!Ei(R);let ke;if(et&&(ke=ee&&ee.onVnodeBeforeUnmount)&&Bn(ke,T,R),Ce&6)Zt(R.component,M,X);else{if(Ce&128){R.suspense.unmount(M,X);return}Oe&&Er(R,null,T,"beforeUnmount"),Ce&64?R.type.remove(R,T,M,Ee,X):F&&!F.hasOnce&&(W!==En||he>0&&he&64)?xe(F,T,M,!1,!0):(W===En&&he&384||!Z&&Ce&16)&&xe(se,T,M),X&&Nt(R)}(et&&(ke=ee&&ee.onVnodeUnmounted)||Oe)&&tn(()=>{ke&&Bn(ke,T,R),Oe&&Er(R,null,T,"unmounted")},M)},Nt=R=>{const{type:T,el:M,anchor:X,transition:Z}=R;if(T===En){rt(M,X);return}if(T===uo){q(R);return}const W=()=>{f(M),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(R.shapeFlag&1&&Z&&!Z.persisted){const{leave:ee,delayLeave:Q}=Z,se=()=>ee(M,W);Q?Q(R.el,W,se):se()}else W()},rt=(R,T)=>{let M;for(;R!==T;)M=N(R),f(R),R=M;f(T)},Zt=(R,T,M)=>{const{bum:X,scope:Z,job:W,subTree:ee,um:Q,m:se,a:F}=R;Qa(se),Qa(F),X&&$i(X),Z.stop(),W&&(W.flags|=8,Ve(ee,R,T,M)),Q&&tn(Q,T),tn(()=>{R.isUnmounted=!0},T)},xe=(R,T,M,X=!1,Z=!1,W=0)=>{for(let ee=W;ee<R.length;ee++)Ve(R[ee],T,M,X,Z)},K=R=>{if(R.shapeFlag&6)return K(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const T=N(R.anchor||R.el),M=T&&T[D0];return M?N(M):T};let oe=!1;const ce=(R,T,M)=>{let X;R==null?T._vnode&&(Ve(T._vnode,null,null,!0),X=T._vnode.component):L(T._vnode||null,R,T,null,null,null,M),T._vnode=R,oe||(oe=!0,Ua(X),Fc(),oe=!1)},Ee={p:L,um:Ve,m:pt,r:Nt,mt:ze,mc:Me,pc:De,pbc:It,n:K,o:n};return{render:ce,hydrate:void 0,createApp:tf(ce)}}function co({type:n,props:i},a){return a==="svg"&&n==="foreignObject"||a==="mathml"&&n==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:a}function Ar({effect:n,job:i},a){a?(n.flags|=32,i.flags|=4):(n.flags&=-33,i.flags&=-5)}function mf(n,i){return(!n||n&&!n.pendingBranch)&&i&&!i.persisted}function a1(n,i,a=!1){const c=n.children,f=i.children;if(ve(c)&&ve(f))for(let h=0;h<c.length;h++){const x=c[h];let m=f[h];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=f[h]=jn(f[h]),m.el=x.el),!a&&m.patchFlag!==-2&&a1(x,m)),m.type===Rs&&(m.patchFlag===-1&&(m=f[h]=jn(m)),m.el=x.el),m.type===hr&&!m.el&&(m.el=x.el)}}function Ef(n){const i=n.slice(),a=[0];let c,f,h,x,m;const E=n.length;for(c=0;c<E;c++){const w=n[c];if(w!==0){if(f=a[a.length-1],n[f]<w){i[c]=f,a.push(c);continue}for(h=0,x=a.length-1;h<x;)m=h+x>>1,n[a[m]]<w?h=m+1:x=m;w<n[a[h]]&&(h>0&&(i[c]=a[h-1]),a[h]=c)}}for(h=a.length,x=a[h-1];h-- >0;)a[h]=x,x=i[x];return a}function l1(n){const i=n.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:l1(i)}function Qa(n){if(n)for(let i=0;i<n.length;i++)n[i].flags|=8}function c1(n){if(n.placeholder)return n.placeholder;const i=n.component;return i?c1(i.subTree):null}const u1=n=>n.__isSuspense;function Af(n,i){i&&i.pendingBranch?ve(n)?i.effects.push(...n):i.effects.push(n):S0(n)}const En=Symbol.for("v-fgt"),Rs=Symbol.for("v-txt"),hr=Symbol.for("v-cmt"),uo=Symbol.for("v-stc"),Ci=[];let cn=null;function Kn(n=!1){Ci.push(cn=n?null:[])}function Cf(){Ci.pop(),cn=Ci[Ci.length-1]||null}let Ri=1;function hs(n,i=!1){Ri+=n,n<0&&cn&&i&&(cn.hasOnce=!0)}function f1(n){return n.dynamicChildren=Ri>0?cn||Wr:null,Cf(),Ri>0&&cn&&cn.push(n),n}function br(n,i,a,c,f,h){return f1(Ge(n,i,a,c,f,h,!0))}function h1(n,i,a,c,f){return f1(un(n,i,a,c,f,!0))}function ds(n){return n?n.__v_isVNode===!0:!1}function ci(n,i){return n.type===i.type&&n.key===i.key}const d1=({key:n})=>n??null,ns=({ref:n,ref_key:i,ref_for:a})=>(typeof n=="number"&&(n=""+n),n!=null?Ot(n)||Wt(n)||Be(n)?{i:ln,r:n,k:i,f:!!a}:n:null);function Ge(n,i=null,a=null,c=0,f=null,h=n===En?0:1,x=!1,m=!1){const E={__v_isVNode:!0,__v_skip:!0,type:n,props:i,key:i&&d1(i),ref:i&&ns(i),scopeId:Uc,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:c,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:ln};return m?(aa(E,a),h&128&&n.normalize(E)):a&&(E.shapeFlag|=Ot(a)?8:16),Ri>0&&!x&&cn&&(E.patchFlag>0||h&6)&&E.patchFlag!==32&&cn.push(E),E}const un=bf;function bf(n,i=null,a=null,c=0,f=null,h=!1){if((!n||n===z0)&&(n=hr),ds(n)){const m=Zr(n,i,!0);return a&&aa(m,a),Ri>0&&!h&&cn&&(m.shapeFlag&6?cn[cn.indexOf(n)]=m:cn.push(m)),m.patchFlag=-2,m}if(Pf(n)&&(n=n.__vccOpts),i){i=yf(i);let{class:m,style:E}=i;m&&!Ot(m)&&(i.class=yi(m)),nt(E)&&(na(E)&&!ve(E)&&(E=Ft({},E)),i.style=Yo(E))}const x=Ot(n)?1:u1(n)?128:v0(n)?64:nt(n)?4:Be(n)?2:0;return Ge(n,i,a,c,f,x,h,!0)}function yf(n){return n?na(n)||t1(n)?Ft({},n):n:null}function Zr(n,i,a=!1,c=!1){const{props:f,ref:h,patchFlag:x,children:m,transition:E}=n,w=i?_f(f||{},i):f,b={__v_isVNode:!0,__v_skip:!0,type:n.type,props:w,key:w&&d1(w),ref:i&&i.ref?a&&h?ve(h)?h.concat(ns(i)):[h,ns(i)]:ns(i):h,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:m,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:i&&n.type!==En?x===-1?16:x|16:x,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:E,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Zr(n.ssContent),ssFallback:n.ssFallback&&Zr(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return E&&c&&ia(b,E.clone(b)),b}function If(n=" ",i=0){return un(Rs,null,n,i)}function g1(n="",i=!1){return i?(Kn(),h1(hr,null,n)):un(hr,null,n)}function Ln(n){return n==null||typeof n=="boolean"?un(hr):ve(n)?un(En,null,n.slice()):ds(n)?jn(n):un(Rs,null,String(n))}function jn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Zr(n)}function aa(n,i){let a=0;const{shapeFlag:c}=n;if(i==null)i=null;else if(ve(i))a=16;else if(typeof i=="object")if(c&65){const f=i.default;f&&(f._c&&(f._d=!1),aa(n,f()),f._c&&(f._d=!0));return}else{a=32;const f=i._;!f&&!t1(i)?i._ctx=ln:f===3&&ln&&(ln.slots._===1?i._=1:(i._=2,n.patchFlag|=1024))}else Be(i)?(i={default:i,_ctx:ln},a=32):(i=String(i),c&64?(a=16,i=[If(i)]):a=8);n.children=i,n.shapeFlag|=a}function _f(...n){const i={};for(let a=0;a<n.length;a++){const c=n[a];for(const f in c)if(f==="class")i.class!==c.class&&(i.class=yi([i.class,c.class]));else if(f==="style")i.style=Yo([i.style,c.style]);else if(Es(f)){const h=i[f],x=c[f];x&&h!==x&&!(ve(h)&&h.includes(x))&&(i[f]=h?[].concat(h,x):x)}else f!==""&&(i[f]=c[f])}return i}function Bn(n,i,a,c=null){Vn(n,i,7,[a,c])}const Sf=qc();let Tf=0;function Rf(n,i,a){const c=n.type,f=(i?i.appContext:n.appContext)||Sf,h={uid:Tf++,vnode:n,type:c,parent:i,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(f.provides),ids:i?i.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:r1(c,f),emitsOptions:Qc(c,f),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:c.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=i?i.root:h,h.emit=rf.bind(null,h),n.ce&&n.ce(h),h}let Ht=null;const Of=()=>Ht||ln;let gs,Do;{const n=bs(),i=(a,c)=>{let f;return(f=n[a])||(f=n[a]=[]),f.push(c),h=>{f.length>1?f.forEach(x=>x(h)):f[0](h)}};gs=i("__VUE_INSTANCE_SETTERS__",a=>Ht=a),Do=i("__VUE_SSR_SETTERS__",a=>Oi=a)}const Mi=n=>{const i=Ht;return gs(n),n.scope.on(),()=>{n.scope.off(),gs(i)}},Ja=()=>{Ht&&Ht.scope.off(),gs(null)};function x1(n){return n.vnode.shapeFlag&4}let Oi=!1;function Nf(n,i=!1,a=!1){i&&Do(i);const{props:c,children:f}=n.vnode,h=x1(n);uf(n,c,h,i),gf(n,f,a||i);const x=h?Df(n,i):void 0;return i&&Do(!1),x}function Df(n,i){const a=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,K0);const{setup:c}=a;if(c){Zn();const f=n.setupContext=c.length>1?Mf(n):null,h=Mi(n),x=vi(c,n,0,[n.props,f]),m=uc(x);if(qn(),h(),(m||n.sp)&&!Ei(n)&&Gc(n),m){if(x.then(Ja,Ja),i)return x.then(E=>{$a(n,E)}).catch(E=>{Is(E,n,0)});n.asyncDep=x}else $a(n,x)}else p1(n)}function $a(n,i,a){Be(i)?n.type.__ssrInlineRender?n.ssrRender=i:n.render=i:nt(i)&&(n.setupState=Mc(i)),p1(n)}function p1(n,i,a){const c=n.type;n.render||(n.render=c.render||Fn);{const f=Mi(n);Zn();try{Z0(n)}finally{qn(),f()}}}const vf={get(n,i){return Vt(n,"get",""),n[i]}};function Mf(n){const i=a=>{n.exposed=a||{}};return{attrs:new Proxy(n.attrs,vf),slots:n.slots,emit:n.emit,expose:i}}function Os(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Mc(p0(n.exposed)),{get(i,a){if(a in i)return i[a];if(a in Ai)return Ai[a](n)},has(i,a){return a in i||a in Ai}})):n.proxy}function Bf(n,i=!0){return Be(n)?n.displayName||n.name:n.name||i&&n.__name}function Pf(n){return Be(n)&&"__vccOpts"in n}const An=(n,i)=>C0(n,i,Oi);function w1(n,i,a){try{hs(-1);const c=arguments.length;return c===2?nt(i)&&!ve(i)?ds(i)?un(n,null,[i]):un(n,i):un(n,null,i):(c>3?a=Array.prototype.slice.call(arguments,2):c===3&&ds(a)&&(a=[a]),un(n,i,a))}finally{hs(1)}}const Lf="3.5.28";let vo;const el=typeof window<"u"&&window.trustedTypes;if(el)try{vo=el.createPolicy("vue",{createHTML:n=>n})}catch{}const m1=vo?n=>vo.createHTML(n):n=>n,Ff="http://www.w3.org/2000/svg",kf="http://www.w3.org/1998/Math/MathML",Xn=typeof document<"u"?document:null,tl=Xn&&Xn.createElement("template"),Uf={insert:(n,i,a)=>{i.insertBefore(n,a||null)},remove:n=>{const i=n.parentNode;i&&i.removeChild(n)},createElement:(n,i,a,c)=>{const f=i==="svg"?Xn.createElementNS(Ff,n):i==="mathml"?Xn.createElementNS(kf,n):a?Xn.createElement(n,{is:a}):Xn.createElement(n);return n==="select"&&c&&c.multiple!=null&&f.setAttribute("multiple",c.multiple),f},createText:n=>Xn.createTextNode(n),createComment:n=>Xn.createComment(n),setText:(n,i)=>{n.nodeValue=i},setElementText:(n,i)=>{n.textContent=i},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Xn.querySelector(n),setScopeId(n,i){n.setAttribute(i,"")},insertStaticContent(n,i,a,c,f,h){const x=a?a.previousSibling:i.lastChild;if(f&&(f===h||f.nextSibling))for(;i.insertBefore(f.cloneNode(!0),a),!(f===h||!(f=f.nextSibling)););else{tl.innerHTML=m1(c==="svg"?`<svg>${n}</svg>`:c==="mathml"?`<math>${n}</math>`:n);const m=tl.content;if(c==="svg"||c==="mathml"){const E=m.firstChild;for(;E.firstChild;)m.appendChild(E.firstChild);m.removeChild(E)}i.insertBefore(m,a)}return[x?x.nextSibling:i.firstChild,a?a.previousSibling:i.lastChild]}},Vf=Symbol("_vtc");function Hf(n,i,a){const c=n[Vf];c&&(i=(i?[i,...c]:[...c]).join(" ")),i==null?n.removeAttribute("class"):a?n.setAttribute("class",i):n.className=i}const nl=Symbol("_vod"),Gf=Symbol("_vsh"),Wf=Symbol(""),Xf=/(?:^|;)\s*display\s*:/;function jf(n,i,a){const c=n.style,f=Ot(a);let h=!1;if(a&&!f){if(i)if(Ot(i))for(const x of i.split(";")){const m=x.slice(0,x.indexOf(":")).trim();a[m]==null&&rs(c,m,"")}else for(const x in i)a[x]==null&&rs(c,x,"");for(const x in a)x==="display"&&(h=!0),rs(c,x,a[x])}else if(f){if(i!==a){const x=c[Wf];x&&(a+=";"+x),c.cssText=a,h=Xf.test(a)}}else i&&n.removeAttribute("style");nl in n&&(n[nl]=h?c.display:"",n[Gf]&&(c.display="none"))}const rl=/\s*!important$/;function rs(n,i,a){if(ve(a))a.forEach(c=>rs(n,i,c));else if(a==null&&(a=""),i.startsWith("--"))n.setProperty(i,a);else{const c=zf(n,i);rl.test(a)?n.setProperty(Rr(c),a.replace(rl,""),"important"):n[c]=a}}const il=["Webkit","Moz","ms"],fo={};function zf(n,i){const a=fo[i];if(a)return a;let c=Cn(i);if(c!=="filter"&&c in n)return fo[i]=c;c=Cs(c);for(let f=0;f<il.length;f++){const h=il[f]+c;if(h in n)return fo[i]=h}return i}const sl="http://www.w3.org/1999/xlink";function ol(n,i,a,c,f,h=Ku(i)){c&&i.startsWith("xlink:")?a==null?n.removeAttributeNS(sl,i.slice(6,i.length)):n.setAttributeNS(sl,i,a):a==null||h&&!gc(a)?n.removeAttribute(i):n.setAttribute(i,h?"":Un(a)?String(a):a)}function al(n,i,a,c,f){if(i==="innerHTML"||i==="textContent"){a!=null&&(n[i]=i==="innerHTML"?m1(a):a);return}const h=n.tagName;if(i==="value"&&h!=="PROGRESS"&&!h.includes("-")){const m=h==="OPTION"?n.getAttribute("value")||"":n.value,E=a==null?n.type==="checkbox"?"on":"":String(a);(m!==E||!("_value"in n))&&(n.value=E),a==null&&n.removeAttribute(i),n._value=a;return}let x=!1;if(a===""||a==null){const m=typeof n[i];m==="boolean"?a=gc(a):a==null&&m==="string"?(a="",x=!0):m==="number"&&(a=0,x=!0)}try{n[i]=a}catch{}x&&n.removeAttribute(f||i)}function Vr(n,i,a,c){n.addEventListener(i,a,c)}function Yf(n,i,a,c){n.removeEventListener(i,a,c)}const ll=Symbol("_vei");function Kf(n,i,a,c,f=null){const h=n[ll]||(n[ll]={}),x=h[i];if(c&&x)x.value=c;else{const[m,E]=Zf(i);if(c){const w=h[i]=Jf(c,f);Vr(n,m,w,E)}else x&&(Yf(n,m,x,E),h[i]=void 0)}}const cl=/(?:Once|Passive|Capture)$/;function Zf(n){let i;if(cl.test(n)){i={};let c;for(;c=n.match(cl);)n=n.slice(0,n.length-c[0].length),i[c[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Rr(n.slice(2)),i]}let ho=0;const qf=Promise.resolve(),Qf=()=>ho||(qf.then(()=>ho=0),ho=Date.now());function Jf(n,i){const a=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=a.attached)return;Vn($f(c,a.value),i,5,[c])};return a.value=n,a.attached=Qf(),a}function $f(n,i){if(ve(i)){const a=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{a.call(n),n._stopped=!0},i.map(c=>f=>!f._stopped&&c&&c(f))}else return i}const ul=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,eh=(n,i,a,c,f,h)=>{const x=f==="svg";i==="class"?Hf(n,c,x):i==="style"?jf(n,a,c):Es(i)?Wo(i)||Kf(n,i,a,c,h):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):th(n,i,c,x))?(al(n,i,c),!n.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&ol(n,i,c,x,h,i!=="value")):n._isVueCE&&(/[A-Z]/.test(i)||!Ot(c))?al(n,Cn(i),c,h,i):(i==="true-value"?n._trueValue=c:i==="false-value"&&(n._falseValue=c),ol(n,i,c,x))};function th(n,i,a,c){if(c)return!!(i==="innerHTML"||i==="textContent"||i in n&&ul(i)&&Be(a));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="autocorrect"||i==="sandbox"&&n.tagName==="IFRAME"||i==="form"||i==="list"&&n.tagName==="INPUT"||i==="type"&&n.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const f=n.tagName;if(f==="IMG"||f==="VIDEO"||f==="CANVAS"||f==="SOURCE")return!1}return ul(i)&&Ot(a)?!1:i in n}const fl=n=>{const i=n.props["onUpdate:modelValue"]||!1;return ve(i)?a=>$i(i,a):i};function nh(n){n.target.composing=!0}function hl(n){const i=n.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const go=Symbol("_assign");function dl(n,i,a){return i&&(n=n.trim()),a&&(n=zo(n)),n}const gl={created(n,{modifiers:{lazy:i,trim:a,number:c}},f){n[go]=fl(f);const h=c||f.props&&f.props.type==="number";Vr(n,i?"change":"input",x=>{x.target.composing||n[go](dl(n.value,a,h))}),(a||h)&&Vr(n,"change",()=>{n.value=dl(n.value,a,h)}),i||(Vr(n,"compositionstart",nh),Vr(n,"compositionend",hl),Vr(n,"change",hl))},mounted(n,{value:i}){n.value=i??""},beforeUpdate(n,{value:i,oldValue:a,modifiers:{lazy:c,trim:f,number:h}},x){if(n[go]=fl(x),n.composing)return;const m=(h||n.type==="number")&&!/^0\d/.test(n.value)?zo(n.value):n.value,E=i??"";m!==E&&(document.activeElement===n&&n.type!=="range"&&(c&&i===a||f&&n.value.trim()===E)||(n.value=E))}},rh=["ctrl","shift","alt","meta"],ih={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,i)=>rh.some(a=>n[`${a}Key`]&&!i.includes(a))},sh=(n,i)=>{if(!n)return n;const a=n._withMods||(n._withMods={}),c=i.join(".");return a[c]||(a[c]=((f,...h)=>{for(let x=0;x<i.length;x++){const m=ih[i[x]];if(m&&m(f,i))return}return n(f,...h)}))},oh=Ft({patchProp:eh},Uf);let xl;function ah(){return xl||(xl=pf(oh))}const lh=((...n)=>{const i=ah().createApp(...n),{mount:a}=i;return i.mount=c=>{const f=uh(c);if(!f)return;const h=i._component;!Be(h)&&!h.render&&!h.template&&(h.template=f.innerHTML),f.nodeType===1&&(f.textContent="");const x=a(f,!1,ch(f));return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),x},i});function ch(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function uh(n){return Ot(n)?document.querySelector(n):n}const fh=(n,i)=>{const a=n.__vccOpts||n;for(const[c,f]of i)a[c]=f;return a},hh={};function dh(n,i){const a=j0("RouterView");return Kn(),h1(a)}const gh=fh(hh,[["render",dh]]);const Hr=typeof document<"u";function E1(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function xh(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&E1(n.default)}const Qe=Object.assign;function xo(n,i){const a={};for(const c in i){const f=i[c];a[c]=Sn(f)?f.map(n):n(f)}return a}const bi=()=>{},Sn=Array.isArray;function pl(n,i){const a={};for(const c in n)a[c]=c in i?i[c]:n[c];return a}const A1=/#/g,ph=/&/g,wh=/\//g,mh=/=/g,Eh=/\?/g,C1=/\+/g,Ah=/%5B/g,Ch=/%5D/g,b1=/%5E/g,bh=/%60/g,y1=/%7B/g,yh=/%7C/g,I1=/%7D/g,Ih=/%20/g;function la(n){return n==null?"":encodeURI(""+n).replace(yh,"|").replace(Ah,"[").replace(Ch,"]")}function _h(n){return la(n).replace(y1,"{").replace(I1,"}").replace(b1,"^")}function Mo(n){return la(n).replace(C1,"%2B").replace(Ih,"+").replace(A1,"%23").replace(ph,"%26").replace(bh,"`").replace(y1,"{").replace(I1,"}").replace(b1,"^")}function Sh(n){return Mo(n).replace(mh,"%3D")}function Th(n){return la(n).replace(A1,"%23").replace(Eh,"%3F")}function Rh(n){return Th(n).replace(wh,"%2F")}function Ni(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}const Oh=/\/$/,Nh=n=>n.replace(Oh,"");function po(n,i,a="/"){let c,f={},h="",x="";const m=i.indexOf("#");let E=i.indexOf("?");return E=m>=0&&E>m?-1:E,E>=0&&(c=i.slice(0,E),h=i.slice(E,m>0?m:i.length),f=n(h.slice(1))),m>=0&&(c=c||i.slice(0,m),x=i.slice(m,i.length)),c=Bh(c??i,a),{fullPath:c+h+x,path:c,query:f,hash:Ni(x)}}function Dh(n,i){const a=i.query?n(i.query):"";return i.path+(a&&"?")+a+(i.hash||"")}function wl(n,i){return!i||!n.toLowerCase().startsWith(i.toLowerCase())?n:n.slice(i.length)||"/"}function vh(n,i,a){const c=i.matched.length-1,f=a.matched.length-1;return c>-1&&c===f&&qr(i.matched[c],a.matched[f])&&_1(i.params,a.params)&&n(i.query)===n(a.query)&&i.hash===a.hash}function qr(n,i){return(n.aliasOf||n)===(i.aliasOf||i)}function _1(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(var a in n)if(!Mh(n[a],i[a]))return!1;return!0}function Mh(n,i){return Sn(n)?ml(n,i):Sn(i)?ml(i,n):n?.valueOf()===i?.valueOf()}function ml(n,i){return Sn(i)?n.length===i.length&&n.every((a,c)=>a===i[c]):n.length===1&&n[0]===i}function Bh(n,i){if(n.startsWith("/"))return n;if(!n)return i;const a=i.split("/"),c=n.split("/"),f=c[c.length-1];(f===".."||f===".")&&c.push("");let h=a.length-1,x,m;for(x=0;x<c.length;x++)if(m=c[x],m!==".")if(m==="..")h>1&&h--;else break;return a.slice(0,h).join("/")+"/"+c.slice(x).join("/")}const or={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Bo=(function(n){return n.pop="pop",n.push="push",n})({}),wo=(function(n){return n.back="back",n.forward="forward",n.unknown="",n})({});function Ph(n){if(!n)if(Hr){const i=document.querySelector("base");n=i&&i.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Nh(n)}const Lh=/^[^#]+#/;function Fh(n,i){return n.replace(Lh,"#")+i}function kh(n,i){const a=document.documentElement.getBoundingClientRect(),c=n.getBoundingClientRect();return{behavior:i.behavior,left:c.left-a.left-(i.left||0),top:c.top-a.top-(i.top||0)}}const Ns=()=>({left:window.scrollX,top:window.scrollY});function Uh(n){let i;if("el"in n){const a=n.el,c=typeof a=="string"&&a.startsWith("#"),f=typeof a=="string"?c?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!f)return;i=kh(f,n)}else i=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(i):window.scrollTo(i.left!=null?i.left:window.scrollX,i.top!=null?i.top:window.scrollY)}function El(n,i){return(history.state?history.state.position-i:-1)+n}const Po=new Map;function Vh(n,i){Po.set(n,i)}function Hh(n){const i=Po.get(n);return Po.delete(n),i}function Gh(n){return typeof n=="string"||n&&typeof n=="object"}function S1(n){return typeof n=="string"||typeof n=="symbol"}let Et=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const T1=Symbol("");Et.MATCHER_NOT_FOUND+"",Et.NAVIGATION_GUARD_REDIRECT+"",Et.NAVIGATION_ABORTED+"",Et.NAVIGATION_CANCELLED+"",Et.NAVIGATION_DUPLICATED+"";function Qr(n,i){return Qe(new Error,{type:n,[T1]:!0},i)}function Gn(n,i){return n instanceof Error&&T1 in n&&(i==null||!!(n.type&i))}const Wh=["params","query","hash"];function Xh(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const i={};for(const a of Wh)a in n&&(i[a]=n[a]);return JSON.stringify(i,null,2)}function jh(n){const i={};if(n===""||n==="?")return i;const a=(n[0]==="?"?n.slice(1):n).split("&");for(let c=0;c<a.length;++c){const f=a[c].replace(C1," "),h=f.indexOf("="),x=Ni(h<0?f:f.slice(0,h)),m=h<0?null:Ni(f.slice(h+1));if(x in i){let E=i[x];Sn(E)||(E=i[x]=[E]),E.push(m)}else i[x]=m}return i}function Al(n){let i="";for(let a in n){const c=n[a];if(a=Sh(a),c==null){c!==void 0&&(i+=(i.length?"&":"")+a);continue}(Sn(c)?c.map(f=>f&&Mo(f)):[c&&Mo(c)]).forEach(f=>{f!==void 0&&(i+=(i.length?"&":"")+a,f!=null&&(i+="="+f))})}return i}function zh(n){const i={};for(const a in n){const c=n[a];c!==void 0&&(i[a]=Sn(c)?c.map(f=>f==null?null:""+f):c==null?c:""+c)}return i}const Yh=Symbol(""),Cl=Symbol(""),Ds=Symbol(""),R1=Symbol(""),Lo=Symbol("");function ui(){let n=[];function i(c){return n.push(c),()=>{const f=n.indexOf(c);f>-1&&n.splice(f,1)}}function a(){n=[]}return{add:i,list:()=>n.slice(),reset:a}}function cr(n,i,a,c,f,h=x=>x()){const x=c&&(c.enterCallbacks[f]=c.enterCallbacks[f]||[]);return()=>new Promise((m,E)=>{const w=N=>{N===!1?E(Qr(Et.NAVIGATION_ABORTED,{from:a,to:i})):N instanceof Error?E(N):Gh(N)?E(Qr(Et.NAVIGATION_GUARD_REDIRECT,{from:i,to:N})):(x&&c.enterCallbacks[f]===x&&typeof N=="function"&&x.push(N),m())},b=h(()=>n.call(c&&c.instances[f],i,a,w));let y=Promise.resolve(b);n.length<3&&(y=y.then(w)),y.catch(N=>E(N))})}function mo(n,i,a,c,f=h=>h()){const h=[];for(const x of n)for(const m in x.components){let E=x.components[m];if(!(i!=="beforeRouteEnter"&&!x.instances[m]))if(E1(E)){const w=(E.__vccOpts||E)[i];w&&h.push(cr(w,a,c,x,m,f))}else{let w=E();h.push(()=>w.then(b=>{if(!b)throw new Error(`Couldn't resolve component "${m}" at "${x.path}"`);const y=xh(b)?b.default:b;x.mods[m]=b,x.components[m]=y;const N=(y.__vccOpts||y)[i];return N&&cr(N,a,c,x,m,f)()}))}}return h}function Kh(n,i){const a=[],c=[],f=[],h=Math.max(i.matched.length,n.matched.length);for(let x=0;x<h;x++){const m=i.matched[x];m&&(n.matched.find(w=>qr(w,m))?c.push(m):a.push(m));const E=n.matched[x];E&&(i.matched.find(w=>qr(w,E))||f.push(E))}return[a,c,f]}let Zh=()=>location.protocol+"//"+location.host;function O1(n,i){const{pathname:a,search:c,hash:f}=i,h=n.indexOf("#");if(h>-1){let x=f.includes(n.slice(h))?n.slice(h).length:1,m=f.slice(x);return m[0]!=="/"&&(m="/"+m),wl(m,"")}return wl(a,n)+c+f}function qh(n,i,a,c){let f=[],h=[],x=null;const m=({state:N})=>{const v=O1(n,location),P=a.value,L=i.value;let z=0;if(N){if(a.value=v,i.value=N,x&&x===P){x=null;return}z=L?N.position-L.position:0}else c(v);f.forEach(le=>{le(a.value,P,{delta:z,type:Bo.pop,direction:z?z>0?wo.forward:wo.back:wo.unknown})})};function E(){x=a.value}function w(N){f.push(N);const v=()=>{const P=f.indexOf(N);P>-1&&f.splice(P,1)};return h.push(v),v}function b(){if(document.visibilityState==="hidden"){const{history:N}=window;if(!N.state)return;N.replaceState(Qe({},N.state,{scroll:Ns()}),"")}}function y(){for(const N of h)N();h=[],window.removeEventListener("popstate",m),window.removeEventListener("pagehide",b),document.removeEventListener("visibilitychange",b)}return window.addEventListener("popstate",m),window.addEventListener("pagehide",b),document.addEventListener("visibilitychange",b),{pauseListeners:E,listen:w,destroy:y}}function bl(n,i,a,c=!1,f=!1){return{back:n,current:i,forward:a,replaced:c,position:window.history.length,scroll:f?Ns():null}}function Qh(n){const{history:i,location:a}=window,c={value:O1(n,a)},f={value:i.state};f.value||h(c.value,{back:null,current:c.value,forward:null,position:i.length-1,replaced:!0,scroll:null},!0);function h(E,w,b){const y=n.indexOf("#"),N=y>-1?(a.host&&document.querySelector("base")?n:n.slice(y))+E:Zh()+n+E;try{i[b?"replaceState":"pushState"](w,"",N),f.value=w}catch(v){console.error(v),a[b?"replace":"assign"](N)}}function x(E,w){h(E,Qe({},i.state,bl(f.value.back,E,f.value.forward,!0),w,{position:f.value.position}),!0),c.value=E}function m(E,w){const b=Qe({},f.value,i.state,{forward:E,scroll:Ns()});h(b.current,b,!0),h(E,Qe({},bl(c.value,E,null),{position:b.position+1},w),!1),c.value=E}return{location:c,state:f,push:m,replace:x}}function Jh(n){n=Ph(n);const i=Qh(n),a=qh(n,i.state,i.location,i.replace);function c(h,x=!0){x||a.pauseListeners(),history.go(h)}const f=Qe({location:"",base:n,go:c,createHref:Fh.bind(null,n)},i,a);return Object.defineProperty(f,"location",{enumerable:!0,get:()=>i.location.value}),Object.defineProperty(f,"state",{enumerable:!0,get:()=>i.state.value}),f}let yr=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var Rt=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(Rt||{});const $h={type:yr.Static,value:""},ed=/[a-zA-Z0-9_]/;function td(n){if(!n)return[[]];if(n==="/")return[[$h]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function i(v){throw new Error(`ERR (${a})/"${w}": ${v}`)}let a=Rt.Static,c=a;const f=[];let h;function x(){h&&f.push(h),h=[]}let m=0,E,w="",b="";function y(){w&&(a===Rt.Static?h.push({type:yr.Static,value:w}):a===Rt.Param||a===Rt.ParamRegExp||a===Rt.ParamRegExpEnd?(h.length>1&&(E==="*"||E==="+")&&i(`A repeatable param (${w}) must be alone in its segment. eg: '/:ids+.`),h.push({type:yr.Param,value:w,regexp:b,repeatable:E==="*"||E==="+",optional:E==="*"||E==="?"})):i("Invalid state to consume buffer"),w="")}function N(){w+=E}for(;m<n.length;){if(E=n[m++],E==="\\"&&a!==Rt.ParamRegExp){c=a,a=Rt.EscapeNext;continue}switch(a){case Rt.Static:E==="/"?(w&&y(),x()):E===":"?(y(),a=Rt.Param):N();break;case Rt.EscapeNext:N(),a=c;break;case Rt.Param:E==="("?a=Rt.ParamRegExp:ed.test(E)?N():(y(),a=Rt.Static,E!=="*"&&E!=="?"&&E!=="+"&&m--);break;case Rt.ParamRegExp:E===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+E:a=Rt.ParamRegExpEnd:b+=E;break;case Rt.ParamRegExpEnd:y(),a=Rt.Static,E!=="*"&&E!=="?"&&E!=="+"&&m--,b="";break;default:i("Unknown state");break}}return a===Rt.ParamRegExp&&i(`Unfinished custom RegExp for param "${w}"`),y(),x(),f}const yl="[^/]+?",nd={sensitive:!1,strict:!1,start:!0,end:!0};var Yt=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(Yt||{});const rd=/[.+*?^${}()[\]/\\]/g;function id(n,i){const a=Qe({},nd,i),c=[];let f=a.start?"^":"";const h=[];for(const w of n){const b=w.length?[]:[Yt.Root];a.strict&&!w.length&&(f+="/");for(let y=0;y<w.length;y++){const N=w[y];let v=Yt.Segment+(a.sensitive?Yt.BonusCaseSensitive:0);if(N.type===yr.Static)y||(f+="/"),f+=N.value.replace(rd,"\\$&"),v+=Yt.Static;else if(N.type===yr.Param){const{value:P,repeatable:L,optional:z,regexp:le}=N;h.push({name:P,repeatable:L,optional:z});const J=le||yl;if(J!==yl){v+=Yt.BonusCustomRegExp;try{`${J}`}catch(q){throw new Error(`Invalid custom RegExp for param "${P}" (${J}): `+q.message)}}let j=L?`((?:${J})(?:/(?:${J}))*)`:`(${J})`;y||(j=z&&w.length<2?`(?:/${j})`:"/"+j),z&&(j+="?"),f+=j,v+=Yt.Dynamic,z&&(v+=Yt.BonusOptional),L&&(v+=Yt.BonusRepeatable),J===".*"&&(v+=Yt.BonusWildcard)}b.push(v)}c.push(b)}if(a.strict&&a.end){const w=c.length-1;c[w][c[w].length-1]+=Yt.BonusStrict}a.strict||(f+="/?"),a.end?f+="$":a.strict&&!f.endsWith("/")&&(f+="(?:/|$)");const x=new RegExp(f,a.sensitive?"":"i");function m(w){const b=w.match(x),y={};if(!b)return null;for(let N=1;N<b.length;N++){const v=b[N]||"",P=h[N-1];y[P.name]=v&&P.repeatable?v.split("/"):v}return y}function E(w){let b="",y=!1;for(const N of n){(!y||!b.endsWith("/"))&&(b+="/"),y=!1;for(const v of N)if(v.type===yr.Static)b+=v.value;else if(v.type===yr.Param){const{value:P,repeatable:L,optional:z}=v,le=P in w?w[P]:"";if(Sn(le)&&!L)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const J=Sn(le)?le.join("/"):le;if(!J)if(z)N.length<2&&(b.endsWith("/")?b=b.slice(0,-1):y=!0);else throw new Error(`Missing required param "${P}"`);b+=J}}return b||"/"}return{re:x,score:c,keys:h,parse:m,stringify:E}}function sd(n,i){let a=0;for(;a<n.length&&a<i.length;){const c=i[a]-n[a];if(c)return c;a++}return n.length<i.length?n.length===1&&n[0]===Yt.Static+Yt.Segment?-1:1:n.length>i.length?i.length===1&&i[0]===Yt.Static+Yt.Segment?1:-1:0}function N1(n,i){let a=0;const c=n.score,f=i.score;for(;a<c.length&&a<f.length;){const h=sd(c[a],f[a]);if(h)return h;a++}if(Math.abs(f.length-c.length)===1){if(Il(c))return 1;if(Il(f))return-1}return f.length-c.length}function Il(n){const i=n[n.length-1];return n.length>0&&i[i.length-1]<0}const od={strict:!1,end:!0,sensitive:!1};function ad(n,i,a){const c=id(td(n.path),a),f=Qe(c,{record:n,parent:i,children:[],alias:[]});return i&&!f.record.aliasOf==!i.record.aliasOf&&i.children.push(f),f}function ld(n,i){const a=[],c=new Map;i=pl(od,i);function f(y){return c.get(y)}function h(y,N,v){const P=!v,L=Sl(y);L.aliasOf=v&&v.record;const z=pl(i,y),le=[L];if("alias"in y){const q=typeof y.alias=="string"?[y.alias]:y.alias;for(const ge of q)le.push(Sl(Qe({},L,{components:v?v.record.components:L.components,path:ge,aliasOf:v?v.record:L})))}let J,j;for(const q of le){const{path:ge}=q;if(N&&ge[0]!=="/"){const we=N.record.path,Y=we[we.length-1]==="/"?"":"/";q.path=N.record.path+(ge&&Y+ge)}if(J=ad(q,N,z),v?v.alias.push(J):(j=j||J,j!==J&&j.alias.push(J),P&&y.name&&!Tl(J)&&x(y.name)),D1(J)&&E(J),L.children){const we=L.children;for(let Y=0;Y<we.length;Y++)h(we[Y],J,v&&v.children[Y])}v=v||J}return j?()=>{x(j)}:bi}function x(y){if(S1(y)){const N=c.get(y);N&&(c.delete(y),a.splice(a.indexOf(N),1),N.children.forEach(x),N.alias.forEach(x))}else{const N=a.indexOf(y);N>-1&&(a.splice(N,1),y.record.name&&c.delete(y.record.name),y.children.forEach(x),y.alias.forEach(x))}}function m(){return a}function E(y){const N=fd(y,a);a.splice(N,0,y),y.record.name&&!Tl(y)&&c.set(y.record.name,y)}function w(y,N){let v,P={},L,z;if("name"in y&&y.name){if(v=c.get(y.name),!v)throw Qr(Et.MATCHER_NOT_FOUND,{location:y});z=v.record.name,P=Qe(_l(N.params,v.keys.filter(j=>!j.optional).concat(v.parent?v.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),y.params&&_l(y.params,v.keys.map(j=>j.name))),L=v.stringify(P)}else if(y.path!=null)L=y.path,v=a.find(j=>j.re.test(L)),v&&(P=v.parse(L),z=v.record.name);else{if(v=N.name?c.get(N.name):a.find(j=>j.re.test(N.path)),!v)throw Qr(Et.MATCHER_NOT_FOUND,{location:y,currentLocation:N});z=v.record.name,P=Qe({},N.params,y.params),L=v.stringify(P)}const le=[];let J=v;for(;J;)le.unshift(J.record),J=J.parent;return{name:z,path:L,params:P,matched:le,meta:ud(le)}}n.forEach(y=>h(y));function b(){a.length=0,c.clear()}return{addRoute:h,resolve:w,removeRoute:x,clearRoutes:b,getRoutes:m,getRecordMatcher:f}}function _l(n,i){const a={};for(const c of i)c in n&&(a[c]=n[c]);return a}function Sl(n){const i={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:cd(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(i,"mods",{value:{}}),i}function cd(n){const i={},a=n.props||!1;if("component"in n)i.default=a;else for(const c in n.components)i[c]=typeof a=="object"?a[c]:a;return i}function Tl(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function ud(n){return n.reduce((i,a)=>Qe(i,a.meta),{})}function fd(n,i){let a=0,c=i.length;for(;a!==c;){const h=a+c>>1;N1(n,i[h])<0?c=h:a=h+1}const f=hd(n);return f&&(c=i.lastIndexOf(f,c-1)),c}function hd(n){let i=n;for(;i=i.parent;)if(D1(i)&&N1(n,i)===0)return i}function D1({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function Rl(n){const i=kn(Ds),a=kn(R1),c=An(()=>{const E=zr(n.to);return i.resolve(E)}),f=An(()=>{const{matched:E}=c.value,{length:w}=E,b=E[w-1],y=a.matched;if(!b||!y.length)return-1;const N=y.findIndex(qr.bind(null,b));if(N>-1)return N;const v=Ol(E[w-2]);return w>1&&Ol(b)===v&&y[y.length-1].path!==v?y.findIndex(qr.bind(null,E[w-2])):N}),h=An(()=>f.value>-1&&wd(a.params,c.value.params)),x=An(()=>f.value>-1&&f.value===a.matched.length-1&&_1(a.params,c.value.params));function m(E={}){if(pd(E)){const w=i[zr(n.replace)?"replace":"push"](zr(n.to)).catch(bi);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>w),w}return Promise.resolve()}return{route:c,href:An(()=>c.value.href),isActive:h,isExactActive:x,navigate:m}}function dd(n){return n.length===1?n[0]:n}const gd=_s({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Rl,setup(n,{slots:i}){const a=ys(Rl(n)),{options:c}=kn(Ds),f=An(()=>({[Nl(n.activeClass,c.linkActiveClass,"router-link-active")]:a.isActive,[Nl(n.exactActiveClass,c.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive}));return()=>{const h=i.default&&dd(i.default(a));return n.custom?h:w1("a",{"aria-current":a.isExactActive?n.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:f.value},h)}}}),xd=gd;function pd(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const i=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(i))return}return n.preventDefault&&n.preventDefault(),!0}}function wd(n,i){for(const a in i){const c=i[a],f=n[a];if(typeof c=="string"){if(c!==f)return!1}else if(!Sn(f)||f.length!==c.length||c.some((h,x)=>h.valueOf()!==f[x].valueOf()))return!1}return!0}function Ol(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Nl=(n,i,a)=>n??i??a,md=_s({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:i,slots:a}){const c=kn(Lo),f=An(()=>n.route||c.value),h=kn(Cl,0),x=An(()=>{let w=zr(h);const{matched:b}=f.value;let y;for(;(y=b[w])&&!y.components;)w++;return w}),m=An(()=>f.value.matched[x.value]);es(Cl,An(()=>x.value+1)),es(Yh,m),es(Lo,f);const E=mn();return ts(()=>[E.value,m.value,n.name],([w,b,y],[N,v,P])=>{b&&(b.instances[y]=w,v&&v!==b&&w&&w===N&&(b.leaveGuards.size||(b.leaveGuards=v.leaveGuards),b.updateGuards.size||(b.updateGuards=v.updateGuards))),w&&b&&(!v||!qr(b,v)||!N)&&(b.enterCallbacks[y]||[]).forEach(L=>L(w))},{flush:"post"}),()=>{const w=f.value,b=n.name,y=m.value,N=y&&y.components[b];if(!N)return Dl(a.default,{Component:N,route:w});const v=y.props[b],P=v?v===!0?w.params:typeof v=="function"?v(w):v:null,z=w1(N,Qe({},P,i,{onVnodeUnmounted:le=>{le.component.isUnmounted&&(y.instances[b]=null)},ref:E}));return Dl(a.default,{Component:z,route:w})||z}}});function Dl(n,i){if(!n)return null;const a=n(i);return a.length===1?a[0]:a}const Ed=md;function Ad(n){const i=ld(n.routes,n),a=n.parseQuery||jh,c=n.stringifyQuery||Al,f=n.history,h=ui(),x=ui(),m=ui(),E=w0(or);let w=or;Hr&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=xo.bind(null,K=>""+K),y=xo.bind(null,Rh),N=xo.bind(null,Ni);function v(K,oe){let ce,Ee;return S1(K)?(ce=i.getRecordMatcher(K),Ee=oe):Ee=K,i.addRoute(Ee,ce)}function P(K){const oe=i.getRecordMatcher(K);oe&&i.removeRoute(oe)}function L(){return i.getRoutes().map(K=>K.record)}function z(K){return!!i.getRecordMatcher(K)}function le(K,oe){if(oe=Qe({},oe||E.value),typeof K=="string"){const M=po(a,K,oe.path),X=i.resolve({path:M.path},oe),Z=f.createHref(M.fullPath);return Qe(M,X,{params:N(X.params),hash:Ni(M.hash),redirectedFrom:void 0,href:Z})}let ce;if(K.path!=null)ce=Qe({},K,{path:po(a,K.path,oe.path).path});else{const M=Qe({},K.params);for(const X in M)M[X]==null&&delete M[X];ce=Qe({},K,{params:y(M)}),oe.params=y(oe.params)}const Ee=i.resolve(ce,oe),_e=K.hash||"";Ee.params=b(N(Ee.params));const R=Dh(c,Qe({},K,{hash:_h(_e),path:Ee.path})),T=f.createHref(R);return Qe({fullPath:R,hash:_e,query:c===Al?zh(K.query):K.query||{}},Ee,{redirectedFrom:void 0,href:T})}function J(K){return typeof K=="string"?po(a,K,E.value.path):Qe({},K)}function j(K,oe){if(w!==K)return Qr(Et.NAVIGATION_CANCELLED,{from:oe,to:K})}function q(K){return Y(K)}function ge(K){return q(Qe(J(K),{replace:!0}))}function we(K,oe){const ce=K.matched[K.matched.length-1];if(ce&&ce.redirect){const{redirect:Ee}=ce;let _e=typeof Ee=="function"?Ee(K,oe):Ee;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=J(_e):{path:_e},_e.params={}),Qe({query:K.query,hash:K.hash,params:_e.path!=null?{}:K.params},_e)}}function Y(K,oe){const ce=w=le(K),Ee=E.value,_e=K.state,R=K.force,T=K.replace===!0,M=we(ce,Ee);if(M)return Y(Qe(J(M),{state:typeof M=="object"?Qe({},_e,M.state):_e,force:R,replace:T}),oe||ce);const X=ce;X.redirectedFrom=oe;let Z;return!R&&vh(c,Ee,ce)&&(Z=Qr(Et.NAVIGATION_DUPLICATED,{to:X,from:Ee}),pt(Ee,Ee,!0,!1)),(Z?Promise.resolve(Z):It(X,Ee)).catch(W=>Gn(W)?Gn(W,Et.NAVIGATION_GUARD_REDIRECT)?W:_t(W):De(W,X,Ee)).then(W=>{if(W){if(Gn(W,Et.NAVIGATION_GUARD_REDIRECT))return Y(Qe({replace:T},J(W.to),{state:typeof W.to=="object"?Qe({},_e,W.to.state):_e,force:R}),oe||X)}else W=me(X,Ee,!0,T,_e);return at(X,Ee,W),W})}function Me(K,oe){const ce=j(K,oe);return ce?Promise.reject(ce):Promise.resolve()}function te(K){const oe=rt.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(K):K()}function It(K,oe){let ce;const[Ee,_e,R]=Kh(K,oe);ce=mo(Ee.reverse(),"beforeRouteLeave",K,oe);for(const M of Ee)M.leaveGuards.forEach(X=>{ce.push(cr(X,K,oe))});const T=Me.bind(null,K,oe);return ce.push(T),xe(ce).then(()=>{ce=[];for(const M of h.list())ce.push(cr(M,K,oe));return ce.push(T),xe(ce)}).then(()=>{ce=mo(_e,"beforeRouteUpdate",K,oe);for(const M of _e)M.updateGuards.forEach(X=>{ce.push(cr(X,K,oe))});return ce.push(T),xe(ce)}).then(()=>{ce=[];for(const M of R)if(M.beforeEnter)if(Sn(M.beforeEnter))for(const X of M.beforeEnter)ce.push(cr(X,K,oe));else ce.push(cr(M.beforeEnter,K,oe));return ce.push(T),xe(ce)}).then(()=>(K.matched.forEach(M=>M.enterCallbacks={}),ce=mo(R,"beforeRouteEnter",K,oe,te),ce.push(T),xe(ce))).then(()=>{ce=[];for(const M of x.list())ce.push(cr(M,K,oe));return ce.push(T),xe(ce)}).catch(M=>Gn(M,Et.NAVIGATION_CANCELLED)?M:Promise.reject(M))}function at(K,oe,ce){m.list().forEach(Ee=>te(()=>Ee(K,oe,ce)))}function me(K,oe,ce,Ee,_e){const R=j(K,oe);if(R)return R;const T=oe===or,M=Hr?history.state:{};ce&&(Ee||T?f.replace(K.fullPath,Qe({scroll:T&&M&&M.scroll},_e)):f.push(K.fullPath,_e)),E.value=K,pt(K,oe,ce,T),_t()}let Ne;function ze(){Ne||(Ne=f.listen((K,oe,ce)=>{if(!Zt.listening)return;const Ee=le(K),_e=we(Ee,Zt.currentRoute.value);if(_e){Y(Qe(_e,{replace:!0,force:!0}),Ee).catch(bi);return}w=Ee;const R=E.value;Hr&&Vh(El(R.fullPath,ce.delta),Ns()),It(Ee,R).catch(T=>Gn(T,Et.NAVIGATION_ABORTED|Et.NAVIGATION_CANCELLED)?T:Gn(T,Et.NAVIGATION_GUARD_REDIRECT)?(Y(Qe(J(T.to),{force:!0}),Ee).then(M=>{Gn(M,Et.NAVIGATION_ABORTED|Et.NAVIGATION_DUPLICATED)&&!ce.delta&&ce.type===Bo.pop&&f.go(-1,!1)}).catch(bi),Promise.reject()):(ce.delta&&f.go(-ce.delta,!1),De(T,Ee,R))).then(T=>{T=T||me(Ee,R,!1),T&&(ce.delta&&!Gn(T,Et.NAVIGATION_CANCELLED)?f.go(-ce.delta,!1):ce.type===Bo.pop&&Gn(T,Et.NAVIGATION_ABORTED|Et.NAVIGATION_DUPLICATED)&&f.go(-1,!1)),at(Ee,R,T)}).catch(bi)}))}let G=ui(),ye=ui(),fe;function De(K,oe,ce){_t(K);const Ee=ye.list();return Ee.length?Ee.forEach(_e=>_e(K,oe,ce)):console.error(K),Promise.reject(K)}function Ct(){return fe&&E.value!==or?Promise.resolve():new Promise((K,oe)=>{G.add([K,oe])})}function _t(K){return fe||(fe=!K,ze(),G.list().forEach(([oe,ce])=>K?ce(K):oe()),G.reset()),K}function pt(K,oe,ce,Ee){const{scrollBehavior:_e}=n;if(!Hr||!_e)return Promise.resolve();const R=!ce&&Hh(El(K.fullPath,0))||(Ee||!ce)&&history.state&&history.state.scroll||null;return Pc().then(()=>_e(K,oe,R)).then(T=>T&&Uh(T)).catch(T=>De(T,K,oe))}const Ve=K=>f.go(K);let Nt;const rt=new Set,Zt={currentRoute:E,listening:!0,addRoute:v,removeRoute:P,clearRoutes:i.clearRoutes,hasRoute:z,getRoutes:L,resolve:le,options:n,push:q,replace:ge,go:Ve,back:()=>Ve(-1),forward:()=>Ve(1),beforeEach:h.add,beforeResolve:x.add,afterEach:m.add,onError:ye.add,isReady:Ct,install(K){K.component("RouterLink",xd),K.component("RouterView",Ed),K.config.globalProperties.$router=Zt,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>zr(E)}),Hr&&!Nt&&E.value===or&&(Nt=!0,q(f.location).catch(Ee=>{}));const oe={};for(const Ee in or)Object.defineProperty(oe,Ee,{get:()=>E.value[Ee],enumerable:!0});K.provide(Ds,Zt),K.provide(R1,Dc(oe)),K.provide(Lo,E);const ce=K.unmount;rt.add(K),K.unmount=function(){rt.delete(K),rt.size<1&&(w=or,Ne&&Ne(),Ne=null,E.value=or,Nt=!1,fe=!1),ce()}}};function xe(K){return K.reduce((oe,ce)=>oe.then(()=>te(ce)),Promise.resolve())}return Zt}function v1(){return kn(Ds)}function M1(n,i){return function(){return n.apply(i,arguments)}}const{toString:Cd}=Object.prototype,{getPrototypeOf:ca}=Object,{iterator:vs,toStringTag:B1}=Symbol,Ms=(n=>i=>{const a=Cd.call(i);return n[a]||(n[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Tn=n=>(n=n.toLowerCase(),i=>Ms(i)===n),Bs=n=>i=>typeof i===n,{isArray:$r}=Array,Jr=Bs("undefined");function Bi(n){return n!==null&&!Jr(n)&&n.constructor!==null&&!Jr(n.constructor)&&rn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const P1=Tn("ArrayBuffer");function bd(n){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(n):i=n&&n.buffer&&P1(n.buffer),i}const yd=Bs("string"),rn=Bs("function"),L1=Bs("number"),Pi=n=>n!==null&&typeof n=="object",Id=n=>n===!0||n===!1,is=n=>{if(Ms(n)!=="object")return!1;const i=ca(n);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(B1 in n)&&!(vs in n)},_d=n=>{if(!Pi(n)||Bi(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Sd=Tn("Date"),Td=Tn("File"),Rd=Tn("Blob"),Od=Tn("FileList"),Nd=n=>Pi(n)&&rn(n.pipe),Dd=n=>{let i;return n&&(typeof FormData=="function"&&n instanceof FormData||rn(n.append)&&((i=Ms(n))==="formdata"||i==="object"&&rn(n.toString)&&n.toString()==="[object FormData]"))},vd=Tn("URLSearchParams"),[Md,Bd,Pd,Ld]=["ReadableStream","Request","Response","Headers"].map(Tn),Fd=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Li(n,i,{allOwnKeys:a=!1}={}){if(n===null||typeof n>"u")return;let c,f;if(typeof n!="object"&&(n=[n]),$r(n))for(c=0,f=n.length;c<f;c++)i.call(null,n[c],c,n);else{if(Bi(n))return;const h=a?Object.getOwnPropertyNames(n):Object.keys(n),x=h.length;let m;for(c=0;c<x;c++)m=h[c],i.call(null,n[m],m,n)}}function F1(n,i){if(Bi(n))return null;i=i.toLowerCase();const a=Object.keys(n);let c=a.length,f;for(;c-- >0;)if(f=a[c],i===f.toLowerCase())return f;return null}const Ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,k1=n=>!Jr(n)&&n!==Ir;function Fo(){const{caseless:n,skipUndefined:i}=k1(this)&&this||{},a={},c=(f,h)=>{if(h==="__proto__"||h==="constructor"||h==="prototype")return;const x=n&&F1(a,h)||h;is(a[x])&&is(f)?a[x]=Fo(a[x],f):is(f)?a[x]=Fo({},f):$r(f)?a[x]=f.slice():(!i||!Jr(f))&&(a[x]=f)};for(let f=0,h=arguments.length;f<h;f++)arguments[f]&&Li(arguments[f],c);return a}const kd=(n,i,a,{allOwnKeys:c}={})=>(Li(i,(f,h)=>{a&&rn(f)?Object.defineProperty(n,h,{value:M1(f,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(n,h,{value:f,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:c}),n),Ud=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Vd=(n,i,a,c)=>{n.prototype=Object.create(i.prototype,c),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,"super",{value:i.prototype}),a&&Object.assign(n.prototype,a)},Hd=(n,i,a,c)=>{let f,h,x;const m={};if(i=i||{},n==null)return i;do{for(f=Object.getOwnPropertyNames(n),h=f.length;h-- >0;)x=f[h],(!c||c(x,n,i))&&!m[x]&&(i[x]=n[x],m[x]=!0);n=a!==!1&&ca(n)}while(n&&(!a||a(n,i))&&n!==Object.prototype);return i},Gd=(n,i,a)=>{n=String(n),(a===void 0||a>n.length)&&(a=n.length),a-=i.length;const c=n.indexOf(i,a);return c!==-1&&c===a},Wd=n=>{if(!n)return null;if($r(n))return n;let i=n.length;if(!L1(i))return null;const a=new Array(i);for(;i-- >0;)a[i]=n[i];return a},Xd=(n=>i=>n&&i instanceof n)(typeof Uint8Array<"u"&&ca(Uint8Array)),jd=(n,i)=>{const c=(n&&n[vs]).call(n);let f;for(;(f=c.next())&&!f.done;){const h=f.value;i.call(n,h[0],h[1])}},zd=(n,i)=>{let a;const c=[];for(;(a=n.exec(i))!==null;)c.push(a);return c},Yd=Tn("HTMLFormElement"),Kd=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,c,f){return c.toUpperCase()+f}),vl=(({hasOwnProperty:n})=>(i,a)=>n.call(i,a))(Object.prototype),Zd=Tn("RegExp"),U1=(n,i)=>{const a=Object.getOwnPropertyDescriptors(n),c={};Li(a,(f,h)=>{let x;(x=i(f,h,n))!==!1&&(c[h]=x||f)}),Object.defineProperties(n,c)},qd=n=>{U1(n,(i,a)=>{if(rn(n)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const c=n[a];if(rn(c)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Qd=(n,i)=>{const a={},c=f=>{f.forEach(h=>{a[h]=!0})};return $r(n)?c(n):c(String(n).split(i)),a},Jd=()=>{},$d=(n,i)=>n!=null&&Number.isFinite(n=+n)?n:i;function e2(n){return!!(n&&rn(n.append)&&n[B1]==="FormData"&&n[vs])}const t2=n=>{const i=new Array(10),a=(c,f)=>{if(Pi(c)){if(i.indexOf(c)>=0)return;if(Bi(c))return c;if(!("toJSON"in c)){i[f]=c;const h=$r(c)?[]:{};return Li(c,(x,m)=>{const E=a(x,f+1);!Jr(E)&&(h[m]=E)}),i[f]=void 0,h}}return c};return a(n,0)},n2=Tn("AsyncFunction"),r2=n=>n&&(Pi(n)||rn(n))&&rn(n.then)&&rn(n.catch),V1=((n,i)=>n?setImmediate:i?((a,c)=>(Ir.addEventListener("message",({source:f,data:h})=>{f===Ir&&h===a&&c.length&&c.shift()()},!1),f=>{c.push(f),Ir.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",rn(Ir.postMessage)),i2=typeof queueMicrotask<"u"?queueMicrotask.bind(Ir):typeof process<"u"&&process.nextTick||V1,s2=n=>n!=null&&rn(n[vs]),H={isArray:$r,isArrayBuffer:P1,isBuffer:Bi,isFormData:Dd,isArrayBufferView:bd,isString:yd,isNumber:L1,isBoolean:Id,isObject:Pi,isPlainObject:is,isEmptyObject:_d,isReadableStream:Md,isRequest:Bd,isResponse:Pd,isHeaders:Ld,isUndefined:Jr,isDate:Sd,isFile:Td,isBlob:Rd,isRegExp:Zd,isFunction:rn,isStream:Nd,isURLSearchParams:vd,isTypedArray:Xd,isFileList:Od,forEach:Li,merge:Fo,extend:kd,trim:Fd,stripBOM:Ud,inherits:Vd,toFlatObject:Hd,kindOf:Ms,kindOfTest:Tn,endsWith:Gd,toArray:Wd,forEachEntry:jd,matchAll:zd,isHTMLForm:Yd,hasOwnProperty:vl,hasOwnProp:vl,reduceDescriptors:U1,freezeMethods:qd,toObjectSet:Qd,toCamelCase:Kd,noop:Jd,toFiniteNumber:$d,findKey:F1,global:Ir,isContextDefined:k1,isSpecCompliantForm:e2,toJSONObject:t2,isAsyncFn:n2,isThenable:r2,setImmediate:V1,asap:i2,isIterable:s2};let Re=class H1 extends Error{static from(i,a,c,f,h,x){const m=new H1(i.message,a||i.code,c,f,h);return m.cause=i,m.name=i.name,x&&Object.assign(m,x),m}constructor(i,a,c,f,h){super(i),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),c&&(this.config=c),f&&(this.request=f),h&&(this.response=h,this.status=h.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}};Re.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Re.ERR_BAD_OPTION="ERR_BAD_OPTION";Re.ECONNABORTED="ECONNABORTED";Re.ETIMEDOUT="ETIMEDOUT";Re.ERR_NETWORK="ERR_NETWORK";Re.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Re.ERR_DEPRECATED="ERR_DEPRECATED";Re.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Re.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Re.ERR_CANCELED="ERR_CANCELED";Re.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Re.ERR_INVALID_URL="ERR_INVALID_URL";const o2=null;function ko(n){return H.isPlainObject(n)||H.isArray(n)}function G1(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function Ml(n,i,a){return n?n.concat(i).map(function(f,h){return f=G1(f),!a&&h?"["+f+"]":f}).join(a?".":""):i}function a2(n){return H.isArray(n)&&!n.some(ko)}const l2=H.toFlatObject(H,{},null,function(i){return/^is[A-Z]/.test(i)});function Ps(n,i,a){if(!H.isObject(n))throw new TypeError("target must be an object");i=i||new FormData,a=H.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,z){return!H.isUndefined(z[L])});const c=a.metaTokens,f=a.visitor||b,h=a.dots,x=a.indexes,E=(a.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(i);if(!H.isFunction(f))throw new TypeError("visitor must be a function");function w(P){if(P===null)return"";if(H.isDate(P))return P.toISOString();if(H.isBoolean(P))return P.toString();if(!E&&H.isBlob(P))throw new Re("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(P)||H.isTypedArray(P)?E&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function b(P,L,z){let le=P;if(P&&!z&&typeof P=="object"){if(H.endsWith(L,"{}"))L=c?L:L.slice(0,-2),P=JSON.stringify(P);else if(H.isArray(P)&&a2(P)||(H.isFileList(P)||H.endsWith(L,"[]"))&&(le=H.toArray(P)))return L=G1(L),le.forEach(function(j,q){!(H.isUndefined(j)||j===null)&&i.append(x===!0?Ml([L],q,h):x===null?L:L+"[]",w(j))}),!1}return ko(P)?!0:(i.append(Ml(z,L,h),w(P)),!1)}const y=[],N=Object.assign(l2,{defaultVisitor:b,convertValue:w,isVisitable:ko});function v(P,L){if(!H.isUndefined(P)){if(y.indexOf(P)!==-1)throw Error("Circular reference detected in "+L.join("."));y.push(P),H.forEach(P,function(le,J){(!(H.isUndefined(le)||le===null)&&f.call(i,le,H.isString(J)?J.trim():J,L,N))===!0&&v(le,L?L.concat(J):[J])}),y.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return v(n),i}function Bl(n){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(c){return i[c]})}function ua(n,i){this._pairs=[],n&&Ps(n,this,i)}const W1=ua.prototype;W1.append=function(i,a){this._pairs.push([i,a])};W1.toString=function(i){const a=i?function(c){return i.call(this,c,Bl)}:Bl;return this._pairs.map(function(f){return a(f[0])+"="+a(f[1])},"").join("&")};function c2(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function X1(n,i,a){if(!i)return n;const c=a&&a.encode||c2,f=H.isFunction(a)?{serialize:a}:a,h=f&&f.serialize;let x;if(h?x=h(i,f):x=H.isURLSearchParams(i)?i.toString():new ua(i,f).toString(c),x){const m=n.indexOf("#");m!==-1&&(n=n.slice(0,m)),n+=(n.indexOf("?")===-1?"?":"&")+x}return n}class Pl{constructor(){this.handlers=[]}use(i,a,c){return this.handlers.push({fulfilled:i,rejected:a,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){H.forEach(this.handlers,function(c){c!==null&&i(c)})}}const fa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},u2=typeof URLSearchParams<"u"?URLSearchParams:ua,f2=typeof FormData<"u"?FormData:null,h2=typeof Blob<"u"?Blob:null,d2={isBrowser:!0,classes:{URLSearchParams:u2,FormData:f2,Blob:h2},protocols:["http","https","file","blob","url","data"]},ha=typeof window<"u"&&typeof document<"u",Uo=typeof navigator=="object"&&navigator||void 0,g2=ha&&(!Uo||["ReactNative","NativeScript","NS"].indexOf(Uo.product)<0),x2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p2=ha&&window.location.href||"http://localhost",w2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ha,hasStandardBrowserEnv:g2,hasStandardBrowserWebWorkerEnv:x2,navigator:Uo,origin:p2},Symbol.toStringTag,{value:"Module"})),Gt={...w2,...d2};function m2(n,i){return Ps(n,new Gt.classes.URLSearchParams,{visitor:function(a,c,f,h){return Gt.isNode&&H.isBuffer(a)?(this.append(c,a.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...i})}function E2(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(i=>i[0]==="[]"?"":i[1]||i[0])}function A2(n){const i={},a=Object.keys(n);let c;const f=a.length;let h;for(c=0;c<f;c++)h=a[c],i[h]=n[h];return i}function j1(n){function i(a,c,f,h){let x=a[h++];if(x==="__proto__")return!0;const m=Number.isFinite(+x),E=h>=a.length;return x=!x&&H.isArray(f)?f.length:x,E?(H.hasOwnProp(f,x)?f[x]=[f[x],c]:f[x]=c,!m):((!f[x]||!H.isObject(f[x]))&&(f[x]=[]),i(a,c,f[x],h)&&H.isArray(f[x])&&(f[x]=A2(f[x])),!m)}if(H.isFormData(n)&&H.isFunction(n.entries)){const a={};return H.forEachEntry(n,(c,f)=>{i(E2(c),f,a,0)}),a}return null}function C2(n,i,a){if(H.isString(n))try{return(i||JSON.parse)(n),H.trim(n)}catch(c){if(c.name!=="SyntaxError")throw c}return(a||JSON.stringify)(n)}const Fi={transitional:fa,adapter:["xhr","http","fetch"],transformRequest:[function(i,a){const c=a.getContentType()||"",f=c.indexOf("application/json")>-1,h=H.isObject(i);if(h&&H.isHTMLForm(i)&&(i=new FormData(i)),H.isFormData(i))return f?JSON.stringify(j1(i)):i;if(H.isArrayBuffer(i)||H.isBuffer(i)||H.isStream(i)||H.isFile(i)||H.isBlob(i)||H.isReadableStream(i))return i;if(H.isArrayBufferView(i))return i.buffer;if(H.isURLSearchParams(i))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let m;if(h){if(c.indexOf("application/x-www-form-urlencoded")>-1)return m2(i,this.formSerializer).toString();if((m=H.isFileList(i))||c.indexOf("multipart/form-data")>-1){const E=this.env&&this.env.FormData;return Ps(m?{"files[]":i}:i,E&&new E,this.formSerializer)}}return h||f?(a.setContentType("application/json",!1),C2(i)):i}],transformResponse:[function(i){const a=this.transitional||Fi.transitional,c=a&&a.forcedJSONParsing,f=this.responseType==="json";if(H.isResponse(i)||H.isReadableStream(i))return i;if(i&&H.isString(i)&&(c&&!this.responseType||f)){const x=!(a&&a.silentJSONParsing)&&f;try{return JSON.parse(i,this.parseReviver)}catch(m){if(x)throw m.name==="SyntaxError"?Re.from(m,Re.ERR_BAD_RESPONSE,this,null,this.response):m}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gt.classes.FormData,Blob:Gt.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{Fi.headers[n]={}});const b2=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y2=n=>{const i={};let a,c,f;return n&&n.split(`
`).forEach(function(x){f=x.indexOf(":"),a=x.substring(0,f).trim().toLowerCase(),c=x.substring(f+1).trim(),!(!a||i[a]&&b2[a])&&(a==="set-cookie"?i[a]?i[a].push(c):i[a]=[c]:i[a]=i[a]?i[a]+", "+c:c)}),i},Ll=Symbol("internals");function fi(n){return n&&String(n).trim().toLowerCase()}function ss(n){return n===!1||n==null?n:H.isArray(n)?n.map(ss):String(n)}function I2(n){const i=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=a.exec(n);)i[c[1]]=c[2];return i}const _2=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Eo(n,i,a,c,f){if(H.isFunction(c))return c.call(this,i,a);if(f&&(i=a),!!H.isString(i)){if(H.isString(c))return i.indexOf(c)!==-1;if(H.isRegExp(c))return c.test(i)}}function S2(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,a,c)=>a.toUpperCase()+c)}function T2(n,i){const a=H.toCamelCase(" "+i);["get","set","has"].forEach(c=>{Object.defineProperty(n,c+a,{value:function(f,h,x){return this[c].call(this,i,f,h,x)},configurable:!0})})}let sn=class{constructor(i){i&&this.set(i)}set(i,a,c){const f=this;function h(m,E,w){const b=fi(E);if(!b)throw new Error("header name must be a non-empty string");const y=H.findKey(f,b);(!y||f[y]===void 0||w===!0||w===void 0&&f[y]!==!1)&&(f[y||E]=ss(m))}const x=(m,E)=>H.forEach(m,(w,b)=>h(w,b,E));if(H.isPlainObject(i)||i instanceof this.constructor)x(i,a);else if(H.isString(i)&&(i=i.trim())&&!_2(i))x(y2(i),a);else if(H.isObject(i)&&H.isIterable(i)){let m={},E,w;for(const b of i){if(!H.isArray(b))throw TypeError("Object iterator must return a key-value pair");m[w=b[0]]=(E=m[w])?H.isArray(E)?[...E,b[1]]:[E,b[1]]:b[1]}x(m,a)}else i!=null&&h(a,i,c);return this}get(i,a){if(i=fi(i),i){const c=H.findKey(this,i);if(c){const f=this[c];if(!a)return f;if(a===!0)return I2(f);if(H.isFunction(a))return a.call(this,f,c);if(H.isRegExp(a))return a.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,a){if(i=fi(i),i){const c=H.findKey(this,i);return!!(c&&this[c]!==void 0&&(!a||Eo(this,this[c],c,a)))}return!1}delete(i,a){const c=this;let f=!1;function h(x){if(x=fi(x),x){const m=H.findKey(c,x);m&&(!a||Eo(c,c[m],m,a))&&(delete c[m],f=!0)}}return H.isArray(i)?i.forEach(h):h(i),f}clear(i){const a=Object.keys(this);let c=a.length,f=!1;for(;c--;){const h=a[c];(!i||Eo(this,this[h],h,i,!0))&&(delete this[h],f=!0)}return f}normalize(i){const a=this,c={};return H.forEach(this,(f,h)=>{const x=H.findKey(c,h);if(x){a[x]=ss(f),delete a[h];return}const m=i?S2(h):String(h).trim();m!==h&&delete a[h],a[m]=ss(f),c[m]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const a=Object.create(null);return H.forEach(this,(c,f)=>{c!=null&&c!==!1&&(a[f]=i&&H.isArray(c)?c.join(", "):c)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,a])=>i+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...a){const c=new this(i);return a.forEach(f=>c.set(f)),c}static accessor(i){const c=(this[Ll]=this[Ll]={accessors:{}}).accessors,f=this.prototype;function h(x){const m=fi(x);c[m]||(T2(f,x),c[m]=!0)}return H.isArray(i)?i.forEach(h):h(i),this}};sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(sn.prototype,({value:n},i)=>{let a=i[0].toUpperCase()+i.slice(1);return{get:()=>n,set(c){this[a]=c}}});H.freezeMethods(sn);function Ao(n,i){const a=this||Fi,c=i||a,f=sn.from(c.headers);let h=c.data;return H.forEach(n,function(m){h=m.call(a,h,f.normalize(),i?i.status:void 0)}),f.normalize(),h}function z1(n){return!!(n&&n.__CANCEL__)}let ki=class extends Re{constructor(i,a,c){super(i??"canceled",Re.ERR_CANCELED,a,c),this.name="CanceledError",this.__CANCEL__=!0}};function Y1(n,i,a){const c=a.config.validateStatus;!a.status||!c||c(a.status)?n(a):i(new Re("Request failed with status code "+a.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function R2(n){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return i&&i[1]||""}function O2(n,i){n=n||10;const a=new Array(n),c=new Array(n);let f=0,h=0,x;return i=i!==void 0?i:1e3,function(E){const w=Date.now(),b=c[h];x||(x=w),a[f]=E,c[f]=w;let y=h,N=0;for(;y!==f;)N+=a[y++],y=y%n;if(f=(f+1)%n,f===h&&(h=(h+1)%n),w-x<i)return;const v=b&&w-b;return v?Math.round(N*1e3/v):void 0}}function N2(n,i){let a=0,c=1e3/i,f,h;const x=(w,b=Date.now())=>{a=b,f=null,h&&(clearTimeout(h),h=null),n(...w)};return[(...w)=>{const b=Date.now(),y=b-a;y>=c?x(w,b):(f=w,h||(h=setTimeout(()=>{h=null,x(f)},c-y)))},()=>f&&x(f)]}const xs=(n,i,a=3)=>{let c=0;const f=O2(50,250);return N2(h=>{const x=h.loaded,m=h.lengthComputable?h.total:void 0,E=x-c,w=f(E),b=x<=m;c=x;const y={loaded:x,total:m,progress:m?x/m:void 0,bytes:E,rate:w||void 0,estimated:w&&m&&b?(m-x)/w:void 0,event:h,lengthComputable:m!=null,[i?"download":"upload"]:!0};n(y)},a)},Fl=(n,i)=>{const a=n!=null;return[c=>i[0]({lengthComputable:a,total:n,loaded:c}),i[1]]},kl=n=>(...i)=>H.asap(()=>n(...i)),D2=Gt.hasStandardBrowserEnv?((n,i)=>a=>(a=new URL(a,Gt.origin),n.protocol===a.protocol&&n.host===a.host&&(i||n.port===a.port)))(new URL(Gt.origin),Gt.navigator&&/(msie|trident)/i.test(Gt.navigator.userAgent)):()=>!0,v2=Gt.hasStandardBrowserEnv?{write(n,i,a,c,f,h,x){if(typeof document>"u")return;const m=[`${n}=${encodeURIComponent(i)}`];H.isNumber(a)&&m.push(`expires=${new Date(a).toUTCString()}`),H.isString(c)&&m.push(`path=${c}`),H.isString(f)&&m.push(`domain=${f}`),h===!0&&m.push("secure"),H.isString(x)&&m.push(`SameSite=${x}`),document.cookie=m.join("; ")},read(n){if(typeof document>"u")return null;const i=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return i?decodeURIComponent(i[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function M2(n){return typeof n!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function B2(n,i){return i?n.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):n}function K1(n,i,a){let c=!M2(i);return n&&(c||a==!1)?B2(n,i):i}const Ul=n=>n instanceof sn?{...n}:n;function Tr(n,i){i=i||{};const a={};function c(w,b,y,N){return H.isPlainObject(w)&&H.isPlainObject(b)?H.merge.call({caseless:N},w,b):H.isPlainObject(b)?H.merge({},b):H.isArray(b)?b.slice():b}function f(w,b,y,N){if(H.isUndefined(b)){if(!H.isUndefined(w))return c(void 0,w,y,N)}else return c(w,b,y,N)}function h(w,b){if(!H.isUndefined(b))return c(void 0,b)}function x(w,b){if(H.isUndefined(b)){if(!H.isUndefined(w))return c(void 0,w)}else return c(void 0,b)}function m(w,b,y){if(y in i)return c(w,b);if(y in n)return c(void 0,w)}const E={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:m,headers:(w,b,y)=>f(Ul(w),Ul(b),y,!0)};return H.forEach(Object.keys({...n,...i}),function(b){if(b==="__proto__"||b==="constructor"||b==="prototype")return;const y=H.hasOwnProp(E,b)?E[b]:f,N=y(n[b],i[b],b);H.isUndefined(N)&&y!==m||(a[b]=N)}),a}const Z1=n=>{const i=Tr({},n);let{data:a,withXSRFToken:c,xsrfHeaderName:f,xsrfCookieName:h,headers:x,auth:m}=i;if(i.headers=x=sn.from(x),i.url=X1(K1(i.baseURL,i.url,i.allowAbsoluteUrls),n.params,n.paramsSerializer),m&&x.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),H.isFormData(a)){if(Gt.hasStandardBrowserEnv||Gt.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if(H.isFunction(a.getHeaders)){const E=a.getHeaders(),w=["content-type","content-length"];Object.entries(E).forEach(([b,y])=>{w.includes(b.toLowerCase())&&x.set(b,y)})}}if(Gt.hasStandardBrowserEnv&&(c&&H.isFunction(c)&&(c=c(i)),c||c!==!1&&D2(i.url))){const E=f&&h&&v2.read(h);E&&x.set(f,E)}return i},P2=typeof XMLHttpRequest<"u",L2=P2&&function(n){return new Promise(function(a,c){const f=Z1(n);let h=f.data;const x=sn.from(f.headers).normalize();let{responseType:m,onUploadProgress:E,onDownloadProgress:w}=f,b,y,N,v,P;function L(){v&&v(),P&&P(),f.cancelToken&&f.cancelToken.unsubscribe(b),f.signal&&f.signal.removeEventListener("abort",b)}let z=new XMLHttpRequest;z.open(f.method.toUpperCase(),f.url,!0),z.timeout=f.timeout;function le(){if(!z)return;const j=sn.from("getAllResponseHeaders"in z&&z.getAllResponseHeaders()),ge={data:!m||m==="text"||m==="json"?z.responseText:z.response,status:z.status,statusText:z.statusText,headers:j,config:n,request:z};Y1(function(Y){a(Y),L()},function(Y){c(Y),L()},ge),z=null}"onloadend"in z?z.onloadend=le:z.onreadystatechange=function(){!z||z.readyState!==4||z.status===0&&!(z.responseURL&&z.responseURL.indexOf("file:")===0)||setTimeout(le)},z.onabort=function(){z&&(c(new Re("Request aborted",Re.ECONNABORTED,n,z)),z=null)},z.onerror=function(q){const ge=q&&q.message?q.message:"Network Error",we=new Re(ge,Re.ERR_NETWORK,n,z);we.event=q||null,c(we),z=null},z.ontimeout=function(){let q=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const ge=f.transitional||fa;f.timeoutErrorMessage&&(q=f.timeoutErrorMessage),c(new Re(q,ge.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,n,z)),z=null},h===void 0&&x.setContentType(null),"setRequestHeader"in z&&H.forEach(x.toJSON(),function(q,ge){z.setRequestHeader(ge,q)}),H.isUndefined(f.withCredentials)||(z.withCredentials=!!f.withCredentials),m&&m!=="json"&&(z.responseType=f.responseType),w&&([N,P]=xs(w,!0),z.addEventListener("progress",N)),E&&z.upload&&([y,v]=xs(E),z.upload.addEventListener("progress",y),z.upload.addEventListener("loadend",v)),(f.cancelToken||f.signal)&&(b=j=>{z&&(c(!j||j.type?new ki(null,n,z):j),z.abort(),z=null)},f.cancelToken&&f.cancelToken.subscribe(b),f.signal&&(f.signal.aborted?b():f.signal.addEventListener("abort",b)));const J=R2(f.url);if(J&&Gt.protocols.indexOf(J)===-1){c(new Re("Unsupported protocol "+J+":",Re.ERR_BAD_REQUEST,n));return}z.send(h||null)})},F2=(n,i)=>{const{length:a}=n=n?n.filter(Boolean):[];if(i||a){let c=new AbortController,f;const h=function(w){if(!f){f=!0,m();const b=w instanceof Error?w:this.reason;c.abort(b instanceof Re?b:new ki(b instanceof Error?b.message:b))}};let x=i&&setTimeout(()=>{x=null,h(new Re(`timeout of ${i}ms exceeded`,Re.ETIMEDOUT))},i);const m=()=>{n&&(x&&clearTimeout(x),x=null,n.forEach(w=>{w.unsubscribe?w.unsubscribe(h):w.removeEventListener("abort",h)}),n=null)};n.forEach(w=>w.addEventListener("abort",h));const{signal:E}=c;return E.unsubscribe=()=>H.asap(m),E}},k2=function*(n,i){let a=n.byteLength;if(a<i){yield n;return}let c=0,f;for(;c<a;)f=c+i,yield n.slice(c,f),c=f},U2=async function*(n,i){for await(const a of V2(n))yield*k2(a,i)},V2=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const i=n.getReader();try{for(;;){const{done:a,value:c}=await i.read();if(a)break;yield c}}finally{await i.cancel()}},Vl=(n,i,a,c)=>{const f=U2(n,i);let h=0,x,m=E=>{x||(x=!0,c&&c(E))};return new ReadableStream({async pull(E){try{const{done:w,value:b}=await f.next();if(w){m(),E.close();return}let y=b.byteLength;if(a){let N=h+=y;a(N)}E.enqueue(new Uint8Array(b))}catch(w){throw m(w),w}},cancel(E){return m(E),f.return()}},{highWaterMark:2})},Hl=64*1024,{isFunction:Qi}=H,H2=(({Request:n,Response:i})=>({Request:n,Response:i}))(H.global),{ReadableStream:Gl,TextEncoder:Wl}=H.global,Xl=(n,...i)=>{try{return!!n(...i)}catch{return!1}},G2=n=>{n=H.merge.call({skipUndefined:!0},H2,n);const{fetch:i,Request:a,Response:c}=n,f=i?Qi(i):typeof fetch=="function",h=Qi(a),x=Qi(c);if(!f)return!1;const m=f&&Qi(Gl),E=f&&(typeof Wl=="function"?(P=>L=>P.encode(L))(new Wl):async P=>new Uint8Array(await new a(P).arrayBuffer())),w=h&&m&&Xl(()=>{let P=!1;const L=new a(Gt.origin,{body:new Gl,method:"POST",get duplex(){return P=!0,"half"}}).headers.has("Content-Type");return P&&!L}),b=x&&m&&Xl(()=>H.isReadableStream(new c("").body)),y={stream:b&&(P=>P.body)};f&&["text","arrayBuffer","blob","formData","stream"].forEach(P=>{!y[P]&&(y[P]=(L,z)=>{let le=L&&L[P];if(le)return le.call(L);throw new Re(`Response type '${P}' is not supported`,Re.ERR_NOT_SUPPORT,z)})});const N=async P=>{if(P==null)return 0;if(H.isBlob(P))return P.size;if(H.isSpecCompliantForm(P))return(await new a(Gt.origin,{method:"POST",body:P}).arrayBuffer()).byteLength;if(H.isArrayBufferView(P)||H.isArrayBuffer(P))return P.byteLength;if(H.isURLSearchParams(P)&&(P=P+""),H.isString(P))return(await E(P)).byteLength},v=async(P,L)=>{const z=H.toFiniteNumber(P.getContentLength());return z??N(L)};return async P=>{let{url:L,method:z,data:le,signal:J,cancelToken:j,timeout:q,onDownloadProgress:ge,onUploadProgress:we,responseType:Y,headers:Me,withCredentials:te="same-origin",fetchOptions:It}=Z1(P),at=i||fetch;Y=Y?(Y+"").toLowerCase():"text";let me=F2([J,j&&j.toAbortSignal()],q),Ne=null;const ze=me&&me.unsubscribe&&(()=>{me.unsubscribe()});let G;try{if(we&&w&&z!=="get"&&z!=="head"&&(G=await v(Me,le))!==0){let pt=new a(L,{method:"POST",body:le,duplex:"half"}),Ve;if(H.isFormData(le)&&(Ve=pt.headers.get("content-type"))&&Me.setContentType(Ve),pt.body){const[Nt,rt]=Fl(G,xs(kl(we)));le=Vl(pt.body,Hl,Nt,rt)}}H.isString(te)||(te=te?"include":"omit");const ye=h&&"credentials"in a.prototype,fe={...It,signal:me,method:z.toUpperCase(),headers:Me.normalize().toJSON(),body:le,duplex:"half",credentials:ye?te:void 0};Ne=h&&new a(L,fe);let De=await(h?at(Ne,It):at(L,fe));const Ct=b&&(Y==="stream"||Y==="response");if(b&&(ge||Ct&&ze)){const pt={};["status","statusText","headers"].forEach(Zt=>{pt[Zt]=De[Zt]});const Ve=H.toFiniteNumber(De.headers.get("content-length")),[Nt,rt]=ge&&Fl(Ve,xs(kl(ge),!0))||[];De=new c(Vl(De.body,Hl,Nt,()=>{rt&&rt(),ze&&ze()}),pt)}Y=Y||"text";let _t=await y[H.findKey(y,Y)||"text"](De,P);return!Ct&&ze&&ze(),await new Promise((pt,Ve)=>{Y1(pt,Ve,{data:_t,headers:sn.from(De.headers),status:De.status,statusText:De.statusText,config:P,request:Ne})})}catch(ye){throw ze&&ze(),ye&&ye.name==="TypeError"&&/Load failed|fetch/i.test(ye.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,P,Ne,ye&&ye.response),{cause:ye.cause||ye}):Re.from(ye,ye&&ye.code,P,Ne,ye&&ye.response)}}},W2=new Map,q1=n=>{let i=n&&n.env||{};const{fetch:a,Request:c,Response:f}=i,h=[c,f,a];let x=h.length,m=x,E,w,b=W2;for(;m--;)E=h[m],w=b.get(E),w===void 0&&b.set(E,w=m?new Map:G2(i)),b=w;return w};q1();const da={http:o2,xhr:L2,fetch:{get:q1}};H.forEach(da,(n,i)=>{if(n){try{Object.defineProperty(n,"name",{value:i})}catch{}Object.defineProperty(n,"adapterName",{value:i})}});const jl=n=>`- ${n}`,X2=n=>H.isFunction(n)||n===null||n===!1;function j2(n,i){n=H.isArray(n)?n:[n];const{length:a}=n;let c,f;const h={};for(let x=0;x<a;x++){c=n[x];let m;if(f=c,!X2(c)&&(f=da[(m=String(c)).toLowerCase()],f===void 0))throw new Re(`Unknown adapter '${m}'`);if(f&&(H.isFunction(f)||(f=f.get(i))))break;h[m||"#"+x]=f}if(!f){const x=Object.entries(h).map(([E,w])=>`adapter ${E} `+(w===!1?"is not supported by the environment":"is not available in the build"));let m=a?x.length>1?`since :
`+x.map(jl).join(`
`):" "+jl(x[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return f}const Q1={getAdapter:j2,adapters:da};function Co(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ki(null,n)}function zl(n){return Co(n),n.headers=sn.from(n.headers),n.data=Ao.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Q1.getAdapter(n.adapter||Fi.adapter,n)(n).then(function(c){return Co(n),c.data=Ao.call(n,n.transformResponse,c),c.headers=sn.from(c.headers),c},function(c){return z1(c)||(Co(n),c&&c.response&&(c.response.data=Ao.call(n,n.transformResponse,c.response),c.response.headers=sn.from(c.response.headers))),Promise.reject(c)})}const J1="1.13.5",Ls={};["object","boolean","number","function","string","symbol"].forEach((n,i)=>{Ls[n]=function(c){return typeof c===n||"a"+(i<1?"n ":" ")+n}});const Yl={};Ls.transitional=function(i,a,c){function f(h,x){return"[Axios v"+J1+"] Transitional option '"+h+"'"+x+(c?". "+c:"")}return(h,x,m)=>{if(i===!1)throw new Re(f(x," has been removed"+(a?" in "+a:"")),Re.ERR_DEPRECATED);return a&&!Yl[x]&&(Yl[x]=!0,console.warn(f(x," has been deprecated since v"+a+" and will be removed in the near future"))),i?i(h,x,m):!0}};Ls.spelling=function(i){return(a,c)=>(console.warn(`${c} is likely a misspelling of ${i}`),!0)};function z2(n,i,a){if(typeof n!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const c=Object.keys(n);let f=c.length;for(;f-- >0;){const h=c[f],x=i[h];if(x){const m=n[h],E=m===void 0||x(m,h,n);if(E!==!0)throw new Re("option "+h+" must be "+E,Re.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Re("Unknown option "+h,Re.ERR_BAD_OPTION)}}const os={assertOptions:z2,validators:Ls},pn=os.validators;let Sr=class{constructor(i){this.defaults=i||{},this.interceptors={request:new Pl,response:new Pl}}async request(i,a){try{return await this._request(i,a)}catch(c){if(c instanceof Error){let f={};Error.captureStackTrace?Error.captureStackTrace(f):f=new Error;const h=f.stack?f.stack.replace(/^.+\n/,""):"";try{c.stack?h&&!String(c.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+h):c.stack=h}catch{}}throw c}}_request(i,a){typeof i=="string"?(a=a||{},a.url=i):a=i||{},a=Tr(this.defaults,a);const{transitional:c,paramsSerializer:f,headers:h}=a;c!==void 0&&os.assertOptions(c,{silentJSONParsing:pn.transitional(pn.boolean),forcedJSONParsing:pn.transitional(pn.boolean),clarifyTimeoutError:pn.transitional(pn.boolean),legacyInterceptorReqResOrdering:pn.transitional(pn.boolean)},!1),f!=null&&(H.isFunction(f)?a.paramsSerializer={serialize:f}:os.assertOptions(f,{encode:pn.function,serialize:pn.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),os.assertOptions(a,{baseUrl:pn.spelling("baseURL"),withXsrfToken:pn.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let x=h&&H.merge(h.common,h[a.method]);h&&H.forEach(["delete","get","head","post","put","patch","common"],P=>{delete h[P]}),a.headers=sn.concat(x,h);const m=[];let E=!0;this.interceptors.request.forEach(function(L){if(typeof L.runWhen=="function"&&L.runWhen(a)===!1)return;E=E&&L.synchronous;const z=a.transitional||fa;z&&z.legacyInterceptorReqResOrdering?m.unshift(L.fulfilled,L.rejected):m.push(L.fulfilled,L.rejected)});const w=[];this.interceptors.response.forEach(function(L){w.push(L.fulfilled,L.rejected)});let b,y=0,N;if(!E){const P=[zl.bind(this),void 0];for(P.unshift(...m),P.push(...w),N=P.length,b=Promise.resolve(a);y<N;)b=b.then(P[y++],P[y++]);return b}N=m.length;let v=a;for(;y<N;){const P=m[y++],L=m[y++];try{v=P(v)}catch(z){L.call(this,z);break}}try{b=zl.call(this,v)}catch(P){return Promise.reject(P)}for(y=0,N=w.length;y<N;)b=b.then(w[y++],w[y++]);return b}getUri(i){i=Tr(this.defaults,i);const a=K1(i.baseURL,i.url,i.allowAbsoluteUrls);return X1(a,i.params,i.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(i){Sr.prototype[i]=function(a,c){return this.request(Tr(c||{},{method:i,url:a,data:(c||{}).data}))}});H.forEach(["post","put","patch"],function(i){function a(c){return function(h,x,m){return this.request(Tr(m||{},{method:i,headers:c?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}Sr.prototype[i]=a(),Sr.prototype[i+"Form"]=a(!0)});let Y2=class $1{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(h){a=h});const c=this;this.promise.then(f=>{if(!c._listeners)return;let h=c._listeners.length;for(;h-- >0;)c._listeners[h](f);c._listeners=null}),this.promise.then=f=>{let h;const x=new Promise(m=>{c.subscribe(m),h=m}).then(f);return x.cancel=function(){c.unsubscribe(h)},x},i(function(h,x,m){c.reason||(c.reason=new ki(h,x,m),a(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const a=this._listeners.indexOf(i);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const i=new AbortController,a=c=>{i.abort(c)};return this.subscribe(a),i.signal.unsubscribe=()=>this.unsubscribe(a),i.signal}static source(){let i;return{token:new $1(function(f){i=f}),cancel:i}}};function K2(n){return function(a){return n.apply(null,a)}}function Z2(n){return H.isObject(n)&&n.isAxiosError===!0}const Vo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Vo).forEach(([n,i])=>{Vo[i]=n});function eu(n){const i=new Sr(n),a=M1(Sr.prototype.request,i);return H.extend(a,Sr.prototype,i,{allOwnKeys:!0}),H.extend(a,i,null,{allOwnKeys:!0}),a.create=function(f){return eu(Tr(n,f))},a}const yt=eu(Fi);yt.Axios=Sr;yt.CanceledError=ki;yt.CancelToken=Y2;yt.isCancel=z1;yt.VERSION=J1;yt.toFormData=Ps;yt.AxiosError=Re;yt.Cancel=yt.CanceledError;yt.all=function(i){return Promise.all(i)};yt.spread=K2;yt.isAxiosError=Z2;yt.mergeConfig=Tr;yt.AxiosHeaders=sn;yt.formToJSON=n=>j1(H.isHTMLForm(n)?new FormData(n):n);yt.getAdapter=Q1.getAdapter;yt.HttpStatusCode=Vo;yt.default=yt;const{Axios:Yg,AxiosError:Kg,CanceledError:Zg,isCancel:qg,CancelToken:Qg,VERSION:Jg,all:$g,Cancel:ex,isAxiosError:tu,spread:tx,toFormData:nx,AxiosHeaders:rx,HttpStatusCode:ix,formToJSON:sx,getAdapter:ox,mergeConfig:ax}=yt,ga="swcs_token",xa="swcs_token_expire",pa="swcs_username";function q2(n,i,a){localStorage.setItem(ga,n),localStorage.setItem(xa,i),localStorage.setItem(pa,a)}function nu(){localStorage.removeItem(ga),localStorage.removeItem(xa),localStorage.removeItem(pa)}function ru(){return localStorage.getItem(ga)}function Q2(){return localStorage.getItem(pa)??""}function Kl(){const n=ru(),i=localStorage.getItem(xa);if(!n||!i)return!1;const a=new Date(i);return Number.isNaN(a.getTime())?!1:a.getTime()>Date.now()}const J2="https://192.168.0.188:5001",Fs=yt.create({baseURL:J2,timeout:2500});Fs.interceptors.request.use(n=>{const i=ru();return i&&(n.headers.Authorization=`Bearer ${i}`),n});Fs.interceptors.response.use(n=>n,n=>(n.response?.status===401&&(nu(),window.location.replace("/login")),Promise.reject(n)));const $2={class:"login-page"},eg={class:"login-card"},tg={key:0,class:"login-error"},ng=["disabled"],rg=_s({__name:"LoginView",setup(n){const i=v1(),a=mn("user01"),c=mn(""),f=mn(!1),h=mn("");async function x(){if(h.value="",!a.value.trim()||!c.value.trim()){h.value="";return}f.value=!0;try{const m=await Fs.post("/api/auth/login",{username:a.value.trim(),password:c.value});q2(m.data.accessToken,m.data.expiresAtUtc,a.value.trim()),await i.replace({name:"scan"})}catch(m){tu(m)&&m.response?.data?.message?h.value=m.response.data.message:h.value=""}finally{f.value=!1}}return(m,E)=>(Kn(),br("main",$2,[Ge("section",eg,[E[4]||(E[4]=Ge("p",{class:"login-kicker"},"SWCS LAN",-1)),E[5]||(E[5]=Ge("h1",{class:"login-title"},"",-1)),E[6]||(E[6]=Ge("p",{class:"login-subtitle"}," WiFi ",-1)),Ge("form",{class:"login-form",onSubmit:sh(x,["prevent"])},[E[2]||(E[2]=Ge("label",{class:"login-label",for:"username"},"",-1)),Va(Ge("input",{id:"username","onUpdate:modelValue":E[0]||(E[0]=w=>a.value=w),class:"login-input",maxlength:"64",autocomplete:"username"},null,512),[[gl,a.value]]),E[3]||(E[3]=Ge("label",{class:"login-label",for:"password"},"",-1)),Va(Ge("input",{id:"password","onUpdate:modelValue":E[1]||(E[1]=w=>c.value=w),class:"login-input",type:"password",maxlength:"128",autocomplete:"current-password"},null,512),[[gl,c.value]]),h.value?(Kn(),br("p",tg,wn(h.value),1)):g1("",!0),Ge("button",{class:"login-submit",type:"submit",disabled:f.value},wn(f.value?"...":""),9,ng)],32)])]))}});var ue;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ue||(ue={}));var Zl=new Map([[ue.QR_CODE,"QR_CODE"],[ue.AZTEC,"AZTEC"],[ue.CODABAR,"CODABAR"],[ue.CODE_39,"CODE_39"],[ue.CODE_93,"CODE_93"],[ue.CODE_128,"CODE_128"],[ue.DATA_MATRIX,"DATA_MATRIX"],[ue.MAXICODE,"MAXICODE"],[ue.ITF,"ITF"],[ue.EAN_13,"EAN_13"],[ue.EAN_8,"EAN_8"],[ue.PDF_417,"PDF_417"],[ue.RSS_14,"RSS_14"],[ue.RSS_EXPANDED,"RSS_EXPANDED"],[ue.UPC_A,"UPC_A"],[ue.UPC_E,"UPC_E"],[ue.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ql;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(ql||(ql={}));function ig(n){return Object.values(ue).includes(n)}var ps;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ps||(ps={}));var sg=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[ps.SCAN_TYPE_CAMERA,ps.SCAN_TYPE_FILE],n})(),iu=(function(){function n(i,a){this.format=i,this.formatName=a}return n.prototype.toString=function(){return this.formatName},n.create=function(i){if(!Zl.has(i))throw"".concat(i," not in html5QrcodeSupportedFormatsTextMap");return new n(i,Zl.get(i))},n})(),Ql=(function(){function n(){}return n.createFromText=function(i){var a={text:i};return{decodedText:i,result:a}},n.createFromQrcodeResult=function(i){return{decodedText:i.text,result:i}},n})(),Ho;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ho||(Ho={}));var og=(function(){function n(){}return n.createFrom=function(i){return{errorMessage:i,type:Ho.UNKWOWN_ERROR}},n})(),ag=(function(){function n(i){this.verbose=i}return n.prototype.log=function(i){this.verbose&&console.log(i)},n.prototype.warn=function(i){this.verbose&&console.warn(i)},n.prototype.logError=function(i,a){(this.verbose||a===!0)&&console.error(i)},n.prototype.logErrors=function(i){if(i.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(i)},n})();function Wn(n){return typeof n>"u"||n===null}var Gr=(function(){function n(){}return n.codeParseError=function(i){return"QR code parse error, error = ".concat(i)},n.errorGettingUserMedia=function(i){return"Error getting userMedia, error = ".concat(i)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n})(),su=(function(){function n(){}return n.isMediaStreamConstraintsValid=function(i,a){if(typeof i!="object"){var c=typeof i;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(f),x=Object.keys(i),m=0,E=x;m<E.length;m++){var w=E[m];if(h.has(w))return a.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},n})(),Ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gi={exports:{}},lg=gi.exports,Jl;function cg(){return Jl||(Jl=1,(function(n,i){(function(a,c){c(i)})(lg,(function(a){function c(A){return A==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])};function h(A,e){f(A,e);function t(){this.constructor=A}A.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function x(A,e){var t=Object.setPrototypeOf;t?t(A,e):A.__proto__=e}function m(A,e){e===void 0&&(e=A.constructor);var t=Error.captureStackTrace;t&&t(A,e)}var E=(function(A){h(e,A);function e(t){var r=this.constructor,s=A.call(this,t)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),x(s,r.prototype),m(s),s}return e})(Error);class w extends E{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}w.kind="Exception";class b extends w{}b.kind="ArgumentException";class y extends w{}y.kind="IllegalArgumentException";class N{constructor(e){if(this.binarizer=e,e===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,s){const o=this.binarizer.getLuminanceSource().crop(e,t,r,s);return new N(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class v extends w{static getChecksumInstance(){return new v}}v.kind="ChecksumException";class P{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class L{static arraycopy(e,t,r,s,o){for(;o--;)r[s++]=e[t++]}static currentTimeMillis(){return Date.now()}}class z extends w{}z.kind="IndexOutOfBoundsException";class le extends z{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}le.kind="ArrayIndexOutOfBoundsException";class J{static fill(e,t){for(let r=0,s=e.length;r<s;r++)e[r]=t}static fillWithin(e,t,r,s){J.rangeCheck(e.length,t,r);for(let o=t;o<r;o++)e[o]=s}static rangeCheck(e,t,r){if(t>r)throw new y("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new le(t);if(r>e)throw new le(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(o=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(o=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let r=0,s=e.length;r<s;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const s=r-t,o=new Int32Array(s);return L.arraycopy(e,t,o,0,s),o}static binarySearch(e,t,r){r===void 0&&(r=J.numberComparator);let s=0,o=e.length-1;for(;s<=o;){const l=o+s>>1,u=r(t,e[l]);if(u>0)s=l+1;else if(u<0)o=l-1;else return l}return-s-1}static numberComparator(e,t){return e-t}}class j{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=q.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=q.makeArray(e);L.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let s=Math.floor(e/32),o=r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return t;o=r[s]}const u=s*32+j.numberOfTrailingZeros(o);return u>t?t:u}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let s=Math.floor(e/32),o=~r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return t;o=~r[s]}const u=s*32+j.numberOfTrailingZeros(o);return u>t?t:u}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new y;if(t===e)return;t--;const r=Math.floor(e/32),s=Math.floor(t/32),o=this.bits;for(let l=r;l<=s;l++){const u=l>r?0:e&31,g=(2<<(l<s?31:t&31))-(1<<u);o[l]|=g}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new y;if(t===e)return!0;t--;const s=Math.floor(e/32),o=Math.floor(t/32),l=this.bits;for(let u=s;u<=o;u++){const d=u>s?0:e&31,p=(2<<(u<o?31:t&31))-(1<<d)&4294967295;if((l[u]&p)!==(r?p:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new y("Sizes don't match");const t=this.bits;for(let r=0,s=t.length;r<s;r++)t[r]^=e.bits[r]}toBytes(e,t,r,s){for(let o=0;o<s;o++){let l=0;for(let u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;t[r+o]=l}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,s=this.bits;for(let o=0;o<r;o++){let l=s[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[t-o]=l}if(this.size!==r*32){const o=r*32-this.size;let l=e[0]>>>o;for(let u=1;u<r;u++){const d=e[u];l|=d<<32-o,e[u-1]=l,l=d>>>o}e[r-1]=l}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof q))return!1;const t=e;return this.size===t.size&&J.equals(this.bits,t.bits)}hashCode(){return 31*this.size+J.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new q(this.size,this.bits.slice())}}var ge;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ge||(ge={}));var we=ge;class Y extends w{static getFormatInstance(){return new Y}}Y.kind="FormatException";var Me;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(Me||(Me={}));class te{constructor(e,t,r,...s){this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,te.VALUE_IDENTIFIER_TO_ECI.set(e,this),te.NAME_TO_ECI.set(r,this);const o=this.values;for(let l=0,u=o.length;l!==u;l++){const d=o[l];te.VALUES_TO_ECI.set(d,this)}for(const l of s)te.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new Y("incorect value");const t=te.VALUES_TO_ECI.get(e);if(t===void 0)throw new Y("incorect value");return t}static getCharacterSetECIByName(e){const t=te.NAME_TO_ECI.get(e);if(t===void 0)throw new Y("incorect value");return t}equals(e){if(!(e instanceof te))return!1;const t=e;return this.getName()===t.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(Me.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(Me.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(Me.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(Me.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(Me.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(Me.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(Me.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(Me.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(Me.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(Me.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(Me.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(Me.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(Me.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(Me.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(Me.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(Me.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(Me.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(Me.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(Me.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(Me.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(Me.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(Me.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(Me.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(Me.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(Me.Big5,28,"Big5"),te.GB18030=new te(Me.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(Me.EUC_KR,30,"EUC_KR","EUC-KR");class It extends w{}It.kind="UnsupportedOperationException";class at{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!at.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof te?e:te.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(at.isDecodeFallbackSupported(r)){let s="";for(let o=0,l=e.length;o<l;o++){let u=e[o].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new It(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(te.UTF8)||e.equals(te.ISO8859_1)||e.equals(te.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class me{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return at.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(t!=null&&t.get(we.CHARACTER_SET)!==void 0)return t.get(we.CHARACTER_SET).toString();const r=e.length;let s=!0,o=!0,l=!0,u=0,d=0,g=0,p=0,C=0,I=0,S=0,O=0,D=0,B=0,V=0;const re=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ie=0;ie<r&&(s||o||l);ie++){const ne=e[ie]&255;l&&(u>0?(ne&128)===0?l=!1:u--:(ne&128)!==0&&((ne&64)===0?l=!1:(u++,(ne&32)===0?d++:(u++,(ne&16)===0?g++:(u++,(ne&8)===0?p++:l=!1))))),s&&(ne>127&&ne<160?s=!1:ne>159&&(ne<192||ne===215||ne===247)&&V++),o&&(C>0?ne<64||ne===127||ne>252?o=!1:C--:ne===128||ne===160||ne>239?o=!1:ne>160&&ne<224?(I++,O=0,S++,S>D&&(D=S)):ne>127?(C++,S=0,O++,O>B&&(B=O)):(S=0,O=0))}return l&&u>0&&(l=!1),o&&C>0&&(o=!1),l&&(re||d+g+p>0)?me.UTF8:o&&(me.ASSUME_SHIFT_JIS||D>=3||B>=3)?me.SHIFT_JIS:s&&o?D===2&&I===2||V*10>=r?me.SHIFT_JIS:me.ISO88591:s?me.ISO88591:o?me.SHIFT_JIS:l?me.UTF8:me.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function s(l,u,d,g,p,C){if(l==="%%")return"%";if(t[++r]===void 0)return;l=g?parseInt(g.substr(1)):void 0;let I=p?parseInt(p.substr(1)):void 0,S;switch(C){case"s":S=t[r];break;case"c":S=t[r][0];break;case"f":S=parseFloat(t[r]).toFixed(l);break;case"p":S=parseFloat(t[r]).toPrecision(l);break;case"e":S=parseFloat(t[r]).toExponential(l);break;case"x":S=parseInt(t[r]).toString(I||16);break;case"d":S=parseFloat(parseInt(t[r],I||10).toPrecision(l)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(I);let O=parseInt(d),D=d&&d[0]+""=="0"?"0":" ";for(;S.length<O;)S=u!==void 0?S+D:D+S;return S}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}static getBytes(e,t){return at.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}me.SHIFT_JIS=te.SJIS.getName(),me.GB2312="GB2312",me.ISO88591=te.ISO8859_1.getName(),me.EUC_JP="EUC_JP",me.UTF8=te.UTF8.getName(),me.PLATFORM_DEFAULT_ENCODING=me.UTF8,me.ASSUME_SHIFT_JIS=!1;class Ne{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=me.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let s=t;t<t+r;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class ze{constructor(e,t,r,s){if(this.width=e,this.height=t,this.rowSize=r,this.bits=s,t==null&&(t=e),this.height=t,e<1||t<1)throw new y("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,s=new ze(r,t);for(let o=0;o<t;o++){const l=e[o];for(let u=0;u<r;u++)l[u]&&s.set(u,o)}return s}static parseFromString(e,t,r){if(e===null)throw new y("stringRepresentation cannot be null");const s=new Array(e.length);let o=0,l=0,u=-1,d=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new y("row lengths do not match");l=o,d++}g++}else if(e.substring(g,g+t.length)===t)g+=t.length,s[o]=!0,o++;else if(e.substring(g,g+r.length)===r)g+=r.length,s[o]=!1,o++;else throw new y("illegal character encountered: "+e.substring(g));if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new y("row lengths do not match");d++}const p=new ze(u,d);for(let C=0;C<o;C++)s[C]&&p.set(Math.floor(C%u),Math.floor(C/u));return p}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new y("input matrix dimensions do not match");const t=new q(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,l=this.height;o<l;o++){const u=o*r,d=e.getRow(o,t).getBitArray();for(let g=0;g<r;g++)s[u+g]^=d[g]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,s){if(t<0||e<0)throw new y("Left and top must be nonnegative");if(s<1||r<1)throw new y("Height and width must be at least 1");const o=e+r,l=t+s;if(l>this.height||o>this.width)throw new y("The region must fit inside the matrix");const u=this.rowSize,d=this.bits;for(let g=t;g<l;g++){const p=g*u;for(let C=e;C<o;C++)d[p+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new q(this.width):t.clear();const r=this.rowSize,s=this.bits,o=e*r;for(let l=0;l<r;l++)t.setBulk(l*32,s[o+l]);return t}setRow(e,t){L.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new q(e),s=new q(e);for(let o=0,l=Math.floor((t+1)/2);o<l;o++)r=this.getRow(o,r),s=this.getRow(t-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(t-1-o,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,s=this.bits;let o=e,l=t,u=-1,d=-1;for(let g=0;g<t;g++)for(let p=0;p<r;p++){const C=s[g*r+p];if(C!==0){if(g<l&&(l=g),g>d&&(d=g),p*32<o){let I=0;for(;(C<<31-I&4294967295)===0;)I++;p*32+I<o&&(o=p*32+I)}if(p*32+31>u){let I=31;for(;!(C>>>I);)I--;p*32+I>u&&(u=p*32+I)}}}return u<o||d<l?null:Int32Array.from([o,l,u-o+1,d-l+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;const s=r/e;let o=r%e*32;const l=t[r];let u=0;for(;(l<<31-u&4294967295)===0;)u++;return o+=u,Int32Array.from([o,s])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&t[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/e);let o=Math.floor(r%e)*32;const l=t[r];let u=31;for(;!(l>>>u);)u--;return o+=u,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ze))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&J.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+J.hashCode(this.bits),e}toString(e="X ",t="  ",r=`
`){return this.buildToString(e,t,r)}buildToString(e,t,r){let s=new Ne;for(let o=0,l=this.height;o<l;o++){for(let u=0,d=this.width;u<d;u++)s.append(this.get(u,o)?e:t);s.append(r)}return s.toString()}clone(){return new ze(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends w{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class ye extends P{constructor(e){super(e),this.luminances=ye.EMPTY,this.buckets=new Int32Array(ye.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),s=r.getWidth();t==null||t.getSize()<s?t=new q(s):t.clear(),this.initArrays(s);const o=r.getRow(e,this.luminances),l=this.buckets;for(let d=0;d<s;d++)l[(o[d]&255)>>ye.LUMINANCE_SHIFT]++;const u=ye.estimateBlackPoint(l);if(s<3)for(let d=0;d<s;d++)(o[d]&255)<u&&t.set(d);else{let d=o[0]&255,g=o[1]&255;for(let p=1;p<s-1;p++){const C=o[p+1]&255;(g*4-d-C)/2<u&&t.set(p),d=g,g=C}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),s=new ze(t,r);this.initArrays(t);const o=this.buckets;for(let d=1;d<5;d++){const g=Math.floor(r*d/5),p=e.getRow(g,this.luminances),C=Math.floor(t*4/5);for(let I=Math.floor(t/5);I<C;I++){const S=p[I]&255;o[S>>ye.LUMINANCE_SHIFT]++}}const l=ye.estimateBlackPoint(o),u=e.getMatrix();for(let d=0;d<r;d++){const g=d*t;for(let p=0;p<t;p++)(u[g+p]&255)<l&&s.set(p,d)}return s}createBinarizer(e){return new ye(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<ye.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,s=0,o=0;for(let p=0;p<t;p++)e[p]>o&&(s=p,o=e[p]),e[p]>r&&(r=e[p]);let l=0,u=0;for(let p=0;p<t;p++){const C=p-s,I=e[p]*C*C;I>u&&(l=p,u=I)}if(s>l){const p=s;s=l,l=p}if(l-s<=t/16)throw new G;let d=l-1,g=-1;for(let p=l-1;p>s;p--){const C=p-s,I=C*C*(l-p)*(r-e[p]);I>g&&(d=p,g=I)}return d<<ye.LUMINANCE_SHIFT}}ye.LUMINANCE_BITS=5,ye.LUMINANCE_SHIFT=8-ye.LUMINANCE_BITS,ye.LUMINANCE_BUCKETS=1<<ye.LUMINANCE_BITS,ye.EMPTY=Uint8ClampedArray.from([0]);class fe extends ye{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=fe.MINIMUM_DIMENSION&&r>=fe.MINIMUM_DIMENSION){const s=e.getMatrix();let o=t>>fe.BLOCK_SIZE_POWER;(t&fe.BLOCK_SIZE_MASK)!==0&&o++;let l=r>>fe.BLOCK_SIZE_POWER;(r&fe.BLOCK_SIZE_MASK)!==0&&l++;const u=fe.calculateBlackPoints(s,o,l,t,r),d=new ze(t,r);fe.calculateThresholdForBlock(s,o,l,t,r,u,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new fe(e)}static calculateThresholdForBlock(e,t,r,s,o,l,u){const d=o-fe.BLOCK_SIZE,g=s-fe.BLOCK_SIZE;for(let p=0;p<r;p++){let C=p<<fe.BLOCK_SIZE_POWER;C>d&&(C=d);const I=fe.cap(p,2,r-3);for(let S=0;S<t;S++){let O=S<<fe.BLOCK_SIZE_POWER;O>g&&(O=g);const D=fe.cap(S,2,t-3);let B=0;for(let re=-2;re<=2;re++){const ie=l[I+re];B+=ie[D-2]+ie[D-1]+ie[D]+ie[D+1]+ie[D+2]}const V=B/25;fe.thresholdBlock(e,O,C,V,s,u)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,s,o,l){for(let u=0,d=r*o+t;u<fe.BLOCK_SIZE;u++,d+=o)for(let g=0;g<fe.BLOCK_SIZE;g++)(e[d+g]&255)<=s&&l.set(t+g,r+u)}static calculateBlackPoints(e,t,r,s,o){const l=o-fe.BLOCK_SIZE,u=s-fe.BLOCK_SIZE,d=new Array(r);for(let g=0;g<r;g++){d[g]=new Int32Array(t);let p=g<<fe.BLOCK_SIZE_POWER;p>l&&(p=l);for(let C=0;C<t;C++){let I=C<<fe.BLOCK_SIZE_POWER;I>u&&(I=u);let S=0,O=255,D=0;for(let V=0,re=p*s+I;V<fe.BLOCK_SIZE;V++,re+=s){for(let ie=0;ie<fe.BLOCK_SIZE;ie++){const ne=e[re+ie]&255;S+=ne,ne<O&&(O=ne),ne>D&&(D=ne)}if(D-O>fe.MIN_DYNAMIC_RANGE)for(V++,re+=s;V<fe.BLOCK_SIZE;V++,re+=s)for(let ie=0;ie<fe.BLOCK_SIZE;ie++)S+=e[re+ie]&255}let B=S>>fe.BLOCK_SIZE_POWER*2;if(D-O<=fe.MIN_DYNAMIC_RANGE&&(B=O/2,g>0&&C>0)){const V=(d[g-1][C]+2*d[g][C-1]+d[g-1][C-1])/4;O<V&&(B=V)}d[g][C]=B}}return d}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class De{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,s){throw new It("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new It("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new It("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new Ne;for(let r=0;r<this.height;r++){const s=this.getRow(r,e);for(let o=0;o<this.width;o++){const l=s[o]&255;let u;l<64?u="#":l<128?u="+":l<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()}}class Ct extends De{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let s=0;s<t;s++)r[s]=255-(e[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,s){return new Ct(this.delegate.crop(e,t,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ct(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ct(this.delegate.rotateCounterClockwise45())}}class _t extends De{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=_t.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return _t.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const s=new Uint8ClampedArray(t*r);for(let o=0,l=0,u=e.length;o<u;o+=4,l++){let d;if(e[o+3]===0)d=255;else{const p=e[o],C=e[o+1],I=e[o+2];d=306*p+601*C+117*I+512>>10}s[l]=d}return s}getRow(e,t){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const r=this.getWidth(),s=e*r;return t===null?t=this.buffer.slice(s,s+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(s,s+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,s){return super.crop(e,t,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),s=e*_t.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*l),d=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*l);return t.width=u,t.height=d,r.translate(u/2,d/2),r.rotate(s),r.drawImage(this.canvas,o/-2,l/-2),this.buffer=_t.makeBufferFromCanvasImageData(t),this}invert(){return new Ct(this)}}_t.DEGREE_TO_RADIANS=Math.PI/180;class pt{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ve=(globalThis||Ji||self||window||void 0)&&(globalThis||Ji||self||window||void 0).__awaiter||function(A,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(p){try{g(r.next(p))}catch(C){l(C)}}function d(p){try{g(r.throw(p))}catch(C){l(C)}}function g(p){p.done?o(p.value):s(p.value).then(u,d)}g((r=r.apply(A,e||[])).next())})};class Nt{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Ve(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,l=r.label||`Video device ${t.length+1}`,u=r.groupId,d={deviceId:o,label:l,kind:s,groupId:u};t.push(d)}return t})}getVideoInputDevices(){return Ve(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new pt(t.deviceId,t.label))})}findDeviceById(e){return Ve(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return Ve(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return Ve(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,t)})}decodeOnceFromConstraints(e,t){return Ve(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return Ve(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return Ve(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return Ve(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,t,r)})}decodeFromConstraints(e,t,r){return Ve(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,t,r)})}decodeFromStream(e,t,r){return Ve(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return Ve(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Ve(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new b(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new b(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new b("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new b("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(e===void 0&&t===void 0)throw new b("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new b("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new b("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new b("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,t);return r.src=e,s}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Ve(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return Ve(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,l)=>{if(this._stopAsyncDecode){l(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);o(u)}catch(u){const d=t&&u instanceof G,p=(u instanceof v||u instanceof Y)&&r;if(d||p)return setTimeout(s,this._timeBetweenDecodingAttempts,o,l);l(u)}};return new Promise((o,l)=>s(o,l))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);t(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){t(null,s);const o=s instanceof v||s instanceof Y,l=s instanceof G;(o||l)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new _t(t),s=new fe(r);return new N(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,s;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=s+"px",t.width=r,t.height=s,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class rt{constructor(e,t,r=t==null?0:8*t.length,s,o,l=L.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,l==null?this.timestamp=L.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(t.length+e.length);L.arraycopy(t,0,r,0,t.length),L.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Zt;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Zt||(Zt={}));var xe=Zt,K;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(K||(K={}));var oe=K;class ce{constructor(e,t,r,s,o=-1,l=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ee{exp(e){return this.expTable[e]}log(e){if(e===0)throw new y;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class _e{constructor(e,t){if(t.length===0)throw new y;this.field=e;const r=t.length;if(r>1&&t[0]===0){let s=1;for(;s<r&&t[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),L.arraycopy(t,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let r;if(e===1){r=0;for(let l=0,u=t.length;l!==u;l++){const d=t[l];r=Ee.addOrSubtract(r,d)}return r}r=t[0];const s=t.length,o=this.field;for(let l=1;l<s;l++)r=Ee.addOrSubtract(o.multiply(e,r),t[l]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const l=t;t=r,r=l}let s=new Int32Array(r.length);const o=r.length-t.length;L.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=Ee.addOrSubtract(t[l-o],r[l]);return new _e(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1),u=this.field;for(let d=0;d<r;d++){const g=t[d];for(let p=0;p<o;p++)l[d+p]=Ee.addOrSubtract(l[d+p],u.multiply(g,s[p]))}return new _e(u,l)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,r=this.field,s=new Int32Array(t),o=this.coefficients;for(let l=0;l<t;l++)s[l]=r.multiply(o[l],e);return new _e(r,s)}multiplyByMonomial(e,t){if(e<0)throw new y;if(t===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+e),l=this.field;for(let u=0;u<s;u++)o[u]=l.multiply(r[u],t);return new _e(l,o)}divide(e){if(!this.field.equals(e.field))throw new y("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new y("Divide by 0");const t=this.field;let r=t.getZero(),s=this;const o=e.getCoefficient(e.getDegree()),l=t.inverse(o);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const u=s.getDegree()-e.getDegree(),d=t.multiply(s.getCoefficient(s.getDegree()),l),g=e.multiplyByMonomial(u,d),p=t.buildMonomial(u,d);r=r.addOrSubtract(p),s=s.addOrSubtract(g)}return[r,s]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){const s=this.field.log(r);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class R extends w{}R.kind="ArithmeticException";class T extends Ee{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const s=new Int32Array(t);let o=1;for(let u=0;u<t;u++)s[u]=o,o*=2,o>=t&&(o^=e,o&=t-1);this.expTable=s;const l=new Int32Array(t);for(let u=0;u<t-1;u++)l[s[u]]=u;this.logTable=l,this.zero=new _e(this,Int32Array.from([0])),this.one=new _e(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new y;if(t===0)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new _e(this,r)}inverse(e){if(e===0)throw new R;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}T.AZTEC_DATA_12=new T(4201,4096,1),T.AZTEC_DATA_10=new T(1033,1024,1),T.AZTEC_DATA_6=new T(67,64,1),T.AZTEC_PARAM=new T(19,16,1),T.QR_CODE_FIELD_256=new T(285,256,0),T.DATA_MATRIX_FIELD_256=new T(301,256,1),T.AZTEC_DATA_8=T.DATA_MATRIX_FIELD_256,T.MAXICODE_FIELD_64=T.AZTEC_DATA_6;class M extends w{}M.kind="ReedSolomonException";class X extends w{}X.kind="IllegalStateException";class Z{constructor(e){this.field=e}decode(e,t){const r=this.field,s=new _e(r,e),o=new Int32Array(t);let l=!0;for(let S=0;S<t;S++){const O=s.evaluateAt(r.exp(S+r.getGeneratorBase()));o[o.length-1-S]=O,O!==0&&(l=!1)}if(l)return;const u=new _e(r,o),d=this.runEuclideanAlgorithm(r.buildMonomial(t,1),u,t),g=d[0],p=d[1],C=this.findErrorLocations(g),I=this.findErrorMagnitudes(p,C);for(let S=0;S<C.length;S++){const O=e.length-1-r.log(C[S]);if(O<0)throw new M("Bad error location");e[O]=T.addOrSubtract(e[O],I[S])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const S=e;e=t,t=S}const s=this.field;let o=e,l=t,u=s.getZero(),d=s.getOne();for(;l.getDegree()>=(r/2|0);){let S=o,O=u;if(o=l,u=d,o.isZero())throw new M("r_{i-1} was zero");l=S;let D=s.getZero();const B=o.getCoefficient(o.getDegree()),V=s.inverse(B);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){const re=l.getDegree()-o.getDegree(),ie=s.multiply(l.getCoefficient(l.getDegree()),V);D=D.addOrSubtract(s.buildMonomial(re,ie)),l=l.addOrSubtract(o.multiplyByMonomial(re,ie))}if(d=D.multiply(u).addOrSubtract(O),l.getDegree()>=o.getDegree())throw new X("Division algorithm failed to reduce polynomial?")}const g=d.getCoefficient(0);if(g===0)throw new M("sigmaTilde(0) was zero");const p=s.inverse(g),C=d.multiplyScalar(p),I=l.multiplyScalar(p);return[C,I]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let s=0;const o=this.field;for(let l=1;l<o.getSize()&&s<t;l++)e.evaluateAt(l)===0&&(r[s]=o.inverse(l),s++);if(s!==t)throw new M("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,s=new Int32Array(r),o=this.field;for(let l=0;l<r;l++){const u=o.inverse(t[l]);let d=1;for(let g=0;g<r;g++)if(l!==g){const p=o.multiply(t[g],u),C=(p&1)===0?p|1:p&-2;d=o.multiply(d,C)}s[l]=o.multiply(e.evaluateAt(u),o.inverse(d)),o.getGeneratorBase()!==0&&(s[l]=o.multiply(s[l],u))}return s}}var W;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(W||(W={}));class ee{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),s=this.correctBits(r),o=ee.convertBoolArrayToByteArray(s),l=ee.getEncodedData(s),u=new ce(o,l,null,null);return u.setNumBits(s.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=W.UPPER,s=W.UPPER,o="",l=0;for(;l<t;)if(s===W.BINARY){if(t-l<5)break;let u=ee.readCode(e,l,5);if(l+=5,u===0){if(t-l<11)break;u=ee.readCode(e,l,11)+31,l+=11}for(let d=0;d<u;d++){if(t-l<8){l=t;break}const g=ee.readCode(e,l,8);o+=me.castAsNonUtf8Char(g),l+=8}s=r}else{let u=s===W.DIGIT?4:5;if(t-l<u)break;let d=ee.readCode(e,l,u);l+=u;let g=ee.getCharacter(s,d);g.startsWith("CTRL_")?(r=s,s=ee.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=s)):(o+=g,s=r)}return o}static getTable(e){switch(e){case"L":return W.LOWER;case"P":return W.PUNCT;case"M":return W.MIXED;case"D":return W.DIGIT;case"B":return W.BINARY;default:return W.UPPER}}static getCharacter(e,t){switch(e){case W.UPPER:return ee.UPPER_TABLE[t];case W.LOWER:return ee.LOWER_TABLE[t];case W.MIXED:return ee.MIXED_TABLE[t];case W.PUNCT:return ee.PUNCT_TABLE[t];case W.DIGIT:return ee.DIGIT_TABLE[t];default:throw new X("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=T.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=T.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=T.AZTEC_DATA_10):(r=12,t=T.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=e.length/r;if(o<s)throw new Y;let l=e.length%r,u=new Int32Array(o);for(let I=0;I<o;I++,l+=r)u[I]=ee.readCode(e,l,r);try{new Z(t).decode(u,o-s)}catch(I){throw new Y(I)}let d=(1<<r)-1,g=0;for(let I=0;I<s;I++){let S=u[I];if(S===0||S===d)throw new Y;(S===1||S===d-1)&&g++}let p=new Array(s*r-g),C=0;for(let I=0;I<s;I++){let S=u[I];if(S===1||S===d-1)p.fill(S>1,C,C+r-1),C+=r-1;else for(let O=r-1;O>=0;--O)p[C++]=(S&1<<O)!==0}return p}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(t?11:14)+r*4,o=new Int32Array(s),l=new Array(this.totalBitsInLayer(r,t));if(t)for(let u=0;u<o.length;u++)o[u]=u;else{let u=s+1+2*j.truncDivision(j.truncDivision(s,2)-1,15),d=s/2,g=j.truncDivision(u,2);for(let p=0;p<d;p++){let C=p+j.truncDivision(p,15);o[d-p-1]=g-C-1,o[d+p]=g+C+1}}for(let u=0,d=0;u<r;u++){let g=(r-u)*4+(t?9:12),p=u*2,C=s-1-p;for(let I=0;I<g;I++){let S=I*2;for(let O=0;O<2;O++)l[d+S+O]=e.get(o[p+O],o[p+I]),l[d+2*g+S+O]=e.get(o[p+I],o[C-O]),l[d+4*g+S+O]=e.get(o[C-O],o[C-I]),l[d+6*g+S+O]=e.get(o[C-I],o[p+O])}d+=g*8}return l}static readCode(e,t,r){let s=0;for(let o=t;o<t+r;o++)s<<=1,e[o]&&(s|=1);return s}static readByte(e,t){let r=e.length-t;return r>=8?ee.readCode(e,t,8):ee.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=ee.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ee.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ee.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ee.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ee.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ee.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Q{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,s){const o=e-r,l=t-s;return Math.sqrt(o*o+l*l)}static sum(e){let t=0;for(let r=0,s=e.length;r!==s;r++){const o=e[r];t+=o}return t}}class se{static floatToIntBits(e){return e}}se.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof F){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*se.floatToIntBits(this.x)+se.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let o,l,u;if(r>=t&&r>=s?(l=e[0],o=e[1],u=e[2]):s>=r&&s>=t?(l=e[1],o=e[0],u=e[2]):(l=e[2],o=e[0],u=e[1]),this.crossProductZ(o,l,u)<0){const d=o;o=u,u=d}e[0]=o,e[1]=l,e[2]=u}static distance(e,t){return Q.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const s=t.x,o=t.y;return(r.x-s)*(e.y-o)-(r.y-o)*(e.x-s)}}class Ce{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class he extends Ce{constructor(e,t,r,s,o){super(e,t),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class pe{constructor(e,t,r,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=pe.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const o=t/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,s=this.downInit,o=!1,l=!0,u=!1,d=!1,g=!1,p=!1,C=!1;const I=this.width,S=this.height;for(;l;){l=!1;let O=!0;for(;(O||!d)&&t<I;)O=this.containsBlackPoint(r,s,t,!1),O?(t++,l=!0,d=!0):d||t++;if(t>=I){o=!0;break}let D=!0;for(;(D||!g)&&s<S;)D=this.containsBlackPoint(e,t,s,!0),D?(s++,l=!0,g=!0):g||s++;if(s>=S){o=!0;break}let B=!0;for(;(B||!p)&&e>=0;)B=this.containsBlackPoint(r,s,e,!1),B?(e--,l=!0,p=!0):p||e--;if(e<0){o=!0;break}let V=!0;for(;(V||!C)&&r>=0;)V=this.containsBlackPoint(e,t,r,!0),V?(r--,l=!0,C=!0):C||r--;if(r<0){o=!0;break}l&&(u=!0)}if(!o&&u){const O=t-e;let D=null;for(let ie=1;D===null&&ie<O;ie++)D=this.getBlackPointOnSegment(e,s-ie,e+ie,s);if(D==null)throw new G;let B=null;for(let ie=1;B===null&&ie<O;ie++)B=this.getBlackPointOnSegment(e,r+ie,e+ie,r);if(B==null)throw new G;let V=null;for(let ie=1;V===null&&ie<O;ie++)V=this.getBlackPointOnSegment(t,r+ie,t-ie,r);if(V==null)throw new G;let re=null;for(let ie=1;re===null&&ie<O;ie++)re=this.getBlackPointOnSegment(t,s-ie,t-ie,s);if(re==null)throw new G;return this.centerEdges(re,D,V,B)}else throw new G}getBlackPointOnSegment(e,t,r,s){const o=Q.round(Q.distance(e,t,r,s)),l=(r-e)/o,u=(s-t)/o,d=this.image;for(let g=0;g<o;g++){const p=Q.round(e+g*l),C=Q.round(t+g*u);if(d.get(p,C))return new F(p,C)}return null}centerEdges(e,t,r,s){const o=e.getX(),l=e.getY(),u=t.getX(),d=t.getY(),g=r.getX(),p=r.getY(),C=s.getX(),I=s.getY(),S=pe.CORR;return o<this.width/2?[new F(C-S,I+S),new F(u+S,d+S),new F(g-S,p-S),new F(o+S,l-S)]:[new F(C+S,I+S),new F(u+S,d-S),new F(g-S,p+S),new F(o-S,l-S)]}containsBlackPoint(e,t,r,s){const o=this.image;if(s){for(let l=e;l<=t;l++)if(o.get(l,r))return!0}else for(let l=e;l<=t;l++)if(o.get(r,l))return!0;return!1}}pe.INIT_SIZE=10,pe.CORR=1;class Se{static checkAndNudgePoints(e,t){const r=e.getWidth(),s=e.getHeight();let o=!0;for(let l=0;l<t.length&&o;l+=2){const u=Math.floor(t[l]),d=Math.floor(t[l+1]);if(u<-1||u>r||d<-1||d>s)throw new G;o=!1,u===-1?(t[l]=0,o=!0):u===r&&(t[l]=r-1,o=!0),d===-1?(t[l+1]=0,o=!0):d===s&&(t[l+1]=s-1,o=!0)}o=!0;for(let l=t.length-2;l>=0&&o;l-=2){const u=Math.floor(t[l]),d=Math.floor(t[l+1]);if(u<-1||u>r||d<-1||d>s)throw new G;o=!1,u===-1?(t[l]=0,o=!0):u===r&&(t[l]=r-1,o=!0),d===-1?(t[l+1]=0,o=!0):d===s&&(t[l+1]=s-1,o=!0)}}}class Oe{constructor(e,t,r,s,o,l,u,d,g){this.a11=e,this.a21=t,this.a31=r,this.a12=s,this.a22=o,this.a32=l,this.a13=u,this.a23=d,this.a33=g}static quadrilateralToQuadrilateral(e,t,r,s,o,l,u,d,g,p,C,I,S,O,D,B){const V=Oe.quadrilateralToSquare(e,t,r,s,o,l,u,d);return Oe.squareToQuadrilateral(g,p,C,I,S,O,D,B).times(V)}transformPoints(e){const t=e.length,r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,d=this.a23,g=this.a31,p=this.a32,C=this.a33;for(let I=0;I<t;I+=2){const S=e[I],O=e[I+1],D=o*S+d*O+C;e[I]=(r*S+l*O+g)/D,e[I+1]=(s*S+u*O+p)/D}}transformPointsWithValues(e,t){const r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,d=this.a23,g=this.a31,p=this.a32,C=this.a33,I=e.length;for(let S=0;S<I;S++){const O=e[S],D=t[S],B=o*O+d*D+C;e[S]=(r*O+l*D+g)/B,t[S]=(s*O+u*D+p)/B}}static squareToQuadrilateral(e,t,r,s,o,l,u,d){const g=e-r+o-u,p=t-s+l-d;if(g===0&&p===0)return new Oe(r-e,o-r,e,s-t,l-s,t,0,0,1);{const C=r-o,I=u-o,S=s-l,O=d-l,D=C*O-I*S,B=(g*O-I*p)/D,V=(C*p-g*S)/D;return new Oe(r-e+B*r,u-e+V*u,e,s-t+B*s,d-t+V*d,t,B,V,1)}}static quadrilateralToSquare(e,t,r,s,o,l,u,d){return Oe.squareToQuadrilateral(e,t,r,s,o,l,u,d).buildAdjoint()}buildAdjoint(){return new Oe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Oe(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class et extends Se{sampleGrid(e,t,r,s,o,l,u,d,g,p,C,I,S,O,D,B,V,re,ie){const ne=Oe.quadrilateralToQuadrilateral(s,o,l,u,d,g,p,C,I,S,O,D,B,V,re,ie);return this.sampleGridWithTransform(e,t,r,ne)}sampleGridWithTransform(e,t,r,s){if(t<=0||r<=0)throw new G;const o=new ze(t,r),l=new Float32Array(2*t);for(let u=0;u<r;u++){const d=l.length,g=u+.5;for(let p=0;p<d;p+=2)l[p]=p/2+.5,l[p+1]=g;s.transformPoints(l),Se.checkAndNudgePoints(e,l);try{for(let p=0;p<d;p+=2)e.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,u)}catch{throw new G}}return o}}class ke{static setGridSampler(e){ke.gridSampler=e}static getInstance(){return ke.gridSampler}}ke.gridSampler=new et;class Ze{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new F(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let l=r[0];r[0]=r[2],r[2]=l}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new he(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new G;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let s=0;for(let l=0;l<4;l++){let u=r[(this.shift+l)%4];this.compact?(s<<=7,s+=u>>1&127):(s<<=10,s+=(u>>2&992)+(u>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,t){let r=0;e.forEach((s,o,l)=>{let u=(s>>t-2<<1)+(s&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(j.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new G}getCorrectedParameterData(e,t){let r,s;t?(r=7,s=2):(r=10,s=4);let o=r-s,l=new Int32Array(r);for(let d=r-1;d>=0;--d)l[d]=e&15,e>>=4;try{new Z(T.AZTEC_PARAM).decode(l,o)}catch{throw new G}let u=0;for(let d=0;d<s;d++)u=(u<<4)+l[d];return u}getBullsEyeCorners(e){let t=e,r=e,s=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(t,l,1,-1),I=this.getFirstDifferent(r,l,1,1),S=this.getFirstDifferent(s,l,-1,1),O=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){let D=this.distancePoint(O,C)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(D<.75||D>1.25||!this.isWhiteOrBlackRectangle(C,I,S,O))break}t=C,r=I,s=S,o=O,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let u=new F(t.getX()+.5,t.getY()-.5),d=new F(r.getX()+.5,r.getY()+.5),g=new F(s.getX()-.5,s.getY()+.5),p=new F(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,d,g,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,s;try{let u=new pe(this.image).detect();e=u[0],t=u[1],r=u[2],s=u[3]}catch{let d=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new Ze(d+7,g-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ze(d+7,g+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Ze(d-7,g+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ze(d-7,g-7),!1,-1,-1).toResultPoint()}let o=Q.round((e.getX()+s.getX()+t.getX()+r.getX())/4),l=Q.round((e.getY()+s.getY()+t.getY()+r.getY())/4);try{let u=new pe(this.image,15,o,l).detect();e=u[0],t=u[1],r=u[2],s=u[3]}catch{e=this.getFirstDifferent(new Ze(o+7,l-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ze(o+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Ze(o-7,l+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Ze(o-7,l-7),!1,-1,-1).toResultPoint()}return o=Q.round((e.getX()+s.getX()+t.getX()+r.getX())/4),l=Q.round((e.getY()+s.getY()+t.getY()+r.getY())/4),new Ze(o,l)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,s,o){let l=ke.getInstance(),u=this.getDimension(),d=u/2-this.nbCenterLayers,g=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,d,d,g,d,g,g,d,g,t.getX(),t.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(e,t,r){let s=0,o=this.distanceResultPoint(e,t),l=o/r,u=e.getX(),d=e.getY(),g=l*(t.getX()-e.getX())/o,p=l*(t.getY()-e.getY())/o;for(let C=0;C<r;C++)this.image.get(Q.round(u+C*g),Q.round(d+C*p))&&(s|=1<<r-C-1);return s}isWhiteOrBlackRectangle(e,t,r,s){let o=3;e=new Ze(e.getX()-o,e.getY()+o),t=new Ze(t.getX()-o,t.getY()-o),r=new Ze(r.getX()+o,r.getY()-o),s=new Ze(s.getX()+o,s.getY()+o);let l=this.getColor(s,e);if(l===0)return!1;let u=this.getColor(e,t);return u!==l||(u=this.getColor(t,r),u!==l)?!1:(u=this.getColor(r,s),u===l)}getColor(e,t){let r=this.distancePoint(e,t),s=(t.getX()-e.getX())/r,o=(t.getY()-e.getY())/r,l=0,u=e.getX(),d=e.getY(),g=this.image.get(e.getX(),e.getY()),p=Math.ceil(r);for(let I=0;I<p;I++)u+=s,d+=o,this.image.get(Q.round(u),Q.round(d))!==g&&l++;let C=l/r;return C>.1&&C<.9?0:C<=.1===g?1:-1}getFirstDifferent(e,t,r,s){let o=e.getX()+r,l=e.getY()+s;for(;this.isValid(o,l)&&this.image.get(o,l)===t;)o+=r,l+=s;for(o-=r,l-=s;this.isValid(o,l)&&this.image.get(o,l)===t;)o+=r;for(o-=r;this.isValid(o,l)&&this.image.get(o,l)===t;)l+=s;return l-=s,new Ze(o,l)}expandSquare(e,t,r){let s=r/(2*t),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,g=new F(u+s*o,d+s*l),p=new F(u-s*o,d-s*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let C=new F(u+s*o,d+s*l),I=new F(u-s*o,d-s*l);return[g,C,p,I]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=Q.round(e.getX()),r=Q.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return Q.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return Q.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class Xt{decode(e,t=null){let r=null,s=new Mt(e.getBlackMatrix()),o=null,l=null;try{let p=s.detectMirror(!1);o=p.getPoints(),this.reportFoundResultPoints(t,o),l=new ee().decode(p)}catch(p){r=p}if(l==null)try{let p=s.detectMirror(!0);o=p.getPoints(),this.reportFoundResultPoints(t,o),l=new ee().decode(p)}catch(p){throw r??p}let u=new rt(l.getText(),l.getRawBytes(),l.getNumBits(),o,xe.AZTEC,L.currentTimeMillis()),d=l.getByteSegments();d!=null&&u.putMetadata(oe.BYTE_SEGMENTS,d);let g=l.getECLevel();return g!=null&&u.putMetadata(oe.ERROR_CORRECTION_LEVEL,g),u}reportFoundResultPoints(e,t){if(e!=null){let r=e.get(we.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach((s,o,l)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class fn extends Nt{constructor(e=500){super(new Xt,e)}}class lt{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(we.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),l=this.doDecode(o,t),u=l.getResultMetadata();let d=270;u!==null&&u.get(oe.ORIENTATION)===!0&&(d=d+u.get(oe.ORIENTATION)%360),l.putMetadata(oe.ORIENTATION,d);const g=l.getResultPoints();if(g!==null){const p=o.getHeight();for(let C=0;C<g.length;C++)g[C]=new F(p-g[C].getY()-1,g[C].getX())}return l}else throw new G}}reset(){}doDecode(e,t){const r=e.getWidth(),s=e.getHeight();let o=new q(r);const l=t&&t.get(we.TRY_HARDER)===!0,u=Math.max(1,s>>(l?8:5));let d;l?d=s:d=15;const g=Math.trunc(s/2);for(let p=0;p<d;p++){const C=Math.trunc((p+1)/2),I=(p&1)===0,S=g+u*(I?C:-C);if(S<0||S>=s)break;try{o=e.getBlackRow(S,o)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(o.reverse(),t&&t.get(we.NEED_RESULT_POINT_CALLBACK)===!0)){const D=new Map;t.forEach((B,V)=>D.set(V,B)),D.delete(we.NEED_RESULT_POINT_CALLBACK),t=D}try{const D=this.decodeRow(S,o,t);if(O===1){D.putMetadata(oe.ORIENTATION,180);const B=D.getResultPoints();B!==null&&(B[0]=new F(r-B[0].getX()-1,B[0].getY()),B[1]=new F(r-B[1].getX()-1,B[1].getY()))}return D}catch{}}}throw new G}static recordPattern(e,t,r){const s=r.length;for(let g=0;g<s;g++)r[g]=0;const o=e.getSize();if(t>=o)throw new G;let l=!e.get(t),u=0,d=t;for(;d<o;){if(e.get(d)!==l)r[u]++;else{if(++u===s)break;r[u]=1,l=!l}d++}if(!(u===s||u===s-1&&d===o))throw new G}static recordPatternInReverse(e,t,r){let s=r.length,o=e.get(t);for(;t>0&&s>=0;)e.get(--t)!==o&&(s--,o=!o);if(s>=0)throw new G;lt.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const s=e.length;let o=0,l=0;for(let g=0;g<s;g++)o+=e[g],l+=t[g];if(o<l)return Number.POSITIVE_INFINITY;const u=o/l;r*=u;let d=0;for(let g=0;g<s;g++){const p=e[g],C=t[g]*u,I=p>C?p-C:C-p;if(I>r)return Number.POSITIVE_INFINITY;d+=I}return d/o}}class ae extends lt{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),l=r,u=!1;const d=6;for(let g=r;g<t;g++)if(e.get(g)!==u)o[s]++;else{if(s===d-1){let p=ae.MAX_AVG_VARIANCE,C=-1;for(let I=ae.CODE_START_A;I<=ae.CODE_START_C;I++){const S=lt.patternMatchVariance(o,ae.CODE_PATTERNS[I],ae.MAX_INDIVIDUAL_VARIANCE);S<p&&(p=S,C=I)}if(C>=0&&e.isRange(Math.max(0,l-(g-l)/2),l,!1))return Int32Array.from([l,g,C]);l+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,u=!u}throw new G}static decodeCode(e,t,r){lt.recordPattern(e,r,t);let s=ae.MAX_AVG_VARIANCE,o=-1;for(let l=0;l<ae.CODE_PATTERNS.length;l++){const u=ae.CODE_PATTERNS[l],d=this.patternMatchVariance(t,u,ae.MAX_INDIVIDUAL_VARIANCE);d<s&&(s=d,o=l)}if(o>=0)return o;throw new G}decodeRow(e,t,r){const s=r&&r.get(we.ASSUME_GS1)===!0,o=ae.findStartPattern(t),l=o[2];let u=0;const d=new Uint8Array(20);d[u++]=l;let g;switch(l){case ae.CODE_START_A:g=ae.CODE_CODE_A;break;case ae.CODE_START_B:g=ae.CODE_CODE_B;break;case ae.CODE_START_C:g=ae.CODE_CODE_C;break;default:throw new Y}let p=!1,C=!1,I="",S=o[0],O=o[1];const D=Int32Array.from([0,0,0,0,0,0]);let B=0,V=0,re=l,ie=0,ne=!0,He=!1,Pe=!1;for(;!p;){const Fr=C;switch(C=!1,B=V,V=ae.decodeCode(t,D,O),d[u++]=V,V!==ae.CODE_STOP&&(ne=!0),V!==ae.CODE_STOP&&(ie++,re+=ie*V),S=O,O+=D.reduce((Fu,ku)=>Fu+ku,0),V){case ae.CODE_START_A:case ae.CODE_START_B:case ae.CODE_START_C:throw new Y}switch(g){case ae.CODE_CODE_A:if(V<64)Pe===He?I+=String.fromCharCode(32+V):I+=String.fromCharCode(32+V+128),Pe=!1;else if(V<96)Pe===He?I+=String.fromCharCode(V-64):I+=String.fromCharCode(V+64),Pe=!1;else switch(V!==ae.CODE_STOP&&(ne=!1),V){case ae.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case ae.CODE_FNC_2:case ae.CODE_FNC_3:break;case ae.CODE_FNC_4_A:!He&&Pe?(He=!0,Pe=!1):He&&Pe?(He=!1,Pe=!1):Pe=!0;break;case ae.CODE_SHIFT:C=!0,g=ae.CODE_CODE_B;break;case ae.CODE_CODE_B:g=ae.CODE_CODE_B;break;case ae.CODE_CODE_C:g=ae.CODE_CODE_C;break;case ae.CODE_STOP:p=!0;break}break;case ae.CODE_CODE_B:if(V<96)Pe===He?I+=String.fromCharCode(32+V):I+=String.fromCharCode(32+V+128),Pe=!1;else switch(V!==ae.CODE_STOP&&(ne=!1),V){case ae.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case ae.CODE_FNC_2:case ae.CODE_FNC_3:break;case ae.CODE_FNC_4_B:!He&&Pe?(He=!0,Pe=!1):He&&Pe?(He=!1,Pe=!1):Pe=!0;break;case ae.CODE_SHIFT:C=!0,g=ae.CODE_CODE_A;break;case ae.CODE_CODE_A:g=ae.CODE_CODE_A;break;case ae.CODE_CODE_C:g=ae.CODE_CODE_C;break;case ae.CODE_STOP:p=!0;break}break;case ae.CODE_CODE_C:if(V<100)V<10&&(I+="0"),I+=V;else switch(V!==ae.CODE_STOP&&(ne=!1),V){case ae.CODE_FNC_1:s&&(I.length===0?I+="]C1":I+="");break;case ae.CODE_CODE_A:g=ae.CODE_CODE_A;break;case ae.CODE_CODE_B:g=ae.CODE_CODE_B;break;case ae.CODE_STOP:p=!0;break}break}Fr&&(g=g===ae.CODE_CODE_A?ae.CODE_CODE_B:ae.CODE_CODE_A)}const $t=O-S;if(O=t.getNextUnset(O),!t.isRange(O,Math.min(t.getSize(),O+(O-S)/2),!1))throw new G;if(re-=ie*B,re%103!==B)throw new v;const yn=I.length;if(yn===0)throw new G;yn>0&&ne&&(g===ae.CODE_CODE_C?I=I.substring(0,yn-2):I=I.substring(0,yn-1));const en=(o[1]+o[0])/2,st=S+$t/2,Lt=d.length,on=new Uint8Array(Lt);for(let Fr=0;Fr<Lt;Fr++)on[Fr]=d[Fr];const Lr=[new F(en,e),new F(st,e)];return new rt(I,on,0,Lr,xe.CODE_128,new Date().getTime())}}ae.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ae.MAX_AVG_VARIANCE=.25,ae.MAX_INDIVIDUAL_VARIANCE=.7,ae.CODE_SHIFT=98,ae.CODE_CODE_C=99,ae.CODE_CODE_B=100,ae.CODE_CODE_A=101,ae.CODE_FNC_1=102,ae.CODE_FNC_2=97,ae.CODE_FNC_3=96,ae.CODE_FNC_4_A=101,ae.CODE_FNC_4_B=100,ae.CODE_START_A=103,ae.CODE_START_B=104,ae.CODE_START_C=105,ae.CODE_STOP=106;class Xe extends lt{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=Xe.findAsteriskPattern(t,s),l=t.getNextSet(o[1]),u=t.getSize(),d,g;do{Xe.recordPattern(t,l,s);let D=Xe.toNarrowWidePattern(s);if(D<0)throw new G;d=Xe.patternToChar(D),this.decodeRowResult+=d,g=l;for(let B of s)l+=B;l=t.getNextSet(l)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let D of s)p+=D;let C=l-g-p;if(l!==u&&C*2<p)throw new G;if(this.usingCheckDigit){let D=this.decodeRowResult.length-1,B=0;for(let V=0;V<D;V++)B+=Xe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(V));if(this.decodeRowResult.charAt(D)!==Xe.ALPHABET_STRING.charAt(B%43))throw new v;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new G;let I;this.extendedMode?I=Xe.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let S=(o[1]+o[0])/2,O=g+p/2;return new rt(I,null,0,[new F(S,e),new F(O,e)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),s=e.getNextSet(0),o=0,l=s,u=!1,d=t.length;for(let g=s;g<r;g++)if(e.get(g)!==u)t[o]++;else{if(o===d-1){if(this.toNarrowWidePattern(t)===Xe.ASTERISK_ENCODING&&e.isRange(Math.max(0,l-Math.floor((g-l)/2)),l,!1))return[l,g];l+=t[0]+t[1],t.copyWithin(0,2,2+o-1),t[o-1]=0,t[o]=0,o--}else o++;t[o]=1,u=!u}throw new G}static toNarrowWidePattern(e){let t=e.length,r=0,s;do{let o=2147483647;for(let d of e)d<o&&d>r&&(o=d);r=o,s=0;let l=0,u=0;for(let d=0;d<t;d++){let g=e[d];g>r&&(u|=1<<t-1-d,s++,l+=g)}if(s===3){for(let d=0;d<t&&s>0;d++){let g=e[d];if(g>r&&(s--,g*2>=l))return-1}return u}}while(s>3);return-1}static patternToChar(e){for(let t=0;t<Xe.CHARACTER_ENCODINGS.length;t++)if(Xe.CHARACTER_ENCODINGS[t]===e)return Xe.ALPHABET_STRING.charAt(t);if(e===Xe.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(e){let t=e.length,r="";for(let s=0;s<t;s++){let o=e.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let l=e.charAt(s+1),u="\0";switch(o){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new Y;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new Y;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new Y;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new Y;break}r+=u,s++}else r+=o}return r}}Xe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Xe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Xe.ASTERISK_ENCODING=148;class Ue extends lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let s=this.decodeStart(t),o=this.decodeEnd(t),l=new Ne;Ue.decodeMiddle(t,s[1],o[0],l);let u=l.toString(),d=null;r!=null&&(d=r.get(we.ALLOWED_LENGTHS)),d==null&&(d=Ue.DEFAULT_ALLOWED_LENGTHS);let g=u.length,p=!1,C=0;for(let O of d){if(g===O){p=!0;break}O>C&&(C=O)}if(!p&&g>C&&(p=!0),!p)throw new Y;const I=[new F(s[1],e),new F(o[0],e)];return new rt(u,null,0,I,xe.ITF,new Date().getTime())}static decodeMiddle(e,t,r,s){let o=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),l.fill(0),u.fill(0);t<r;){lt.recordPattern(e,t,o);for(let g=0;g<5;g++){let p=2*g;l[g]=o[p],u[g]=o[p+1]}let d=Ue.decodeDigit(l);s.append(d.toString()),d=this.decodeDigit(u),s.append(d.toString()),o.forEach(function(g){t+=g})}}decodeStart(e){let t=Ue.skipWhiteSpace(e),r=Ue.findGuardPattern(e,t,Ue.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=this.narrowLineWidth*10;r=r<t?r:t;for(let s=t-1;r>0&&s>=0&&!e.get(s);s--)r--;if(r!==0)throw new G}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new G;return r}decodeEnd(e){e.reverse();try{let t=Ue.skipWhiteSpace(e),r;try{r=Ue.findGuardPattern(e,t,Ue.END_PATTERN_REVERSED[0])}catch(o){o instanceof G&&(r=Ue.findGuardPattern(e,t,Ue.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let s=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-s,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let s=r.length,o=new Int32Array(s),l=e.getSize(),u=!1,d=0,g=t;o.fill(0);for(let p=t;p<l;p++)if(e.get(p)!==u)o[d]++;else{if(d===s-1){if(lt.patternMatchVariance(o,r,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE)return[g,p];g+=o[0]+o[1],L.arraycopy(o,2,o,0,d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,u=!u}throw new G}static decodeDigit(e){let t=Ue.MAX_AVG_VARIANCE,r=-1,s=Ue.PATTERNS.length;for(let o=0;o<s;o++){let l=Ue.PATTERNS[o],u=lt.patternMatchVariance(e,l,Ue.MAX_INDIVIDUAL_VARIANCE);u<t?(t=u,r=o):u===t&&(r=-1)}if(r>=0)return r%10;throw new G}}Ue.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ue.MAX_AVG_VARIANCE=.38,Ue.MAX_INDIVIDUAL_VARIANCE=.5,Ue.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ue.START_PATTERN=Int32Array.from([1,1,1,1]),Ue.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ft extends lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!t;){o=Int32Array.from([0,0,0]),r=ft.findGuardPattern(e,s,!1,this.START_END_PATTERN,o);let l=r[0];s=r[1];let u=l-(s-l);u>=0&&(t=e.isRange(u,l,!1))}return r}static checkChecksum(e){return ft.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return ft.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let s=t-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new Y;r+=o}r*=3;for(let s=t-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new Y;r+=o}return(1e3-r)%10}static decodeEnd(e,t){return ft.findGuardPattern(e,t,!1,ft.START_END_PATTERN,new Int32Array(ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,s){return this.findGuardPattern(e,t,r,s,new Int32Array(s.length))}static findGuardPattern(e,t,r,s,o){let l=e.getSize();t=r?e.getNextUnset(t):e.getNextSet(t);let u=0,d=t,g=s.length,p=r;for(let C=t;C<l;C++)if(e.get(C)!==p)o[u]++;else{if(u===g-1){if(lt.patternMatchVariance(o,s,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return Int32Array.from([d,C]);d+=o[0]+o[1];let I=o.slice(2,o.length-1);for(let S=0;S<u-1;S++)o[S]=I[S];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,p=!p}throw new G}static decodeDigit(e,t,r,s){this.recordPattern(e,r,t);let o=this.MAX_AVG_VARIANCE,l=-1,u=s.length;for(let d=0;d<u;d++){let g=s[d],p=lt.patternMatchVariance(t,g,ft.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=d)}if(l>=0)return l;throw new G}}ft.MAX_AVG_VARIANCE=.48,ft.MAX_INDIVIDUAL_VARIANCE=.7,ft.START_END_PATTERN=Int32Array.from([1,1,1]),ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class $n{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(t,r,s),l=s.toString(),u=$n.parseExtensionString(l),d=[new F((r[0]+r[1])/2,e),new F(o,e)],g=new rt(l,null,0,d,xe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&g.putAllMetadata(u),g}decodeMiddle(e,t,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=t[1],u=0;for(let g=0;g<5&&l<o;g++){let p=ft.decodeDigit(e,s,l,ft.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let C of s)l+=C;p>=10&&(u|=1<<4-g),g!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==5)throw new G;let d=this.determineCheckDigit(u);if($n.extensionChecksum(r.toString())!==d)throw new G;return l}static extensionChecksum(e){let t=e.length,r=0;for(let s=t-2;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;r*=3;for(let s=t-1;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new G}static parseExtensionString(e){if(e.length!==5)return null;let t=$n.parseExtension5String(e);return t==null?null:new Map([[oe.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let r=parseInt(e.substring(1)),s=(r/100).toString(),o=r%100,l=o<10?"0"+o:o.toString();return t+s+"."+l}}class ks{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(t,r,s),l=s.toString(),u=ks.parseExtensionString(l),d=[new F((r[0]+r[1])/2,e),new F(o,e)],g=new rt(l,null,0,d,xe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&g.putAllMetadata(u),g}decodeMiddle(e,t,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=t[1],u=0;for(let d=0;d<2&&l<o;d++){let g=ft.decodeDigit(e,s,l,ft.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);for(let p of s)l+=p;g>=10&&(u|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==2)throw new G;if(parseInt(r.toString())%4!==u)throw new G;return l}static parseExtensionString(e){return e.length!==2?null:new Map([[oe.ISSUE_NUMBER,parseInt(e)]])}}class ma{static decodeRow(e,t,r){let s=ft.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new $n().decodeRow(e,t,s)}catch{return new ks().decodeRow(e,t,s)}}}ma.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ye extends ft{constructor(){super(),this.decodeRowStringBuffer="",Ye.L_AND_G_PATTERNS=Ye.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Ye.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let s=0;s<t.length;s++)r[s]=t[t.length-s-1];Ye.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let s=Ye.findStartGuardPattern(t),o=r==null?null:r.get(we.NEED_RESULT_POINT_CALLBACK);if(o!=null){const ne=new F((s[0]+s[1])/2,e);o.foundPossibleResultPoint(ne)}let l=this.decodeMiddle(t,s,this.decodeRowStringBuffer),u=l.rowOffset,d=l.resultString;if(o!=null){const ne=new F(u,e);o.foundPossibleResultPoint(ne)}let g=this.decodeEnd(t,u);if(o!=null){const ne=new F((g[0]+g[1])/2,e);o.foundPossibleResultPoint(ne)}let p=g[1],C=p+(p-g[0]);if(C>=t.getSize()||!t.isRange(p,C,!1))throw new G;let I=d.toString();if(I.length<8)throw new Y;if(!Ye.checkChecksum(I))throw new v;let S=(s[1]+s[0])/2,O=(g[1]+g[0])/2,D=this.getBarcodeFormat(),B=[new F(S,e),new F(O,e)],V=new rt(I,null,0,B,D,new Date().getTime()),re=0;try{let ne=ma.decodeRow(e,t,g[1]);V.putMetadata(oe.UPC_EAN_EXTENSION,ne.getText()),V.putAllMetadata(ne.getResultMetadata()),V.addResultPoints(ne.getResultPoints()),re=ne.getText().length}catch{}let ie=r==null?null:r.get(we.ALLOWED_EAN_EXTENSIONS);if(ie!=null){let ne=!1;for(let He in ie)if(re.toString()===He){ne=!0;break}if(!ne)throw new G}return V}decodeEnd(e,t){return Ye.findGuardPattern(e,t,!1,Ye.START_END_PATTERN,new Int32Array(Ye.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ye.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return Ye.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let s=t-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new Y;r+=o}r*=3;for(let s=t-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new Y;r+=o}return(1e3-r)%10}}class dr extends Ye{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=t[1],u=0;for(let g=0;g<6&&l<o;g++){let p=Ye.decodeDigit(e,s,l,Ye.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let C of s)l+=C;p>=10&&(u|=1<<5-g)}r=dr.determineFirstDigit(r,u),l=Ye.findGuardPattern(e,l,!0,Ye.MIDDLE_PATTERN,new Int32Array(Ye.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&l<o;g++){let p=Ye.decodeDigit(e,s,l,Ye.L_PATTERNS);r+=String.fromCharCode(48+p);for(let C of s)l+=C}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new G}}dr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ea extends Ye{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=t[1];for(let d=0;d<4&&l<o;d++){let g=Ye.decodeDigit(e,s,l,Ye.L_PATTERNS);r+=String.fromCharCode(48+g);for(let p of s)l+=p}l=Ye.findGuardPattern(e,l,!0,Ye.MIDDLE_PATTERN,new Int32Array(Ye.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&l<o;d++){let g=Ye.decodeDigit(e,s,l,Ye.L_PATTERNS);r+=String.fromCharCode(48+g);for(let p of s)l+=p}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return xe.EAN_8}}class Aa extends Ye{constructor(){super(...arguments),this.ean13Reader=new dr}getBarcodeFormat(){return xe.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let r=new rt(t.substring(1),null,null,e.getResultPoints(),xe.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new G}reset(){this.ean13Reader.reset()}}class bn extends Ye{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const s=this.decodeMiddleCounters.map(g=>g);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=e.getSize();let l=t[1],u=0;for(let g=0;g<6&&l<o;g++){const p=bn.decodeDigit(e,s,l,bn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let C of s)l+=C;p>=10&&(u|=1<<5-g)}let d=bn.determineNumSysAndCheckDigit(r,u);return{rowOffset:l,resultString:d}}decodeEnd(e,t){return bn.findGuardPatternWithoutCounters(e,t,!0,bn.MIDDLE_END_PATTERN)}checkChecksum(e){return Ye.checkChecksum(bn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),l=String.fromCharCode(48+s);return o+e+l}throw G.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Ne;r.append(e.charAt(0));let s=t[5];switch(s){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(s),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(s);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}bn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),bn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Us extends lt{constructor(e){super();let t=e==null?null:e.get(we.POSSIBLE_FORMATS),r=[];c(t)?(r.push(new dr),r.push(new Aa),r.push(new Ea),r.push(new bn)):(t.indexOf(xe.EAN_13)>-1&&r.push(new dr),t.indexOf(xe.UPC_A)>-1&&r.push(new Aa),t.indexOf(xe.EAN_8)>-1&&r.push(new Ea),t.indexOf(xe.UPC_E)>-1&&r.push(new bn)),this.readers=r}decodeRow(e,t,r){for(let s of this.readers)try{const o=s.decodeRow(e,t,r),l=o.getBarcodeFormat()===xe.EAN_13&&o.getText().charAt(0)==="0",u=r==null?null:r.get(we.POSSIBLE_FORMATS),d=u==null||u.includes(xe.UPC_A);if(l&&d){const g=o.getRawBytes(),p=new rt(o.getText().substring(1),g,g?g.length:null,o.getResultPoints(),xe.UPC_A);return p.putAllMetadata(o.getResultMetadata()),p}return o}catch{}throw new G}reset(){for(let e of this.readers)e.reset()}}class kt extends lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(lt.patternMatchVariance(e,t[r],kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return r;throw new G}static count(e){return Q.sum(new Int32Array(e))}static increment(e,t){let r=0,s=t[0];for(let o=1;o<e.length;o++)t[o]>s&&(s=t[o],r=o);e[r]++}static decrement(e,t){let r=0,s=t[0];for(let o=1;o<e.length;o++)t[o]<s&&(s=t[o],r=o);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t+e[2]+e[3],s=t/r;if(s>=kt.MIN_FINDER_PATTERN_RATIO&&s<=kt.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let u of e)u>l&&(l=u),u<o&&(o=u);return l<10*o}return!1}}kt.MAX_AVG_VARIANCE=.2,kt.MAX_INDIVIDUAL_VARIANCE=.45,kt.MIN_FINDER_PATTERN_RATIO=9.5/12,kt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Or{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Or))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ui{constructor(e,t,r,s,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new F(r,o)),this.resultPoints.push(new F(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ui))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Rn{constructor(){}static getRSSvalue(e,t,r){let s=0;for(let d of e)s+=d;let o=0,l=0,u=e.length;for(let d=0;d<u-1;d++){let g;for(g=1,l|=1<<d;g<e[d];g++,l&=~(1<<d)){let p=Rn.combins(s-g-1,u-d-2);if(r&&l===0&&s-g-(u-d-1)>=u-d-1&&(p-=Rn.combins(s-g-(u-d),u-d-2)),u-d-1>1){let C=0;for(let I=s-g-(u-d-2);I>t;I--)C+=Rn.combins(s-g-I-1,u-d-3);p-=C*(u-1-d)}else s-g>t&&p--;o+=p}s-=g}return o}static combins(e,t){let r,s;e-t>t?(s=t,r=e-t):(s=e-t,r=t);let o=1,l=1;for(let u=e;u>r;u--)o*=u,l<=s&&(o/=l,l++);for(;l<=s;)o/=l,l++;return o}}class cu{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let r=12*t,s=new q(r),o=0,u=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)(u&1<<d)!=0&&s.set(o),o++;for(let d=1;d<e.length;++d){let g=e[d],p=g.getLeftChar().getValue();for(let C=11;C>=0;--C)(p&1<<C)!=0&&s.set(o),o++;if(g.getRightChar()!=null){let C=g.getRightChar().getValue();for(let I=11;I>=0;--I)(C&1<<I)!=0&&s.set(o),o++}}return s}}class gr{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Vs{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class qt extends Vs{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===qt.FNC1}}qt.FNC1="$";class xr extends Vs{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class hn extends Vs{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new Y;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===hn.FNC1}isAnyFNC1(){return this.firstDigit===hn.FNC1||this.secondDigit===hn.FNC1}}hn.FNC1=10;class de{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new G;let t=e.substring(0,2);for(let o of de.TWO_DIGIT_DATA_LENGTH)if(o[0]===t)return o[1]===de.VARIABLE_LENGTH?de.processVariableAI(2,o[2],e):de.processFixedAI(2,o[1],e);if(e.length<3)throw new G;let r=e.substring(0,3);for(let o of de.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===de.VARIABLE_LENGTH?de.processVariableAI(3,o[2],e):de.processFixedAI(3,o[1],e);for(let o of de.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===de.VARIABLE_LENGTH?de.processVariableAI(4,o[2],e):de.processFixedAI(4,o[1],e);if(e.length<4)throw new G;let s=e.substring(0,4);for(let o of de.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===de.VARIABLE_LENGTH?de.processVariableAI(4,o[2],e):de.processFixedAI(4,o[1],e);throw new G}static processFixedAI(e,t,r){if(r.length<e)throw new G;let s=r.substring(0,e);if(r.length<e+t)throw new G;let o=r.substring(e,e+t),l=r.substring(e+t),u="("+s+")"+o,d=de.parseFieldsInGeneralPurpose(l);return d==null?u:u+d}static processVariableAI(e,t,r){let s=r.substring(0,e),o;r.length<e+t?o=r.length:o=e+t;let l=r.substring(e,o),u=r.substring(o),d="("+s+")"+l,g=de.parseFieldsInGeneralPurpose(u);return g==null?d:d+g}}de.VARIABLE_LENGTH=[],de.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",de.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",de.VARIABLE_LENGTH,20],["22",de.VARIABLE_LENGTH,29],["30",de.VARIABLE_LENGTH,8],["37",de.VARIABLE_LENGTH,8],["90",de.VARIABLE_LENGTH,30],["91",de.VARIABLE_LENGTH,30],["92",de.VARIABLE_LENGTH,30],["93",de.VARIABLE_LENGTH,30],["94",de.VARIABLE_LENGTH,30],["95",de.VARIABLE_LENGTH,30],["96",de.VARIABLE_LENGTH,30],["97",de.VARIABLE_LENGTH,3],["98",de.VARIABLE_LENGTH,30],["99",de.VARIABLE_LENGTH,30]],de.THREE_DIGIT_DATA_LENGTH=[["240",de.VARIABLE_LENGTH,30],["241",de.VARIABLE_LENGTH,30],["242",de.VARIABLE_LENGTH,6],["250",de.VARIABLE_LENGTH,30],["251",de.VARIABLE_LENGTH,30],["253",de.VARIABLE_LENGTH,17],["254",de.VARIABLE_LENGTH,20],["400",de.VARIABLE_LENGTH,30],["401",de.VARIABLE_LENGTH,30],["402",17],["403",de.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",de.VARIABLE_LENGTH,20],["421",de.VARIABLE_LENGTH,15],["422",3],["423",de.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],de.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",de.VARIABLE_LENGTH,15],["391",de.VARIABLE_LENGTH,18],["392",de.VARIABLE_LENGTH,15],["393",de.VARIABLE_LENGTH,18],["703",de.VARIABLE_LENGTH,30]],de.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",de.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",de.VARIABLE_LENGTH,20],["8003",de.VARIABLE_LENGTH,30],["8004",de.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",de.VARIABLE_LENGTH,30],["8008",de.VARIABLE_LENGTH,12],["8018",18],["8020",de.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",de.VARIABLE_LENGTH,70],["8200",de.VARIABLE_LENGTH,70]];class Nr{constructor(e){this.buffer=new Ne,this.information=e}decodeAllCodes(e,t){let r=t,s=null;do{let o=this.decodeGeneralPurposeField(r,s),l=de.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new hn(this.information.getSize(),hn.FNC1,hn.FNC1):new hn(this.information.getSize(),o-1,hn.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),r=(t-8)/11,s=(t-8)%11;return new hn(e+7,r,s)}extractNumericValueFromBitArray(e,t){return Nr.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let s=0;for(let o=0;o<r;++o)e.get(t+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new xr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new xr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new xr(this.current.getPosition(),this.buffer.toString()):t=new xr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new gr(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new xr(this.current.getPosition(),this.buffer.toString());return new gr(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new gr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new xr(this.current.getPosition(),this.buffer.toString());return new gr(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new gr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new xr(this.current.getPosition(),this.buffer.toString());return new gr(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new gr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new qt(e+5,qt.FNC1);if(t>=5&&t<15)return new qt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new qt(e+7,""+(r+1));if(r>=90&&r<116)return new qt(e+7,""+(r+7));let s=this.extractNumericValueFromBitArray(e,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new Y}return new qt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new qt(e+5,qt.FNC1);if(t>=5&&t<15)return new qt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new qt(e+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new X("Decoding invalid alphanumeric value: "+r)}return new qt(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Hs{constructor(e){this.information=e,this.generalDecoder=new Nr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Qt extends Hs{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*s,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}Qt.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let s=0;s<13;s++){let o=e.charAt(s+t).charCodeAt(0)-48;r+=(s&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),e.append(r)}}Qt.GTIN_SIZE=40;class Dr extends Qt{constructor(e){super(e)}parseInformation(){let e=new Ne;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Dr.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,Dr.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,Dr.HEADER_SIZE+44)}}Dr.HEADER_SIZE=4;class Vi extends Hs{constructor(e){super(e)}parseInformation(){let e=new Ne;return this.getGeneralDecoder().decodeAllCodes(e,Vi.HEADER_SIZE)}}Vi.HEADER_SIZE=5;class Hi extends Qt{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,s);let o=this.checkWeight(s),l=1e5;for(let u=0;u<5;++u)o/l===0&&e.append("0"),l/=10;e.append(o)}}class On extends Hi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=On.HEADER_SIZE+Hi.GTIN_SIZE+On.WEIGHT_SIZE)throw new G;let e=new Ne;return this.encodeCompressedGtin(e,On.HEADER_SIZE),this.encodeCompressedWeight(e,On.HEADER_SIZE+Hi.GTIN_SIZE,On.WEIGHT_SIZE),e.toString()}}On.HEADER_SIZE=5,On.WEIGHT_SIZE=15;class uu extends On{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class fu extends On{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Nn extends Qt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Nn.HEADER_SIZE+Qt.GTIN_SIZE)throw new G;let e=new Ne;this.encodeCompressedGtin(e,Nn.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Nn.HEADER_SIZE+Qt.GTIN_SIZE,Nn.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Nn.HEADER_SIZE+Qt.GTIN_SIZE+Nn.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Nn.HEADER_SIZE=8,Nn.LAST_DIGIT_SIZE=2;class jt extends Qt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<jt.HEADER_SIZE+Qt.GTIN_SIZE)throw new G;let e=new Ne;this.encodeCompressedGtin(e,jt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(jt.HEADER_SIZE+Qt.GTIN_SIZE,jt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(jt.HEADER_SIZE+Qt.GTIN_SIZE+jt.LAST_DIGIT_SIZE,jt.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(jt.HEADER_SIZE+Qt.GTIN_SIZE+jt.LAST_DIGIT_SIZE+jt.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}jt.HEADER_SIZE=8,jt.LAST_DIGIT_SIZE=2,jt.FIRST_THREE_DIGITS_SIZE=10;class dt extends Hi{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE+dt.DATE_SIZE)throw new G;let e=new Ne;return this.encodeCompressedGtin(e,dt.HEADER_SIZE),this.encodeCompressedWeight(e,dt.HEADER_SIZE+dt.GTIN_SIZE,dt.WEIGHT_SIZE),this.encodeCompressedDate(e,dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,dt.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let l=r;l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}dt.HEADER_SIZE=8,dt.WEIGHT_SIZE=20,dt.DATE_SIZE=16;function Ca(A){try{if(A.get(1))return new Dr(A);if(!A.get(2))return new Vi(A);switch(Nr.extractNumericValueFromBitArray(A,1,4)){case 4:return new uu(A);case 5:return new fu(A)}switch(Nr.extractNumericValueFromBitArray(A,1,5)){case 12:return new Nn(A);case 13:return new jt(A)}switch(Nr.extractNumericValueFromBitArray(A,1,7)){case 56:return new dt(A,"310","11");case 57:return new dt(A,"320","11");case 58:return new dt(A,"310","13");case 59:return new dt(A,"320","13");case 60:return new dt(A,"310","15");case 61:return new dt(A,"320","15");case 62:return new dt(A,"310","17");case 63:return new dt(A,"320","17")}}catch(e){throw console.log(e),new X("unknown decoder: "+A)}}class er{constructor(e,t,r,s){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof er?er.equalsOrNull(e.leftchar,t.leftchar)&&er.equalsOrNull(e.rightchar,t.rightchar)&&er.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:er.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Gs{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Gs?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((s,o)=>{t.forEach(l=>{s.getLeftChar().getValue()===l.getLeftChar().getValue()&&s.getRightChar().getValue()===l.getRightChar().getValue()&&s.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(r=!0)})}),r}}class $ extends kt{constructor(e){super(...arguments),this.pairs=new Array($.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return $.constructResult(this.decodeRow2pairs(e,t))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,$.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(o){if(o instanceof G){if(!this.pairs.length)throw new G;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new G}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let l of e)this.pairs.push(l.getPairs());if(this.pairs.push(s.getPairs()),!$.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(s);try{return this.checkRows(o,r+1)}catch(l){this.verbose&&console.log(l)}}throw new G}static isValidSequence(e){for(let t of $.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=t[s]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let l=this.rows[r];if(l.getRowNumber()>e){o=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),r++}o||s||$.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Gs(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length){for(let s of r.getPairs())for(let o of e)if(er.equals(s,o))break}}static isPartialRow(e,t){for(let r of t){let s=!0;for(let o of e){let l=!1;for(let u of r.getPairs())if(o.equals(u)){l=!0;break}if(!l){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=cu.buildBitArray(e),s=Ca(t).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),l=e[e.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],l[0],l[1]];return new rt(s,null,null,u,xe.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let u=1;u<this.pairs.size();++u){let d=this.pairs.get(u);s+=d.getLeftChar().getChecksumPortion(),o++;let g=d.getRightChar();g!=null&&(s+=g.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let s=t.length%2==0;this.startFromEven&&(s=!s);let o,l=!0,u=-1;do this.findNextPair(e,t,u),o=this.parseFoundFinderPattern(e,r,s),o==null?u=$.getNextSecondBar(e,this.startEnd[0]):l=!1;while(l);let d=this.decodeDataCharacter(e,o,s,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new G;let g;try{g=this.decodeDataCharacter(e,o,s,!1)}catch(p){g=null,this.verbose&&console.log(p)}return new er(d,g,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l;r>=0?l=r:this.isEmptyPair(t)?l=0:l=t[t.length-1].getFinderPattern().getStartEnd()[1];let u=t.length%2!=0;this.startFromEven&&(u=!u);let d=!1;for(;l<o&&(d=!e.get(l),!!d);)l++;let g=0,p=l;for(let C=l;C<o;C++)if(e.get(C)!=d)s[g]++;else{if(g==3){if(u&&$.reverseCounters(s),$.isFinderPattern(s)){this.startEnd[0]=p,this.startEnd[1]=C;return}u&&$.reverseCounters(s),p+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,g--}else g++;s[g]=1,d=!d}throw new G}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let s=e[r];e[r]=e[t-r-1],e[t-r-1]=s}}parseFoundFinderPattern(e,t,r){let s,o,l;if(r){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,s=this.startEnd[0]-g,o=g,l=this.startEnd[1]}else o=this.startEnd[0],l=e.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];let u=this.getDecodeFinderCounters();L.arraycopy(u,0,u,1,u.length-1),u[0]=s;let d;try{d=this.parseFinderValue(u,$.FINDER_PATTERNS)}catch{return null}return new Ui(d,[o,l],o,l,t)}decodeDataCharacter(e,t,r,s){let o=this.getDataCharacterCounters();for(let st=0;st<o.length;st++)o[st]=0;if(s)$.recordPatternInReverse(e,t.getStartEnd()[0],o);else{$.recordPattern(e,t.getStartEnd()[1],o);for(let st=0,Lt=o.length-1;st<Lt;st++,Lt--){let on=o[st];o[st]=o[Lt],o[Lt]=on}}let l=17,u=Q.sum(new Int32Array(o))/l,d=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(u-d)/d>.3)throw new G;let g=this.getOddCounts(),p=this.getEvenCounts(),C=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let st=0;st<o.length;st++){let Lt=1*o[st]/u,on=Lt+.5;if(on<1){if(Lt<.3)throw new G;on=1}else if(on>8){if(Lt>8.7)throw new G;on=8}let Lr=st/2;(st&1)==0?(g[Lr]=on,C[Lr]=Lt-on):(p[Lr]=on,I[Lr]=Lt-on)}this.adjustOddEvenCounts(l);let S=4*t.getValue()+(r?0:2)+(s?0:1)-1,O=0,D=0;for(let st=g.length-1;st>=0;st--){if($.isNotA1left(t,r,s)){let Lt=$.WEIGHTS[S][2*st];D+=g[st]*Lt}O+=g[st]}let B=0;for(let st=p.length-1;st>=0;st--)if($.isNotA1left(t,r,s)){let Lt=$.WEIGHTS[S][2*st+1];B+=p[st]*Lt}let V=D+B;if((O&1)!=0||O>13||O<4)throw new G;let re=(13-O)/2,ie=$.SYMBOL_WIDEST[re],ne=9-ie,He=Rn.getRSSvalue(g,ie,!0),Pe=Rn.getRSSvalue(p,ne,!1),$t=$.EVEN_TOTAL_SUBSET[re],yn=$.GSUM[re],en=He*$t+Pe+yn;return new Or(en,V)}static isNotA1left(e,t,r){return!(e.getValue()==0&&t&&r)}adjustOddEvenCounts(e){let t=Q.sum(new Int32Array(this.getOddCounts())),r=Q.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;t>13?o=!0:t<4&&(s=!0);let l=!1,u=!1;r>13?u=!0:r<4&&(l=!0);let d=t+r-e,g=(t&1)==1,p=(r&1)==0;if(d==1)if(g){if(p)throw new G;o=!0}else{if(!p)throw new G;u=!0}else if(d==-1)if(g){if(p)throw new G;s=!0}else{if(!p)throw new G;l=!0}else if(d==0){if(g){if(!p)throw new G;t<r?(s=!0,u=!0):(o=!0,l=!0)}else if(p)throw new G}else throw new G;if(s){if(o)throw new G;$.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&$.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new G;$.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&$.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$.SYMBOL_WIDEST=[7,5,4,3,1],$.EVEN_TOTAL_SUBSET=[4,20,52,104,204],$.GSUM=[0,348,1388,2948,3988],$.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],$.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],$.FINDER_PAT_A=0,$.FINDER_PAT_B=1,$.FINDER_PAT_C=2,$.FINDER_PAT_D=3,$.FINDER_PAT_E=4,$.FINDER_PAT_F=5,$.FINDER_PATTERN_SEQUENCES=[[$.FINDER_PAT_A,$.FINDER_PAT_A],[$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B],[$.FINDER_PAT_A,$.FINDER_PAT_C,$.FINDER_PAT_B,$.FINDER_PAT_D],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_C],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_D,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_E,$.FINDER_PAT_B,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_D],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_E],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F],[$.FINDER_PAT_A,$.FINDER_PAT_A,$.FINDER_PAT_B,$.FINDER_PAT_B,$.FINDER_PAT_C,$.FINDER_PAT_D,$.FINDER_PAT_D,$.FINDER_PAT_E,$.FINDER_PAT_E,$.FINDER_PAT_F,$.FINDER_PAT_F]],$.MAX_PAIRS=11;class hu extends Or{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class wt extends kt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const s=this.decodePair(t,!1,e,r);wt.addOrTally(this.possibleLeftPairs,s),t.reverse();let o=this.decodePair(t,!0,e,r);wt.addOrTally(this.possibleRightPairs,o),t.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&wt.checkChecksum(l,u))return wt.constructResult(l,u)}throw new G}static addOrTally(e,t){if(t==null)return;let r=!1;for(let s of e)if(s.getValue()===t.getValue()){s.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),s=new String(r).toString(),o=new Ne;for(let g=13-s.length;g>0;g--)o.append("0");o.append(s);let l=0;for(let g=0;g<13;g++){let p=o.charAt(g).charCodeAt(0)-48;l+=(g&1)===0?3*p:p}l=10-l%10,l===10&&(l=0),o.append(l.toString());let u=e.getFinderPattern().getResultPoints(),d=t.getFinderPattern().getResultPoints();return new rt(o.toString(),null,0,[u[0],u[1],d[0],d[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(e,t,r,s){try{let o=this.findFinderPattern(e,t),l=this.parseFoundFinderPattern(e,r,t,o),u=s==null?null:s.get(we.NEED_RESULT_POINT_CALLBACK);if(u!=null){let p=(o[0]+o[1])/2;t&&(p=e.getSize()-1-p),u.foundPossibleResultPoint(new F(p,r))}let d=this.decodeDataCharacter(e,l,!0),g=this.decodeDataCharacter(e,l,!1);return new hu(1597*d.getValue()+g.getValue(),d.getChecksumPortion()+4*g.getChecksumPortion(),l)}catch{return null}}decodeDataCharacter(e,t,r){let s=this.getDataCharacterCounters();for(let B=0;B<s.length;B++)s[B]=0;if(r)lt.recordPatternInReverse(e,t.getStartEnd()[0],s);else{lt.recordPattern(e,t.getStartEnd()[1]+1,s);for(let B=0,V=s.length-1;B<V;B++,V--){let re=s[B];s[B]=s[V],s[V]=re}}let o=r?16:15,l=Q.sum(new Int32Array(s))/o,u=this.getOddCounts(),d=this.getEvenCounts(),g=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let B=0;B<s.length;B++){let V=s[B]/l,re=Math.floor(V+.5);re<1?re=1:re>8&&(re=8);let ie=Math.floor(B/2);(B&1)===0?(u[ie]=re,g[ie]=V-re):(d[ie]=re,p[ie]=V-re)}this.adjustOddEvenCounts(r,o);let C=0,I=0;for(let B=u.length-1;B>=0;B--)I*=9,I+=u[B],C+=u[B];let S=0,O=0;for(let B=d.length-1;B>=0;B--)S*=9,S+=d[B],O+=d[B];let D=I+3*S;if(r){if((C&1)!==0||C>12||C<4)throw new G;let B=(12-C)/2,V=wt.OUTSIDE_ODD_WIDEST[B],re=9-V,ie=Rn.getRSSvalue(u,V,!1),ne=Rn.getRSSvalue(d,re,!0),He=wt.OUTSIDE_EVEN_TOTAL_SUBSET[B],Pe=wt.OUTSIDE_GSUM[B];return new Or(ie*He+ne+Pe,D)}else{if((O&1)!==0||O>10||O<4)throw new G;let B=(10-O)/2,V=wt.INSIDE_ODD_WIDEST[B],re=9-V,ie=Rn.getRSSvalue(u,V,!0),ne=Rn.getRSSvalue(d,re,!1),He=wt.INSIDE_ODD_TOTAL_SUBSET[B],Pe=wt.INSIDE_GSUM[B];return new Or(ne*He+ie+Pe,D)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),o=!1,l=0;for(;l<s&&(o=!e.get(l),t!==o);)l++;let u=0,d=l;for(let g=l;g<s;g++)if(e.get(g)!==o)r[u]++;else{if(u===3){if(kt.isFinderPattern(r))return[d,g];d+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,o=!o}throw new G}parseFoundFinderPattern(e,t,r,s){let o=e.get(s[0]),l=s[0]-1;for(;l>=0&&o!==e.get(l);)l--;l++;const u=s[0]-l,d=this.getDecodeFinderCounters(),g=new Int32Array(d.length);L.arraycopy(d,0,g,1,d.length-1),g[0]=u;const p=this.parseFinderValue(g,wt.FINDER_PATTERNS);let C=l,I=s[1];return r&&(C=e.getSize()-1-C,I=e.getSize()-1-I),new Ui(p,[l,s[1]],C,I,t)}adjustOddEvenCounts(e,t){let r=Q.sum(new Int32Array(this.getOddCounts())),s=Q.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,u=!1,d=!1;e?(r>12?l=!0:r<4&&(o=!0),s>12?d=!0:s<4&&(u=!0)):(r>11?l=!0:r<5&&(o=!0),s>10?d=!0:s<4&&(u=!0));let g=r+s-t,p=(r&1)===(e?1:0),C=(s&1)===1;if(g===1)if(p){if(C)throw new G;l=!0}else{if(!C)throw new G;d=!0}else if(g===-1)if(p){if(C)throw new G;o=!0}else{if(!C)throw new G;u=!0}else if(g===0){if(p){if(!C)throw new G;r<s?(o=!0,d=!0):(l=!0,u=!0)}else if(C)throw new G}else throw new G;if(o){if(l)throw new G;kt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&kt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new G;kt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&kt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}wt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],wt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],wt.OUTSIDE_GSUM=[0,161,961,2015,2715],wt.INSIDE_GSUM=[0,336,1036,1516],wt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],wt.INSIDE_ODD_WIDEST=[2,4,6,8],wt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vr extends lt{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const r=e?e.get(we.POSSIBLE_FORMATS):null,s=e&&e.get(we.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(xe.EAN_13)||r.includes(xe.UPC_A)||r.includes(xe.EAN_8)||r.includes(xe.UPC_E))&&this.readers.push(new Us(e)),r.includes(xe.CODE_39)&&this.readers.push(new Xe(s)),r.includes(xe.CODE_128)&&this.readers.push(new ae),r.includes(xe.ITF)&&this.readers.push(new Ue),r.includes(xe.RSS_14)&&this.readers.push(new wt),r.includes(xe.RSS_EXPANDED)&&this.readers.push(new $(this.verbose))):(this.readers.push(new Us(e)),this.readers.push(new Xe),this.readers.push(new Us(e)),this.readers.push(new ae),this.readers.push(new Ue),this.readers.push(new wt),this.readers.push(new $(this.verbose)))}decodeRow(e,t,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,t,r)}catch{}throw new G}reset(){this.readers.forEach(e=>e.reset())}}class du extends Nt{constructor(e=500,t){super(new vr(t),e,t)}}class qe{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ke{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class We{constructor(e,t,r,s,o,l){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=l;let u=0;const d=l.getECCodewords(),g=l.getECBlocks();for(let p of g)u+=p.getCount()*(p.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if((e&1)!==0||(t&1)!==0)throw new Y;for(let r of We.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new We(1,10,10,8,8,new qe(5,new Ke(1,3))),new We(2,12,12,10,10,new qe(7,new Ke(1,5))),new We(3,14,14,12,12,new qe(10,new Ke(1,8))),new We(4,16,16,14,14,new qe(12,new Ke(1,12))),new We(5,18,18,16,16,new qe(14,new Ke(1,18))),new We(6,20,20,18,18,new qe(18,new Ke(1,22))),new We(7,22,22,20,20,new qe(20,new Ke(1,30))),new We(8,24,24,22,22,new qe(24,new Ke(1,36))),new We(9,26,26,24,24,new qe(28,new Ke(1,44))),new We(10,32,32,14,14,new qe(36,new Ke(1,62))),new We(11,36,36,16,16,new qe(42,new Ke(1,86))),new We(12,40,40,18,18,new qe(48,new Ke(1,114))),new We(13,44,44,20,20,new qe(56,new Ke(1,144))),new We(14,48,48,22,22,new qe(68,new Ke(1,174))),new We(15,52,52,24,24,new qe(42,new Ke(2,102))),new We(16,64,64,14,14,new qe(56,new Ke(2,140))),new We(17,72,72,16,16,new qe(36,new Ke(4,92))),new We(18,80,80,18,18,new qe(48,new Ke(4,114))),new We(19,88,88,20,20,new qe(56,new Ke(4,144))),new We(20,96,96,22,22,new qe(68,new Ke(4,174))),new We(21,104,104,24,24,new qe(56,new Ke(6,136))),new We(22,120,120,18,18,new qe(68,new Ke(6,175))),new We(23,132,132,20,20,new qe(62,new Ke(8,163))),new We(24,144,144,22,22,new qe(62,new Ke(8,156),new Ke(2,155))),new We(25,8,18,6,16,new qe(7,new Ke(1,5))),new We(26,8,32,6,14,new qe(11,new Ke(1,10))),new We(27,12,26,10,24,new qe(14,new Ke(1,16))),new We(28,12,36,10,16,new qe(18,new Ke(1,22))),new We(29,16,36,14,16,new qe(24,new Ke(1,32))),new We(30,16,48,14,22,new qe(28,new Ke(1,49)))]}}We.VERSIONS=We.buildVersions();class Ws{constructor(e){const t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new Y;this.version=Ws.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ze(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return We.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let u=!1,d=!1,g=!1,p=!1;do if(r===o&&s===0&&!u)e[t++]=this.readCorner1(o,l)&255,r-=2,s+=2,u=!0;else if(r===o-2&&s===0&&(l&3)!==0&&!d)e[t++]=this.readCorner2(o,l)&255,r-=2,s+=2,d=!0;else if(r===o+4&&s===2&&(l&7)===0&&!g)e[t++]=this.readCorner3(o,l)&255,r-=2,s+=2,g=!0;else if(r===o-2&&s===0&&(l&7)===4&&!p)e[t++]=this.readCorner4(o,l)&255,r-=2,s+=2,p=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(e[t++]=this.readUtah(r,s,o,l)&255),r-=2,s+=2;while(r>=0&&s<l);r+=1,s+=3;do r>=0&&s<l&&!this.readMappingMatrix.get(s,r)&&(e[t++]=this.readUtah(r,s,o,l)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<l);if(t!==this.version.getTotalCodewords())throw new Y;return e}readModule(e,t,r,s){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,s){let o=0;return this.readModule(e-2,t-2,r,s)&&(o|=1),o<<=1,this.readModule(e-2,t-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,t-2,r,s)&&(o|=1),o<<=1,this.readModule(e-1,t-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,t,r,s)&&(o|=1),o<<=1,this.readModule(e,t-2,r,s)&&(o|=1),o<<=1,this.readModule(e,t-1,r,s)&&(o|=1),o<<=1,this.readModule(e,t,r,s)&&(o|=1),o}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new y("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=t/s|0,u=r/o|0,d=l*s,g=u*o,p=new ze(g,d);for(let C=0;C<l;++C){const I=C*s;for(let S=0;S<u;++S){const O=S*o;for(let D=0;D<s;++D){const B=C*(s+2)+1+D,V=I+D;for(let re=0;re<o;++re){const ie=S*(o+2)+1+re;if(e.get(ie,B)){const ne=O+re;p.set(ne,V)}}}}}return p}}class Xs{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let s=0;const o=r.getECBlocks();for(let D of o)s+=D.getCount();const l=new Array(s);let u=0;for(let D of o)for(let B=0;B<D.getCount();B++){const V=D.getDataCodewords(),re=r.getECCodewords()+V;l[u++]=new Xs(V,new Uint8Array(re))}const g=l[0].codewords.length-r.getECCodewords(),p=g-1;let C=0;for(let D=0;D<p;D++)for(let B=0;B<u;B++)l[B].codewords[D]=e[C++];const I=t.getVersionNumber()===24,S=I?8:u;for(let D=0;D<S;D++)l[D].codewords[g-1]=e[C++];const O=l[0].codewords.length;for(let D=g;D<O;D++)for(let B=0;B<u;B++){const V=I?(B+8)%u:B,re=I&&V>7?D-1:D;l[V].codewords[re]=e[C++]}if(C!==e.length)throw new y;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class js{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new y(""+e);let t=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const l=8-r,u=e<l?e:l,d=l-u,g=255>>8-u<<d;t=(o[s]&g)>>d,e-=u,r+=u,r===8&&(r=0,s++)}if(e>0){for(;e>=8;)t=t<<8|o[s]&255,s++,e-=8;if(e>0){const l=8-e,u=255>>l<<l;t=t<<e|(o[s]&u)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=s,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var St;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(St||(St={}));class tr{static decode(e){const t=new js(e),r=new Ne,s=new Ne,o=new Array;let l=St.ASCII_ENCODE;do if(l===St.ASCII_ENCODE)l=this.decodeAsciiSegment(t,r,s);else{switch(l){case St.C40_ENCODE:this.decodeC40Segment(t,r);break;case St.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case St.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case St.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case St.BASE256_ENCODE:this.decodeBase256Segment(t,r,o);break;default:throw new Y}l=St.ASCII_ENCODE}while(l!==St.PAD_ENCODE&&t.available()>0);return s.length()>0&&r.append(s.toString()),new ce(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,t,r){let s=!1;do{let o=e.readBits(8);if(o===0)throw new Y;if(o<=128)return s&&(o+=128),t.append(String.fromCharCode(o-1)),St.ASCII_ENCODE;if(o===129)return St.PAD_ENCODE;if(o<=229){const l=o-130;l<10&&t.append("0"),t.append(""+l)}else switch(o){case 230:return St.C40_ENCODE;case 231:return St.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return St.ANSIX12_ENCODE;case 239:return St.TEXT_ENCODE;case 240:return St.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new Y;break}}while(e.available()>0);return St.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const s=[];let o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const d=s[u];switch(o){case 0:if(d<3)o=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new Y;break;case 1:r?(t.append(String.fromCharCode(d+128)),r=!1):t.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(d){case 27:t.append("");break;case 30:r=!0;break;default:throw new Y}o=0;break;case 3:r?(t.append(String.fromCharCode(d+224)),r=!1):t.append(String.fromCharCode(d+96)),o=0;break;default:throw new Y}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,s=[],o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const d=s[u];switch(o){case 0:if(d<3)o=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new Y;break;case 1:r?(t.append(String.fromCharCode(d+128)),r=!1):t.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(d){case 27:t.append("");break;case 30:r=!0;break;default:throw new Y}o=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g),o=0}else throw new Y;break;default:throw new Y}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let o=0;o<3;o++){const l=r[o];switch(l){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(l<14)t.append(String.fromCharCode(l+44));else if(l<40)t.append(String.fromCharCode(l+51));else throw new Y;break}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let s=(e<<8)+t-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let s=e.readBits(6);if(s===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(s&32)===0&&(s|=64),t.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let s=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),s++);let l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),s++),l<0)throw new Y;const u=new Uint8Array(l);for(let d=0;d<l;d++){if(e.available()<8)throw new Y;u[d]=this.unrandomize255State(e.readBits(8),s++)}r.push(u);try{t.append(at.decode(u,me.ISO88591))}catch(d){throw new X("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,t){const r=149*t%255+1,s=e-r;return s>=0?s:s+256}}tr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],tr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],tr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],tr.TEXT_SHIFT2_SET_CHARS=tr.C40_SHIFT2_SET_CHARS,tr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class gu{constructor(){this.rsDecoder=new Z(T.DATA_MATRIX_FIELD_256)}decode(e){const t=new Ws(e),r=t.getVersion(),s=t.readCodewords(),o=Xs.getDataBlocks(s,r);let l=0;for(let g of o)l+=g.getNumDataCodewords();const u=new Uint8Array(l),d=o.length;for(let g=0;g<d;g++){const p=o[g],C=p.getCodewords(),I=p.getNumDataCodewords();this.correctErrors(C,I);for(let S=0;S<I;S++)u[S*d+g]=C[S]}return tr.decode(u)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new v}for(let s=0;s<t;s++)e[s]=r[s]}}class bt{constructor(e){this.image=e,this.rectangleDetector=new pe(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new G;t=this.shiftToModuleCenter(t);const r=t[0],s=t[1],o=t[2],l=t[3];let u=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(o,l)+1;(u&1)===1&&(u+=1),(d&1)===1&&(d+=1),4*u<7*d&&4*d<7*u&&(u=d=Math.max(u,d));let g=bt.sampleGrid(this.image,r,s,o,l,u,d);return new Ce(g,[r,s,o,l])}static shiftPoint(e,t,r){let s=(t.getX()-e.getX())/(r+1),o=(t.getY()-e.getY())/(r+1);return new F(e.getX()+s,e.getY()+o)}static moveAway(e,t,r){let s=e.getX(),o=e.getY();return s<t?s-=1:s+=1,o<r?o-=1:o+=1,new F(s,o)}detectSolid1(e){let t=e[0],r=e[1],s=e[3],o=e[2],l=this.transitionsBetween(t,r),u=this.transitionsBetween(r,s),d=this.transitionsBetween(s,o),g=this.transitionsBetween(o,t),p=l,C=[o,t,r,s];return p>u&&(p=u,C[0]=t,C[1]=r,C[2]=s,C[3]=o),p>d&&(p=d,C[0]=r,C[1]=s,C[2]=o,C[3]=t),p>g&&(C[0]=s,C[1]=o,C[2]=t,C[3]=r),C}detectSolid2(e){let t=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(t,o),u=bt.shiftPoint(r,s,(l+1)*4),d=bt.shiftPoint(s,r,(l+1)*4),g=this.transitionsBetween(u,t),p=this.transitionsBetween(d,o);return g<p?(e[0]=t,e[1]=r,e[2]=s,e[3]=o):(e[0]=r,e[1]=s,e[2]=o,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(t,o),u=this.transitionsBetween(r,o),d=bt.shiftPoint(t,r,(u+1)*4),g=bt.shiftPoint(s,r,(l+1)*4);l=this.transitionsBetween(d,o),u=this.transitionsBetween(g,o);let p=new F(o.getX()+(s.getX()-r.getX())/(l+1),o.getY()+(s.getY()-r.getY())/(l+1)),C=new F(o.getX()+(t.getX()-r.getX())/(u+1),o.getY()+(t.getY()-r.getY())/(u+1));if(!this.isValid(p))return this.isValid(C)?C:null;if(!this.isValid(C))return p;let I=this.transitionsBetween(d,p)+this.transitionsBetween(g,p),S=this.transitionsBetween(d,C)+this.transitionsBetween(g,C);return I>S?p:C}shiftToModuleCenter(e){let t=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(t,o)+1,u=this.transitionsBetween(s,o)+1,d=bt.shiftPoint(t,r,u*4),g=bt.shiftPoint(s,r,l*4);l=this.transitionsBetween(d,o)+1,u=this.transitionsBetween(g,o)+1,(l&1)===1&&(l+=1),(u&1)===1&&(u+=1);let p=(t.getX()+r.getX()+s.getX()+o.getX())/4,C=(t.getY()+r.getY()+s.getY()+o.getY())/4;t=bt.moveAway(t,p,C),r=bt.moveAway(r,p,C),s=bt.moveAway(s,p,C),o=bt.moveAway(o,p,C);let I,S;return d=bt.shiftPoint(t,r,u*4),d=bt.shiftPoint(d,o,l*4),I=bt.shiftPoint(r,t,u*4),I=bt.shiftPoint(I,s,l*4),g=bt.shiftPoint(s,o,u*4),g=bt.shiftPoint(g,r,l*4),S=bt.shiftPoint(o,s,u*4),S=bt.shiftPoint(S,t,l*4),[d,I,g,S]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,s,o,l,u){return ke.getInstance().sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,t.getX(),t.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),s=Math.trunc(e.getY()),o=Math.trunc(t.getX()),l=Math.trunc(t.getY()),u=Math.abs(l-s)>Math.abs(o-r);if(u){let D=r;r=s,s=D,D=o,o=l,l=D}let d=Math.abs(o-r),g=Math.abs(l-s),p=-d/2,C=s<l?1:-1,I=r<o?1:-1,S=0,O=this.image.get(u?s:r,u?r:s);for(let D=r,B=s;D!==o;D+=I){let V=this.image.get(u?B:D,u?D:B);if(V!==O&&(S++,O=V),p+=g,p>0){if(B===l)break;B+=C,p-=d}}return S}}class nr{constructor(){this.decoder=new gu}decode(e,t=null){let r,s;if(t!=null&&t.has(we.PURE_BARCODE)){const g=nr.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(g),s=nr.NO_POINTS}else{const g=new bt(e.getBlackMatrix()).detect();r=this.decoder.decode(g.getBits()),s=g.getPoints()}const o=r.getRawBytes(),l=new rt(r.getText(),o,8*o.length,s,xe.DATA_MATRIX,L.currentTimeMillis()),u=r.getByteSegments();u!=null&&l.putMetadata(oe.BYTE_SEGMENTS,u);const d=r.getECLevel();return d!=null&&l.putMetadata(oe.ERROR_CORRECTION_LEVEL,d),l}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new G;const s=this.moduleSize(t,e);let o=t[1];const l=r[1];let u=t[0];const g=(r[0]-u+1)/s,p=(l-o+1)/s;if(g<=0||p<=0)throw new G;const C=s/2;o+=C,u+=C;const I=new ze(g,p);for(let S=0;S<p;S++){const O=o+S*s;for(let D=0;D<g;D++)e.get(u+D*s,O)&&I.set(D,S)}return I}static moduleSize(e,t){const r=t.getWidth();let s=e[0];const o=e[1];for(;s<r&&t.get(s,o);)s++;if(s===r)throw new G;const l=s-e[0];if(l===0)throw new G;return l}}nr.NO_POINTS=[];class xu extends Nt{constructor(e=500){super(new nr,e)}}var Mr;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(Mr||(Mr={}));class ct{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,ct.FOR_BITS.set(r,this),ct.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return ct.L;case"M":return ct.M;case"Q":return ct.Q;case"H":return ct.H;default:throw new b(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof ct))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=ct.FOR_BITS.size)throw new y;return ct.FOR_BITS.get(e)}}ct.FOR_BITS=new Map,ct.FOR_VALUE=new Map,ct.L=new ct(Mr.L,"L",1),ct.M=new ct(Mr.M,"M",0),ct.Q=new ct(Mr.Q,"Q",3),ct.H=new ct(Mr.H,"H",2);class Ut{constructor(e){this.errorCorrectionLevel=ct.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return j.bitCount(e^t)}static decodeFormatInformation(e,t){const r=Ut.doDecodeFormatInformation(e,t);return r!==null?r:Ut.doDecodeFormatInformation(e^Ut.FORMAT_INFO_MASK_QR,t^Ut.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of Ut.FORMAT_INFO_DECODE_LOOKUP){const l=o[0];if(l===e||l===t)return new Ut(o[1]);let u=Ut.numBitsDiffering(e,l);u<r&&(s=o[1],r=u),e!==t&&(u=Ut.numBitsDiffering(t,l),u<r&&(s=o[1],r=u))}return r<=3?new Ut(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Ut))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Ut.FORMAT_INFO_MASK_QR=21522,Ut.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class k{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ae{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),l=r[0].getECBlocks();for(const u of l)s+=u.getCount()*(u.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new Y;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Y}}static getVersionForNumber(e){if(e<1||e>40)throw new y;return Ae.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<Ae.VERSION_DECODE_INFO.length;s++){const o=Ae.VERSION_DECODE_INFO[s];if(o===e)return Ae.getVersionForNumber(s+7);const l=Ut.numBitsDiffering(e,o);l<t&&(r=s+7,t=l)}return t<=3?Ae.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new ze(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let l=0;l<r;l++)s===0&&(l===0||l===r-1)||s===r-1&&l===0||t.setRegion(this.alignmentPatternCenters[l]-2,o,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Ae.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ae.VERSIONS=[new Ae(1,new Int32Array(0),new k(7,new _(1,19)),new k(10,new _(1,16)),new k(13,new _(1,13)),new k(17,new _(1,9))),new Ae(2,Int32Array.from([6,18]),new k(10,new _(1,34)),new k(16,new _(1,28)),new k(22,new _(1,22)),new k(28,new _(1,16))),new Ae(3,Int32Array.from([6,22]),new k(15,new _(1,55)),new k(26,new _(1,44)),new k(18,new _(2,17)),new k(22,new _(2,13))),new Ae(4,Int32Array.from([6,26]),new k(20,new _(1,80)),new k(18,new _(2,32)),new k(26,new _(2,24)),new k(16,new _(4,9))),new Ae(5,Int32Array.from([6,30]),new k(26,new _(1,108)),new k(24,new _(2,43)),new k(18,new _(2,15),new _(2,16)),new k(22,new _(2,11),new _(2,12))),new Ae(6,Int32Array.from([6,34]),new k(18,new _(2,68)),new k(16,new _(4,27)),new k(24,new _(4,19)),new k(28,new _(4,15))),new Ae(7,Int32Array.from([6,22,38]),new k(20,new _(2,78)),new k(18,new _(4,31)),new k(18,new _(2,14),new _(4,15)),new k(26,new _(4,13),new _(1,14))),new Ae(8,Int32Array.from([6,24,42]),new k(24,new _(2,97)),new k(22,new _(2,38),new _(2,39)),new k(22,new _(4,18),new _(2,19)),new k(26,new _(4,14),new _(2,15))),new Ae(9,Int32Array.from([6,26,46]),new k(30,new _(2,116)),new k(22,new _(3,36),new _(2,37)),new k(20,new _(4,16),new _(4,17)),new k(24,new _(4,12),new _(4,13))),new Ae(10,Int32Array.from([6,28,50]),new k(18,new _(2,68),new _(2,69)),new k(26,new _(4,43),new _(1,44)),new k(24,new _(6,19),new _(2,20)),new k(28,new _(6,15),new _(2,16))),new Ae(11,Int32Array.from([6,30,54]),new k(20,new _(4,81)),new k(30,new _(1,50),new _(4,51)),new k(28,new _(4,22),new _(4,23)),new k(24,new _(3,12),new _(8,13))),new Ae(12,Int32Array.from([6,32,58]),new k(24,new _(2,92),new _(2,93)),new k(22,new _(6,36),new _(2,37)),new k(26,new _(4,20),new _(6,21)),new k(28,new _(7,14),new _(4,15))),new Ae(13,Int32Array.from([6,34,62]),new k(26,new _(4,107)),new k(22,new _(8,37),new _(1,38)),new k(24,new _(8,20),new _(4,21)),new k(22,new _(12,11),new _(4,12))),new Ae(14,Int32Array.from([6,26,46,66]),new k(30,new _(3,115),new _(1,116)),new k(24,new _(4,40),new _(5,41)),new k(20,new _(11,16),new _(5,17)),new k(24,new _(11,12),new _(5,13))),new Ae(15,Int32Array.from([6,26,48,70]),new k(22,new _(5,87),new _(1,88)),new k(24,new _(5,41),new _(5,42)),new k(30,new _(5,24),new _(7,25)),new k(24,new _(11,12),new _(7,13))),new Ae(16,Int32Array.from([6,26,50,74]),new k(24,new _(5,98),new _(1,99)),new k(28,new _(7,45),new _(3,46)),new k(24,new _(15,19),new _(2,20)),new k(30,new _(3,15),new _(13,16))),new Ae(17,Int32Array.from([6,30,54,78]),new k(28,new _(1,107),new _(5,108)),new k(28,new _(10,46),new _(1,47)),new k(28,new _(1,22),new _(15,23)),new k(28,new _(2,14),new _(17,15))),new Ae(18,Int32Array.from([6,30,56,82]),new k(30,new _(5,120),new _(1,121)),new k(26,new _(9,43),new _(4,44)),new k(28,new _(17,22),new _(1,23)),new k(28,new _(2,14),new _(19,15))),new Ae(19,Int32Array.from([6,30,58,86]),new k(28,new _(3,113),new _(4,114)),new k(26,new _(3,44),new _(11,45)),new k(26,new _(17,21),new _(4,22)),new k(26,new _(9,13),new _(16,14))),new Ae(20,Int32Array.from([6,34,62,90]),new k(28,new _(3,107),new _(5,108)),new k(26,new _(3,41),new _(13,42)),new k(30,new _(15,24),new _(5,25)),new k(28,new _(15,15),new _(10,16))),new Ae(21,Int32Array.from([6,28,50,72,94]),new k(28,new _(4,116),new _(4,117)),new k(26,new _(17,42)),new k(28,new _(17,22),new _(6,23)),new k(30,new _(19,16),new _(6,17))),new Ae(22,Int32Array.from([6,26,50,74,98]),new k(28,new _(2,111),new _(7,112)),new k(28,new _(17,46)),new k(30,new _(7,24),new _(16,25)),new k(24,new _(34,13))),new Ae(23,Int32Array.from([6,30,54,78,102]),new k(30,new _(4,121),new _(5,122)),new k(28,new _(4,47),new _(14,48)),new k(30,new _(11,24),new _(14,25)),new k(30,new _(16,15),new _(14,16))),new Ae(24,Int32Array.from([6,28,54,80,106]),new k(30,new _(6,117),new _(4,118)),new k(28,new _(6,45),new _(14,46)),new k(30,new _(11,24),new _(16,25)),new k(30,new _(30,16),new _(2,17))),new Ae(25,Int32Array.from([6,32,58,84,110]),new k(26,new _(8,106),new _(4,107)),new k(28,new _(8,47),new _(13,48)),new k(30,new _(7,24),new _(22,25)),new k(30,new _(22,15),new _(13,16))),new Ae(26,Int32Array.from([6,30,58,86,114]),new k(28,new _(10,114),new _(2,115)),new k(28,new _(19,46),new _(4,47)),new k(28,new _(28,22),new _(6,23)),new k(30,new _(33,16),new _(4,17))),new Ae(27,Int32Array.from([6,34,62,90,118]),new k(30,new _(8,122),new _(4,123)),new k(28,new _(22,45),new _(3,46)),new k(30,new _(8,23),new _(26,24)),new k(30,new _(12,15),new _(28,16))),new Ae(28,Int32Array.from([6,26,50,74,98,122]),new k(30,new _(3,117),new _(10,118)),new k(28,new _(3,45),new _(23,46)),new k(30,new _(4,24),new _(31,25)),new k(30,new _(11,15),new _(31,16))),new Ae(29,Int32Array.from([6,30,54,78,102,126]),new k(30,new _(7,116),new _(7,117)),new k(28,new _(21,45),new _(7,46)),new k(30,new _(1,23),new _(37,24)),new k(30,new _(19,15),new _(26,16))),new Ae(30,Int32Array.from([6,26,52,78,104,130]),new k(30,new _(5,115),new _(10,116)),new k(28,new _(19,47),new _(10,48)),new k(30,new _(15,24),new _(25,25)),new k(30,new _(23,15),new _(25,16))),new Ae(31,Int32Array.from([6,30,56,82,108,134]),new k(30,new _(13,115),new _(3,116)),new k(28,new _(2,46),new _(29,47)),new k(30,new _(42,24),new _(1,25)),new k(30,new _(23,15),new _(28,16))),new Ae(32,Int32Array.from([6,34,60,86,112,138]),new k(30,new _(17,115)),new k(28,new _(10,46),new _(23,47)),new k(30,new _(10,24),new _(35,25)),new k(30,new _(19,15),new _(35,16))),new Ae(33,Int32Array.from([6,30,58,86,114,142]),new k(30,new _(17,115),new _(1,116)),new k(28,new _(14,46),new _(21,47)),new k(30,new _(29,24),new _(19,25)),new k(30,new _(11,15),new _(46,16))),new Ae(34,Int32Array.from([6,34,62,90,118,146]),new k(30,new _(13,115),new _(6,116)),new k(28,new _(14,46),new _(23,47)),new k(30,new _(44,24),new _(7,25)),new k(30,new _(59,16),new _(1,17))),new Ae(35,Int32Array.from([6,30,54,78,102,126,150]),new k(30,new _(12,121),new _(7,122)),new k(28,new _(12,47),new _(26,48)),new k(30,new _(39,24),new _(14,25)),new k(30,new _(22,15),new _(41,16))),new Ae(36,Int32Array.from([6,24,50,76,102,128,154]),new k(30,new _(6,121),new _(14,122)),new k(28,new _(6,47),new _(34,48)),new k(30,new _(46,24),new _(10,25)),new k(30,new _(2,15),new _(64,16))),new Ae(37,Int32Array.from([6,28,54,80,106,132,158]),new k(30,new _(17,122),new _(4,123)),new k(28,new _(29,46),new _(14,47)),new k(30,new _(49,24),new _(10,25)),new k(30,new _(24,15),new _(46,16))),new Ae(38,Int32Array.from([6,32,58,84,110,136,162]),new k(30,new _(4,122),new _(18,123)),new k(28,new _(13,46),new _(32,47)),new k(30,new _(48,24),new _(14,25)),new k(30,new _(42,15),new _(32,16))),new Ae(39,Int32Array.from([6,26,54,82,110,138,166]),new k(30,new _(20,117),new _(4,118)),new k(28,new _(40,47),new _(7,48)),new k(30,new _(43,24),new _(22,25)),new k(30,new _(10,15),new _(67,16))),new Ae(40,Int32Array.from([6,30,58,86,114,142,170]),new k(30,new _(19,118),new _(6,119)),new k(28,new _(18,47),new _(31,48)),new k(30,new _(34,24),new _(34,25)),new k(30,new _(20,15),new _(61,16)))];var Dt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Dt||(Dt={}));class dn{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let s=0;s<t;s++)this.isMasked(r,s)&&e.flip(s,r)}}dn.values=new Map([[Dt.DATA_MASK_000,new dn(Dt.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[Dt.DATA_MASK_001,new dn(Dt.DATA_MASK_001,(A,e)=>(A&1)===0)],[Dt.DATA_MASK_010,new dn(Dt.DATA_MASK_010,(A,e)=>e%3===0)],[Dt.DATA_MASK_011,new dn(Dt.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[Dt.DATA_MASK_100,new dn(Dt.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[Dt.DATA_MASK_101,new dn(Dt.DATA_MASK_101,(A,e)=>A*e%6===0)],[Dt.DATA_MASK_110,new dn(Dt.DATA_MASK_110,(A,e)=>A*e%6<3)],[Dt.DATA_MASK_111,new dn(Dt.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class pu{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new Y;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const t=this.bitMatrix.getHeight();let r=0;const s=t-7;for(let o=t-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=t-8;o<t;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=Ut.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ae.getVersionForNumber(t);let r=0;const s=e-11;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(u,l,r);let o=Ae.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(l,u,r);if(o=Ae.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new Y}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=dn.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=t.buildFunctionPattern();let l=!0;const u=new Uint8Array(t.getTotalCodewords());let d=0,g=0,p=0;for(let C=s-1;C>0;C-=2){C===6&&C--;for(let I=0;I<s;I++){const S=l?s-1-I:I;for(let O=0;O<2;O++)o.get(C-O,S)||(p++,g<<=1,this.bitMatrix.get(C-O,S)&&(g|=1),p===8&&(u[d++]=g,p=0,g=0))}l=!l}if(d!==t.getTotalCodewords())throw new Y;return u}remask(){if(this.parsedFormatInfo===null)return;const e=dn.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let s=t+1,o=e.getHeight();s<o;s++)e.get(t,s)!==e.get(s,t)&&(e.flip(s,t),e.flip(t,s))}}class zs{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new y;const s=t.getECBlocksForLevel(r);let o=0;const l=s.getECBlocks();for(const O of l)o+=O.getCount();const u=new Array(o);let d=0;for(const O of l)for(let D=0;D<O.getCount();D++){const B=O.getDataCodewords(),V=s.getECCodewordsPerBlock()+B;u[d++]=new zs(B,new Uint8Array(V))}const g=u[0].codewords.length;let p=u.length-1;for(;p>=0&&u[p].codewords.length!==g;)p--;p++;const C=g-s.getECCodewordsPerBlock();let I=0;for(let O=0;O<C;O++)for(let D=0;D<d;D++)u[D].codewords[O]=e[I++];for(let O=p;O<d;O++)u[O].codewords[C]=e[I++];const S=u[0].codewords.length;for(let O=C;O<S;O++)for(let D=0;D<d;D++){const B=D<p?O:O+1;u[D].codewords[B]=e[I++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gn;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(gn||(gn={}));class be{constructor(e,t,r,s){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=s,be.FOR_BITS.set(s,this),be.FOR_VALUE.set(e,this)}static forBits(e){const t=be.FOR_BITS.get(e);if(t===void 0)throw new y;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof be))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}be.FOR_BITS=new Map,be.FOR_VALUE=new Map,be.TERMINATOR=new be(gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),be.NUMERIC=new be(gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),be.ALPHANUMERIC=new be(gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),be.STRUCTURED_APPEND=new be(gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),be.BYTE=new be(gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),be.ECI=new be(gn.ECI,"ECI",Int32Array.from([0,0,0]),7),be.KANJI=new be(gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),be.FNC1_FIRST_POSITION=new be(gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),be.FNC1_SECOND_POSITION=new be(gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),be.HANZI=new be(gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gt{static decode(e,t,r,s){const o=new js(e);let l=new Ne;const u=new Array;let d=-1,g=-1;try{let p=null,C=!1,I;do{if(o.available()<4)I=be.TERMINATOR;else{const S=o.readBits(4);I=be.forBits(S)}switch(I){case be.TERMINATOR:break;case be.FNC1_FIRST_POSITION:case be.FNC1_SECOND_POSITION:C=!0;break;case be.STRUCTURED_APPEND:if(o.available()<16)throw new Y;d=o.readBits(8),g=o.readBits(8);break;case be.ECI:const S=gt.parseECIValue(o);if(p=te.getCharacterSetECIByValue(S),p===null)throw new Y;break;case be.HANZI:const O=o.readBits(4),D=o.readBits(I.getCharacterCountBits(t));O===gt.GB2312_SUBSET&&gt.decodeHanziSegment(o,l,D);break;default:const B=o.readBits(I.getCharacterCountBits(t));switch(I){case be.NUMERIC:gt.decodeNumericSegment(o,l,B);break;case be.ALPHANUMERIC:gt.decodeAlphanumericSegment(o,l,B,C);break;case be.BYTE:gt.decodeByteSegment(o,l,B,p,u,s);break;case be.KANJI:gt.decodeKanjiSegment(o,l,B);break;default:throw new Y}break}}while(I!==be.TERMINATOR)}catch{throw new Y}return new ce(e,l.toString(),u.length===0?null:u,r===null?null:r.toString(),d,g)}static decodeHanziSegment(e,t,r){if(r*13>e.available())throw new Y;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/96<<8&4294967295|l%96;u<959?u+=41377:u+=42657,s[o]=u>>8&255,s[o+1]=u&255,o+=2,r--}try{t.append(at.decode(s,me.GB2312))}catch(l){throw new Y(l)}}static decodeKanjiSegment(e,t,r){if(r*13>e.available())throw new Y;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/192<<8&4294967295|l%192;u<7936?u+=33088:u+=49472,s[o]=u>>8,s[o+1]=u,o+=2,r--}try{t.append(at.decode(s,me.SHIFT_JIS))}catch(l){throw new Y(l)}}static decodeByteSegment(e,t,r,s,o,l){if(8*r>e.available())throw new Y;const u=new Uint8Array(r);for(let g=0;g<r;g++)u[g]=e.readBits(8);let d;s===null?d=me.guessEncoding(u,l):d=s.getName();try{t.append(at.decode(u,d))}catch(g){throw new Y(g)}o.push(u)}static toAlphaNumericChar(e){if(e>=gt.ALPHANUMERIC_CHARS.length)throw new Y;return gt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,s){const o=t.length();for(;r>1;){if(e.available()<11)throw new Y;const l=e.readBits(11);t.append(gt.toAlphaNumericChar(Math.floor(l/45))),t.append(gt.toAlphaNumericChar(l%45)),r-=2}if(r===1){if(e.available()<6)throw new Y;t.append(gt.toAlphaNumericChar(e.readBits(6)))}if(s)for(let l=o;l<t.length();l++)t.charAt(l)==="%"&&(l<t.length()-1&&t.charAt(l+1)==="%"?t.deleteCharAt(l+1):t.setCharAt(l,""))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new Y;const s=e.readBits(10);if(s>=1e3)throw new Y;t.append(gt.toAlphaNumericChar(Math.floor(s/100))),t.append(gt.toAlphaNumericChar(Math.floor(s/10)%10)),t.append(gt.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(e.available()<7)throw new Y;const s=e.readBits(7);if(s>=100)throw new Y;t.append(gt.toAlphaNumericChar(Math.floor(s/10))),t.append(gt.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new Y;const s=e.readBits(4);if(s>=10)throw new Y;t.append(gt.toAlphaNumericChar(s))}}static parseECIValue(e){const t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){const r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){const r=e.readBits(16);return(t&31)<<16&4294967295|r}throw new Y}}gt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gt.GB2312_SUBSET=1;class ba{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class wu{constructor(){this.rsDecoder=new Z(T.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(ze.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new pu(e);let s=null;try{return this.decodeBitMatrixParser(r,t)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,t);return o.setOther(new ba(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(e,t){const r=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),l=zs.getDataBlocks(o,r,s);let u=0;for(const p of l)u+=p.getNumDataCodewords();const d=new Uint8Array(u);let g=0;for(const p of l){const C=p.getCodewords(),I=p.getNumDataCodewords();this.correctErrors(C,I);for(let S=0;S<I;S++)d[g++]=C[S]}return gt.decode(d,r,s,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new v}for(let s=0;s<t;s++)e[s]=r[s]}}class Ys extends F{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const s=(this.getX()+t)/2,o=(this.getY()+e)/2,l=(this.estimatedModuleSize+r)/2;return new Ys(s,o,l)}}class Gi{constructor(e,t,r,s,o,l,u){this.image=e,this.startX=t,this.startY=r,this.width=s,this.height=o,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=this.width,s=e+r,o=this.startY+t/2,l=new Int32Array(3),u=this.image;for(let d=0;d<t;d++){const g=o+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));l[0]=0,l[1]=0,l[2]=0;let p=e;for(;p<s&&!u.get(p,g);)p++;let C=0;for(;p<s;){if(u.get(p,g))if(C===1)l[1]++;else if(C===2){if(this.foundPatternCross(l)){const I=this.handlePossibleCenter(l,g,p);if(I!==null)return I}l[0]=l[2],l[1]=1,l[2]=0,C=1}else l[++C]++;else C===1&&C++,l[C]++;p++}if(this.foundPatternCross(l)){const I=this.handlePossibleCenter(l,g,s);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let s=0;s<3;s++)if(Math.abs(t-e[s])>=r)return!1;return!0}crossCheckVertical(e,t,r,s){const o=this.image,l=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let d=e;for(;d>=0&&o.get(t,d)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&!o.get(t,d)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<l&&o.get(t,d)&&u[1]<=r;)u[1]++,d++;if(d===l||u[1]>r)return NaN;for(;d<l&&!o.get(t,d)&&u[2]<=r;)u[2]++,d++;if(u[2]>r)return NaN;const g=u[0]+u[1]+u[2];return 5*Math.abs(g-s)>=2*s?NaN:this.foundPatternCross(u)?Gi.centerFromEnd(u,d):NaN}handlePossibleCenter(e,t,r){const s=e[0]+e[1]+e[2],o=Gi.centerFromEnd(e,r),l=this.crossCheckVertical(t,o,2*e[1],s);if(!isNaN(l)){const u=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(u,l,o))return g.combineEstimate(l,o,u);const d=new Ys(o,l,u);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class Ks extends F{constructor(e,t,r,s){super(e,t),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const s=this.count+1,o=(this.count*this.getX()+t)/s,l=(this.count*this.getY()+e)/s,u=(this.count*this.estimatedModuleSize+r)/s;return new Ks(o,l,u,s)}}class mu{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class vt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(we.TRY_HARDER)!==void 0,r=e!=null&&e.get(we.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),l=s.getWidth();let u=Math.floor(3*o/(4*vt.MAX_MODULES));(u<vt.MIN_SKIP||t)&&(u=vt.MIN_SKIP);let d=!1;const g=new Int32Array(5);for(let C=u-1;C<o&&!d;C+=u){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let I=0;for(let S=0;S<l;S++)if(s.get(S,C))(I&1)===1&&I++,g[I]++;else if((I&1)===0)if(I===4)if(vt.foundPatternCross(g)){if(this.handlePossibleCenter(g,C,S,r)===!0)if(u=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const D=this.findRowSkip();D>g[2]&&(C+=D-g[2]-u,S=l-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,I=3;continue}I=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,I=3;else g[++I]++;else g[I]++;vt.foundPatternCross(g)&&this.handlePossibleCenter(g,C,l,r)===!0&&(u=g[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return F.orderBestPatterns(p),new mu(p)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let o=0;o<5;o++){const l=e[o];if(l===0)return!1;t+=l}if(t<7)return!1;const r=t/7,s=r/2;return Math.abs(r-e[0])<s&&Math.abs(r-e[1])<s&&Math.abs(3*r-e[2])<3*s&&Math.abs(r-e[3])<s&&Math.abs(r-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,s){const o=this.getCrossCheckStateCount();let l=0;const u=this.image;for(;e>=l&&t>=l&&u.get(t-l,e-l);)o[2]++,l++;if(e<l||t<l)return!1;for(;e>=l&&t>=l&&!u.get(t-l,e-l)&&o[1]<=r;)o[1]++,l++;if(e<l||t<l||o[1]>r)return!1;for(;e>=l&&t>=l&&u.get(t-l,e-l)&&o[0]<=r;)o[0]++,l++;if(o[0]>r)return!1;const d=u.getHeight(),g=u.getWidth();for(l=1;e+l<d&&t+l<g&&u.get(t+l,e+l);)o[2]++,l++;if(e+l>=d||t+l>=g)return!1;for(;e+l<d&&t+l<g&&!u.get(t+l,e+l)&&o[3]<r;)o[3]++,l++;if(e+l>=d||t+l>=g||o[3]>=r)return!1;for(;e+l<d&&t+l<g&&u.get(t+l,e+l)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return!1;const p=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(p-s)<2*s&&vt.foundPatternCross(o)}crossCheckVertical(e,t,r,s){const o=this.image,l=o.getHeight(),u=this.getCrossCheckStateCount();let d=e;for(;d>=0&&o.get(t,d);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(t,d)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&o.get(t,d)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<l&&o.get(t,d);)u[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(t,d)&&u[3]<r;)u[3]++,d++;if(d===l||u[3]>=r)return NaN;for(;d<l&&o.get(t,d)&&u[4]<r;)u[4]++,d++;if(u[4]>=r)return NaN;const g=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(g-s)>=2*s?NaN:vt.foundPatternCross(u)?vt.centerFromEnd(u,d):NaN}crossCheckHorizontal(e,t,r,s){const o=this.image,l=o.getWidth(),u=this.getCrossCheckStateCount();let d=e;for(;d>=0&&o.get(d,t);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(d,t)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&o.get(d,t)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<l&&o.get(d,t);)u[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(d,t)&&u[3]<r;)u[3]++,d++;if(d===l||u[3]>=r)return NaN;for(;d<l&&o.get(d,t)&&u[4]<r;)u[4]++,d++;if(u[4]>=r)return NaN;const g=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(g-s)>=s?NaN:vt.foundPatternCross(u)?vt.centerFromEnd(u,d):NaN}handlePossibleCenter(e,t,r,s){const o=e[0]+e[1]+e[2]+e[3]+e[4];let l=vt.centerFromEnd(e,r),u=this.crossCheckVertical(t,Math.floor(l),e[2],o);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],o),!isNaN(l)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],o)))){const d=o/7;let g=!1;const p=this.possibleCenters;for(let C=0,I=p.length;C<I;C++){const S=p[C];if(S.aboutEquals(d,u,l)){p[C]=S.combineEstimate(u,l,d),g=!0;break}}if(!g){const C=new Ks(l,u,d);p.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const r of this.possibleCenters)if(r.getCount()>=vt.CENTER_QUORUM)if(t==null)t=r;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-r.getX())-Math.abs(t.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=vt.CENTER_QUORUM&&(e++,t+=l.getEstimatedModuleSize());if(e<3)return!1;const s=t/r;let o=0;for(const l of this.possibleCenters)o+=Math.abs(l.getEstimatedModuleSize()-s);return o<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new G;const t=this.possibleCenters;let r;if(e>3){let s=0,o=0;for(const d of this.possibleCenters){const g=d.getEstimatedModuleSize();s+=g,o+=g*g}r=s/e;let l=Math.sqrt(o/e-r*r);t.sort((d,g)=>{const p=Math.abs(g.getEstimatedModuleSize()-r),C=Math.abs(d.getEstimatedModuleSize()-r);return p<C?-1:p>C?1:0});const u=Math.max(.2*r,l);for(let d=0;d<t.length&&t.length>3;d++){const g=t[d];Math.abs(g.getEstimatedModuleSize()-r)>u&&(t.splice(d,1),d--)}}if(t.length>3){let s=0;for(const o of t)s+=o.getEstimatedModuleSize();r=s/t.length,t.sort((o,l)=>{if(l.getCount()===o.getCount()){const u=Math.abs(l.getEstimatedModuleSize()-r),d=Math.abs(o.getEstimatedModuleSize()-r);return u<d?1:u>d?-1:0}else return l.getCount()-o.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}vt.CENTER_QUORUM=2,vt.MIN_SKIP=3,vt.MAX_MODULES=57;class ei{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(we.NEED_RESULT_POINT_CALLBACK);const r=new vt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),s=e.getBottomLeft(),o=this.calculateModuleSize(t,r,s);if(o<1)throw new G("No pattern found in proccess finder.");const l=ei.computeDimension(t,r,s,o),u=Ae.getProvisionalVersionForDimension(l),d=u.getDimensionForVersion()-7;let g=null;if(u.getAlignmentPatternCenters().length>0){const S=r.getX()-t.getX()+s.getX(),O=r.getY()-t.getY()+s.getY(),D=1-3/d,B=Math.floor(t.getX()+D*(S-t.getX())),V=Math.floor(t.getY()+D*(O-t.getY()));for(let re=4;re<=16;re<<=1)try{g=this.findAlignmentInRegion(o,B,V,re);break}catch(ie){if(!(ie instanceof G))throw ie}}const p=ei.createTransform(t,r,s,g,l),C=ei.sampleGrid(this.image,p,l);let I;return g===null?I=[s,t,r]:I=[s,t,r,g],new Ce(C,I)}static createTransform(e,t,r,s,o){const l=o-3.5;let u,d,g,p;return s!==null?(u=s.getX(),d=s.getY(),g=l-3,p=g):(u=t.getX()-e.getX()+r.getX(),d=t.getY()-e.getY()+r.getY(),g=l,p=l),Oe.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,g,p,3.5,l,e.getX(),e.getY(),t.getX(),t.getY(),u,d,r.getX(),r.getY())}static sampleGrid(e,t,r){return ke.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,s){const o=Q.round(F.distance(e,t)/s),l=Q.round(F.distance(e,r)/s);let u=Math.floor((o+l)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new G("Dimensions could be not found.")}return u}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,s){let o=this.sizeOfBlackWhiteBlackRun(e,t,r,s),l=1,u=e-(r-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let d=Math.floor(t-(s-t)*l);return l=1,d<0?(l=t/(t-d),d=0):d>=this.image.getHeight()&&(l=(this.image.getHeight()-1-t)/(d-t),d=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,t,u,d),o-1}sizeOfBlackWhiteBlackRun(e,t,r,s){const o=Math.abs(s-t)>Math.abs(r-e);if(o){let S=e;e=t,t=S,S=r,r=s,s=S}const l=Math.abs(r-e),u=Math.abs(s-t);let d=-l/2;const g=e<r?1:-1,p=t<s?1:-1;let C=0;const I=r+g;for(let S=e,O=t;S!==I;S+=g){const D=o?O:S,B=o?S:O;if(C===1===this.image.get(D,B)){if(C===2)return Q.distance(S,O,e,t);C++}if(d+=u,d>0){if(O===s)break;O+=p,d-=l}}return C===2?Q.distance(r+g,s,e,t):NaN}findAlignmentInRegion(e,t,r,s){const o=Math.floor(s*e),l=Math.max(0,t-o),u=Math.min(this.image.getWidth()-1,t+o);if(u-l<e*3)throw new G("Alignment top exceeds estimated module size.");const d=Math.max(0,r-o),g=Math.min(this.image.getHeight()-1,r+o);if(g-d<e*3)throw new G("Alignment bottom exceeds estimated module size.");return new Gi(this.image,l,d,u-l,g-d,e,this.resultPointCallback).find()}}class rr{constructor(){this.decoder=new wu}getDecoder(){return this.decoder}decode(e,t){let r,s;if(t!=null&&t.get(we.PURE_BARCODE)!==void 0){const d=rr.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(d,t),s=rr.NO_POINTS}else{const d=new ei(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(d.getBits(),t),s=d.getPoints()}r.getOther()instanceof ba&&r.getOther().applyMirroredCorrection(s);const o=new rt(r.getText(),r.getRawBytes(),void 0,s,xe.QR_CODE,void 0),l=r.getByteSegments();l!==null&&o.putMetadata(oe.BYTE_SEGMENTS,l);const u=r.getECLevel();return u!==null&&o.putMetadata(oe.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(o.putMetadata(oe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(oe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new G;const s=this.moduleSize(t,e);let o=t[1],l=r[1],u=t[0],d=r[0];if(u>=d||o>=l)throw new G;if(l-o!==d-u&&(d=u+(l-o),d>=e.getWidth()))throw new G;const g=Math.round((d-u+1)/s),p=Math.round((l-o+1)/s);if(g<=0||p<=0)throw new G;if(p!==g)throw new G;const C=Math.floor(s/2);o+=C,u+=C;const I=u+Math.floor((g-1)*s)-d;if(I>0){if(I>C)throw new G;u-=I}const S=o+Math.floor((p-1)*s)-l;if(S>0){if(S>C)throw new G;o-=S}const O=new ze(g,p);for(let D=0;D<p;D++){const B=o+Math.floor(D*s);for(let V=0;V<g;V++)e.get(u+Math.floor(V*s),B)&&O.set(V,D)}return O}static moduleSize(e,t){const r=t.getHeight(),s=t.getWidth();let o=e[0],l=e[1],u=!0,d=0;for(;o<s&&l<r;){if(u!==t.get(o,l)){if(++d===5)break;u=!u}o++,l++}if(o===s||l===r)throw new G;return(o-e[0])/7}}rr.NO_POINTS=new Array;class Te{PDF417Common(){}static getBitCountSum(e){return Q.sum(e)}static toIntArray(e){if(e==null||!e.length)return Te.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const s of e)t[r++]=s;return t}static getCodeword(e){const t=J.binarySearch(Te.SYMBOL_TABLE,e&262143);return t<0?-1:(Te.CODEWORD_TABLE[t]-1)%Te.NUMBER_OF_CODEWORDS}}Te.NUMBER_OF_CODEWORDS=929,Te.MAX_CODEWORDS_IN_BARCODE=Te.NUMBER_OF_CODEWORDS-1,Te.MIN_ROWS_IN_BARCODE=3,Te.MAX_ROWS_IN_BARCODE=90,Te.MODULES_IN_CODEWORD=17,Te.MODULES_IN_STOP_PATTERN=18,Te.BARS_IN_MODULE=8,Te.EMPTY_INT_ARRAY=new Int32Array([]),Te.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Te.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Eu{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Le{static detectMultiple(e,t,r){let s=e.getBlackMatrix(),o=Le.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=Le.detect(r,s)),new Eu(s,o)}static detect(e,t){const r=new Array;let s=0,o=0,l=!1;for(;s<t.getHeight();){const u=Le.findVertices(t,s,o);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,o=0;for(const d of r)d[1]!=null&&(s=Math.trunc(Math.max(s,d[1].getY()))),d[3]!=null&&(s=Math.max(s,Math.trunc(d[3].getY())));s+=Le.ROW_STEP;continue}if(l=!0,r.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return r}static findVertices(e,t,r){const s=e.getHeight(),o=e.getWidth(),l=new Array(8);return Le.copyToResult(l,Le.findRowsWithPattern(e,s,o,t,r,Le.START_PATTERN),Le.INDEXES_START_PATTERN),l[4]!=null&&(r=Math.trunc(l[4].getX()),t=Math.trunc(l[4].getY())),Le.copyToResult(l,Le.findRowsWithPattern(e,s,o,t,r,Le.STOP_PATTERN),Le.INDEXES_STOP_PATTERN),l}static copyToResult(e,t,r){for(let s=0;s<r.length;s++)e[r[s]]=t[s]}static findRowsWithPattern(e,t,r,s,o,l){const u=new Array(4);let d=!1;const g=new Int32Array(l.length);for(;s<t;s+=Le.ROW_STEP){let C=Le.findGuardPattern(e,o,s,r,!1,l,g);if(C!=null){for(;s>0;){const I=Le.findGuardPattern(e,o,--s,r,!1,l,g);if(I!=null)C=I;else{s++;break}}u[0]=new F(C[0],s),u[1]=new F(C[1],s),d=!0;break}}let p=s+1;if(d){let C=0,I=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;p<t;p++){const S=Le.findGuardPattern(e,I[0],p,r,!1,l,g);if(S!=null&&Math.abs(I[0]-S[0])<Le.MAX_PATTERN_DRIFT&&Math.abs(I[1]-S[1])<Le.MAX_PATTERN_DRIFT)I=S,C=0;else{if(C>Le.SKIPPED_ROW_COUNT_MAX)break;C++}}p-=C+1,u[2]=new F(I[0],p),u[3]=new F(I[1],p)}return p-s<Le.BARCODE_MIN_HEIGHT&&J.fill(u,null),u}static findGuardPattern(e,t,r,s,o,l,u){J.fillWithin(u,0,u.length,0);let d=t,g=0;for(;e.get(d,r)&&d>0&&g++<Le.MAX_PIXEL_DRIFT;)d--;let p=d,C=0,I=l.length;for(let S=o;p<s;p++)if(e.get(p,r)!==S)u[C]++;else{if(C===I-1){if(Le.patternMatchVariance(u,l,Le.MAX_INDIVIDUAL_VARIANCE)<Le.MAX_AVG_VARIANCE)return new Int32Array([d,p]);d+=u[0]+u[1],L.arraycopy(u,2,u,0,C-1),u[C-1]=0,u[C]=0,C--}else C++;u[C]=1,S=!S}return C===I-1&&Le.patternMatchVariance(u,l,Le.MAX_INDIVIDUAL_VARIANCE)<Le.MAX_AVG_VARIANCE?new Int32Array([d,p-1]):null}static patternMatchVariance(e,t,r){let s=e.length,o=0,l=0;for(let g=0;g<s;g++)o+=e[g],l+=t[g];if(o<l)return 1/0;let u=o/l;r*=u;let d=0;for(let g=0;g<s;g++){let p=e[g],C=t[g]*u,I=p>C?p-C:C-p;if(I>r)return 1/0;d+=I}return d/o}}Le.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Le.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Le.MAX_AVG_VARIANCE=.42,Le.MAX_INDIVIDUAL_VARIANCE=.8,Le.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Le.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Le.MAX_PIXEL_DRIFT=3,Le.MAX_PATTERN_DRIFT=5,Le.SKIPPED_ROW_COUNT_MAX=25,Le.ROW_STEP=5,Le.BARCODE_MIN_HEIGHT=10;class Bt{constructor(e,t){if(t.length===0)throw new y;this.field=e;let r=t.length;if(r>1&&t[0]===0){let s=1;for(;s<r&&t[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),L.arraycopy(t,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let t=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)t=this.field.add(this.field.multiply(e,t),this.coefficients[s]);return t}add(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let l=t;t=r,r=l}let s=new Int32Array(r.length),o=r.length-t.length;L.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=this.field.add(t[l-o],r[l]);return new Bt(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Bt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Bt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1);for(let u=0;u<r;u++){let d=t[u];for(let g=0;g<o;g++)l[u+g]=this.field.add(l[u+g],this.field.multiply(d,s[g]))}return new Bt(this.field,l)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new Bt(this.field,t)}multiplyScalar(e){if(e===0)return new Bt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let s=0;s<t;s++)r[s]=this.field.multiply(this.coefficients[s],e);return new Bt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new y;if(t===0)return new Bt(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+e);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],t);return new Bt(this.field,s)}toString(){let e=new Ne;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Au{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new y;return this.logTable[e]}inverse(e){if(e===0)throw new R;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Zs extends Au{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let s=0;s<e;s++)this.expTable[s]=r,r=r*t%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Bt(this,new Int32Array([0])),this.one=new Bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new y;if(t===0)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new Bt(this,r)}}Zs.PDF417_GF=new Zs(Te.NUMBER_OF_CODEWORDS,3);class ya{constructor(){this.field=Zs.PDF417_GF}decode(e,t,r){let s=new Bt(this.field,e),o=new Int32Array(t),l=!1;for(let O=t;O>0;O--){let D=s.evaluateAt(this.field.exp(O));o[t-O]=D,D!==0&&(l=!0)}if(!l)return 0;let u=this.field.getOne();if(r!=null)for(const O of r){let D=this.field.exp(e.length-1-O),B=new Bt(this.field,new Int32Array([this.field.subtract(0,D),1]));u=u.multiply(B)}let d=new Bt(this.field,o),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),d,t),p=g[0],C=g[1],I=this.findErrorLocations(p),S=this.findErrorMagnitudes(C,p,I);for(let O=0;O<I.length;O++){let D=e.length-1-this.field.log(I[O]);if(D<0)throw v.getChecksumInstance();e[D]=this.field.subtract(e[D],S[O])}return I.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let I=e;e=t,t=I}let s=e,o=t,l=this.field.getZero(),u=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let I=s,S=l;if(s=o,l=u,s.isZero())throw v.getChecksumInstance();o=I;let O=this.field.getZero(),D=s.getCoefficient(s.getDegree()),B=this.field.inverse(D);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let V=o.getDegree()-s.getDegree(),re=this.field.multiply(o.getCoefficient(o.getDegree()),B);O=O.add(this.field.buildMonomial(V,re)),o=o.subtract(s.multiplyByMonomial(V,re))}u=O.multiply(l).subtract(S).negative()}let d=u.getCoefficient(0);if(d===0)throw v.getChecksumInstance();let g=this.field.inverse(d),p=u.multiply(g),C=o.multiply(g);return[p,C]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),s=0;for(let o=1;o<this.field.getSize()&&s<t;o++)e.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==t)throw v.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let s=t.getDegree(),o=new Int32Array(s);for(let g=1;g<=s;g++)o[s-g]=this.field.multiply(g,t.getCoefficient(g));let l=new Bt(this.field,o),u=r.length,d=new Int32Array(u);for(let g=0;g<u;g++){let p=this.field.inverse(r[g]),C=this.field.subtract(0,e.evaluateAt(p)),I=this.field.inverse(l.evaluateAt(p));d[g]=this.field.multiply(C,I)}return d}}class pr{constructor(e,t,r,s,o){e instanceof pr?this.constructor_2(e):this.constructor_1(e,t,r,s,o)}constructor_1(e,t,r,s,o){const l=t==null||r==null,u=s==null||o==null;if(l&&u)throw new G;l?(t=new F(0,s.getY()),r=new F(0,o.getY())):u&&(s=new F(e.getWidth()-1,t.getY()),o=new F(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new pr(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let s=this.topLeft,o=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){let d=r?this.topLeft:this.topRight,g=Math.trunc(d.getY()-e);g<0&&(g=0);let p=new F(d.getX(),g);r?s=p:l=p}if(t>0){let d=r?this.bottomLeft:this.bottomRight,g=Math.trunc(d.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let p=new F(d.getX(),g);r?o=p:u=p}return new pr(this.image,s,o,l,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Cu{constructor(e,t,r,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ti{constructor(){this.buffer=""}static form(e,t){let r=-1;function s(l,u,d,g,p,C){if(l==="%%")return"%";if(t[++r]===void 0)return;l=g?parseInt(g.substr(1)):void 0;let I=p?parseInt(p.substr(1)):void 0,S;switch(C){case"s":S=t[r];break;case"c":S=t[r][0];break;case"f":S=parseFloat(t[r]).toFixed(l);break;case"p":S=parseFloat(t[r]).toPrecision(l);break;case"e":S=parseFloat(t[r]).toExponential(l);break;case"x":S=parseInt(t[r]).toString(I||16);break;case"d":S=parseFloat(parseInt(t[r],I||10).toPrecision(l)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(I);let O=parseInt(d),D=d&&d[0]+""=="0"?"0":" ";for(;S.length<O;)S=u!==void 0?S+D:D+S;return S}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}format(e,...t){this.buffer+=ti.form(e,t)}toString(){return this.buffer}}class ni{constructor(e){this.boundingBox=new pr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let r=1;r<ni.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(e)-r;if(s>=0&&(t=this.codewords[s],t!=null)||(s=this.imageRowToCodewordIndex(e)+r,s<this.codewords.length&&(t=this.codewords[s],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ti;let t=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue())}return e.toString()}}ni.MAX_NEARBY_DISTANCE=5;class ri{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>e?(e=o.getValue(),t=[],t.push(o.getKey())):o.getValue()===e&&t.push(o.getKey())}return Te.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Ia extends ni{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=-1,g=1,p=0;for(let C=l;C<u;C++){if(t[C]==null)continue;let I=t[C],S=I.getRowNumber()-d;if(S===0)p++;else if(S===1)g=Math.max(g,p),p=1,d=I.getRowNumber();else if(S<0||I.getRowNumber()>=e.getRowCount()||S>C)t[C]=null;else{let O;g>2?O=(g-2)*S:O=S;let D=O>=C;for(let B=1;B<=O&&!D;B++)D=t[C-B]!=null;D?t[C]=null:(d=I.getRowNumber(),p=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=t.length)continue;t[s]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),s=this._isLeft?t.getBottomLeft():t.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),d=-1;for(let g=o;g<l;g++){if(u[g]==null)continue;let p=u[g];p.setRowNumberAsRowIndicatorColumn();let C=p.getRowNumber()-d;C===0||(C===1?d=p.getRowNumber():p.getRowNumber()>=e.getRowCount()?u[g]=null:d=p.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new ri,r=new ri,s=new ri,o=new ri;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let d=u.getValue()%30,g=u.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:r.setValue(d*3+1);break;case 1:o.setValue(d/3),s.setValue(d%3);break;case 2:t.setValue(d+1);break}}if(t.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||t.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Te.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Te.MAX_ROWS_IN_BARCODE)return null;let l=new Cu(t.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,l),l}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let s=e[r];if(e[r]==null)continue;let o=s.getValue()%30,l=s.getRowNumber();if(l>t.getRowCount()){e[r]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==t.getErrorCorrectionLevel()||o%3!==t.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==t.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ii{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Te.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let r=this.detectionResultColumns[t].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(t,s,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let s=t[r].getRowNumber(),o=0;for(let l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=ii.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let s=t[r].getRowNumber(),o=0;for(let l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=ii.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let s=r[t],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=o[t],u[3]=l[t],t>0&&(u[0]=r[t-1],u[4]=o[t-1],u[5]=l[t-1]),t>1&&(u[8]=r[t-2],u[10]=o[t-2],u[11]=l[t-2]),t<r.length-1&&(u[1]=r[t+1],u[6]=o[t+1],u[7]=l[t+1]),t<r.length-2&&(u[9]=r[t+2],u[12]=o[t+2],u[13]=l[t+2]);for(let d of u)if(ii.adjustRowNumber(s,d))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new ti;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){t.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){t.format("    |   ");continue}t.format(" %3d|%3d",o.getRowNumber(),o.getValue())}t.format("%n")}return t.toString()}}class si{constructor(e,t,r,s){this.rowNumber=si.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==si.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}si.BARCODE_ROW_UNKNOWN=-1;class Jt{static initialize(){for(let e=0;e<Te.SYMBOL_TABLE.length;e++){let t=Te.SYMBOL_TABLE[e],r=t&1;for(let s=0;s<Te.BARS_IN_MODULE;s++){let o=0;for(;(t&1)===r;)o+=1,t>>=1;r=t&1,Jt.RATIOS_TABLE[e]||(Jt.RATIOS_TABLE[e]=new Array(Te.BARS_IN_MODULE)),Jt.RATIOS_TABLE[e][Te.BARS_IN_MODULE-s-1]=Math.fround(o/Te.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Jt.getDecodedCodewordValue(Jt.sampleBitCounts(e));return t!==-1?t:Jt.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=Q.sum(e),r=new Int32Array(Te.BARS_IN_MODULE),s=0,o=0;for(let l=0;l<Te.MODULES_IN_CODEWORD;l++){let u=t/(2*Te.MODULES_IN_CODEWORD)+l*t/Te.MODULES_IN_CODEWORD;o+e[s]<=u&&(o+=e[s],s++),r[s]++}return r}static getDecodedCodewordValue(e){let t=Jt.getBitValue(e);return Te.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let s=0;s<e[r];s++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=Q.sum(e),r=new Array(Te.BARS_IN_MODULE);if(t>1)for(let l=0;l<r.length;l++)r[l]=Math.fround(e[l]/t);let s=se.MAX_VALUE,o=-1;this.bSymbolTableReady||Jt.initialize();for(let l=0;l<Jt.RATIOS_TABLE.length;l++){let u=0,d=Jt.RATIOS_TABLE[l];for(let g=0;g<Te.BARS_IN_MODULE;g++){let p=Math.fround(d[g]-r[g]);if(u+=Math.fround(p*p),u>=s)break}u<s&&(s=u,o=Te.SYMBOL_TABLE[l])}return o}}Jt.bSymbolTableReady=!1,Jt.RATIOS_TABLE=new Array(Te.SYMBOL_TABLE.length).map(A=>new Array(Te.BARS_IN_MODULE));class _a{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Sa{static parseLong(e,t=void 0){return parseInt(e,t)}}class Ta extends w{}Ta.kind="NullPointerException";class bu{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(e==null)throw new Ta;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new z;if(r===0)return;for(let s=0;s<r;s++)this.write(e[t+s])}flush(){}close(){}}class yu extends w{}class Iu extends bu{constructor(e=32){if(super(),this.count=0,e<0)throw new y("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new yu;r=j.MAX_VALUE}this.buf=J.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new z;this.ensureCapacity(this.count+r),L.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return J.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var tt;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(tt||(tt={}));function Ra(){if(typeof window<"u")return window.BigInt||null;if(typeof Ji<"u")return Ji.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Wi;function ir(A){if(typeof Wi>"u"&&(Wi=Ra()),Wi===null)throw new Error("BigInt is not supported!");return Wi(A)}function _u(){let A=[];A[0]=ir(1);let e=ir(900);A[1]=e;for(let t=2;t<16;t++)A[t]=A[t-1]*e;return A}class U{static decode(e,t){let r=new Ne(""),s=te.ISO8859_1;r.enableDecoding(s);let o=1,l=e[o++],u=new _a;for(;o<e[0];){switch(l){case U.TEXT_COMPACTION_MODE_LATCH:o=U.textCompaction(e,o,r);break;case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:o=U.byteCompaction(l,e,s,o,r);break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case U.NUMERIC_COMPACTION_MODE_LATCH:o=U.numericCompaction(e,o,r);break;case U.ECI_CHARSET:te.getCharacterSetECIByValue(e[o++]);break;case U.ECI_GENERAL_PURPOSE:o+=2;break;case U.ECI_USER_DEFINED:o++;break;case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=U.decodeMacroBlock(e,o,u);break;case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:throw new Y;default:o--,o=U.textCompaction(e,o,r);break}if(o<e.length)l=e[o++];else throw Y.getFormatInstance()}if(r.length()===0)throw Y.getFormatInstance();let d=new ce(null,r.toString(),null,t);return d.setOther(u),d}static decodeMacroBlock(e,t,r){if(t+U.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Y.getFormatInstance();let s=new Int32Array(U.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<U.NUMBER_OF_SEQUENCE_CODEWORDS;u++,t++)s[u]=e[t];r.setSegmentIndex(j.parseInt(U.decodeBase900toBase10(s,U.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Ne;t=U.textCompaction(e,t,o),r.setFileId(o.toString());let l=-1;for(e[t]===U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=t+1);t<e[0];)switch(e[t]){case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case U.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Ne;t=U.textCompaction(e,t+1,u),r.setFileName(u.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new Ne;t=U.textCompaction(e,t+1,d),r.setSender(d.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Ne;t=U.textCompaction(e,t+1,g),r.setAddressee(g.toString());break;case U.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new Ne;t=U.numericCompaction(e,t+1,p),r.setSegmentCount(j.parseInt(p.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new Ne;t=U.numericCompaction(e,t+1,C),r.setTimestamp(Sa.parseLong(C.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ne;t=U.numericCompaction(e,t+1,I),r.setChecksum(j.parseInt(I.toString()));break;case U.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let S=new Ne;t=U.numericCompaction(e,t+1,S),r.setFileSize(Sa.parseLong(S.toString()));break;default:throw Y.getFormatInstance()}break;case U.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(l!==-1){let u=t-l;r.isLastSegment()&&u--,r.setOptionalData(J.copyOfRange(e,l,l+u))}return t}static textCompaction(e,t,r){let s=new Int32Array((e[0]-t)*2),o=new Int32Array((e[0]-t)*2),l=0,u=!1;for(;t<e[0]&&!u;){let d=e[t++];if(d<U.TEXT_COMPACTION_MODE_LATCH)s[l]=d/30,s[l+1]=d%30,l+=2;else switch(d){case U.TEXT_COMPACTION_MODE_LATCH:s[l++]=U.TEXT_COMPACTION_MODE_LATCH;break;case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[l]=U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[t++],o[l]=d,l++;break}}return U.decodeTextCompaction(s,o,l,r),t}static decodeTextCompaction(e,t,r,s){let o=tt.ALPHA,l=tt.ALPHA,u=0;for(;u<r;){let d=e[u],g="";switch(o){case tt.ALPHA:if(d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case U.LL:o=tt.LOWER;break;case U.ML:o=tt.MIXED;break;case U.PS:l=o,o=tt.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[u]);break;case U.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.LOWER:if(d<26)g=String.fromCharCode(97+d);else switch(d){case 26:g=" ";break;case U.AS:l=o,o=tt.ALPHA_SHIFT;break;case U.ML:o=tt.MIXED;break;case U.PS:l=o,o=tt.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[u]);break;case U.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.MIXED:if(d<U.PL)g=U.MIXED_CHARS[d];else switch(d){case U.PL:o=tt.PUNCT;break;case 26:g=" ";break;case U.LL:o=tt.LOWER;break;case U.AL:o=tt.ALPHA;break;case U.PS:l=o,o=tt.PUNCT_SHIFT;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[u]);break;case U.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.PUNCT:if(d<U.PAL)g=U.PUNCT_CHARS[d];else switch(d){case U.PAL:o=tt.ALPHA;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[u]);break;case U.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.ALPHA_SHIFT:if(o=l,d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case U.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.PUNCT_SHIFT:if(o=l,d<U.PAL)g=U.PUNCT_CHARS[d];else switch(d){case U.PAL:o=tt.ALPHA;break;case U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[u]);break;case U.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break}g!==""&&s.append(g),u++}}static byteCompaction(e,t,r,s,o){let l=new Iu,u=0,d=0,g=!1;switch(e){case U.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),C=t[s++];for(;s<t[0]&&!g;)switch(p[u++]=C,d=900*d+C,C=t[s++],C){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:s--,g=!0;break;default:if(u%5===0&&u>0){for(let I=0;I<6;++I)l.write(Number(ir(d)>>ir(8*(5-I))));d=0,u=0}break}s===t[0]&&C<U.TEXT_COMPACTION_MODE_LATCH&&(p[u++]=C);for(let I=0;I<u;I++)l.write(p[I]);break;case U.BYTE_COMPACTION_MODE_LATCH_6:for(;s<t[0]&&!g;){let I=t[s++];if(I<U.TEXT_COMPACTION_MODE_LATCH)u++,d=900*d+I;else switch(I){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.NUMERIC_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:s--,g=!0;break}if(u%5===0&&u>0){for(let S=0;S<6;++S)l.write(Number(ir(d)>>ir(8*(5-S))));d=0,u=0}}break}return o.append(at.decode(l.toByteArray(),r)),s}static numericCompaction(e,t,r){let s=0,o=!1,l=new Int32Array(U.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!o;){let u=e[t++];if(t===e[0]&&(o=!0),u<U.TEXT_COMPACTION_MODE_LATCH)l[s]=u,s++;else switch(u){case U.TEXT_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH:case U.BYTE_COMPACTION_MODE_LATCH_6:case U.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case U.MACRO_PDF417_TERMINATOR:t--,o=!0;break}(s%U.MAX_NUMERIC_CODEWORDS===0||u===U.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(U.decodeBase900toBase10(l,s)),s=0)}return t}static decodeBase900toBase10(e,t){let r=ir(0);for(let o=0;o<t;o++)r+=U.EXP900[t-o-1]*ir(e[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new Y;return s.substring(1)}}U.TEXT_COMPACTION_MODE_LATCH=900,U.BYTE_COMPACTION_MODE_LATCH=901,U.NUMERIC_COMPACTION_MODE_LATCH=902,U.BYTE_COMPACTION_MODE_LATCH_6=924,U.ECI_USER_DEFINED=925,U.ECI_GENERAL_PURPOSE=926,U.ECI_CHARSET=927,U.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,U.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,U.MACRO_PDF417_TERMINATOR=922,U.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,U.MAX_NUMERIC_CODEWORDS=15,U.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,U.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,U.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,U.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,U.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,U.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,U.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,U.PL=25,U.LL=27,U.AS=27,U.ML=28,U.AL=28,U.PS=29,U.PAL=29,U.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,U.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",U.EXP900=Ra()?_u():[],U.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Fe{constructor(){}static decode(e,t,r,s,o,l,u){let d=new pr(e,t,r,s,o),g=null,p=null,C;for(let O=!0;;O=!1){if(t!=null&&(g=Fe.getRowIndicatorColumn(e,d,t,!0,l,u)),s!=null&&(p=Fe.getRowIndicatorColumn(e,d,s,!1,l,u)),C=Fe.merge(g,p),C==null)throw G.getNotFoundInstance();let D=C.getBoundingBox();if(O&&D!=null&&(D.getMinY()<d.getMinY()||D.getMaxY()>d.getMaxY()))d=D;else break}C.setBoundingBox(d);let I=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,g),C.setDetectionResultColumn(I,p);let S=g!=null;for(let O=1;O<=I;O++){let D=S?O:I-O;if(C.getDetectionResultColumn(D)!==void 0)continue;let B;D===0||D===I?B=new Ia(d,D===0):B=new ni(d),C.setDetectionResultColumn(D,B);let V=-1,re=V;for(let ie=d.getMinY();ie<=d.getMaxY();ie++){if(V=Fe.getStartColumn(C,D,ie,S),V<0||V>d.getMaxX()){if(re===-1)continue;V=re}let ne=Fe.detectCodeword(e,d.getMinX(),d.getMaxX(),S,V,ie,l,u);ne!=null&&(B.setCodeword(ie,ne),re=V,l=Math.min(l,ne.getWidth()),u=Math.max(u,ne.getWidth()))}}return Fe.createDecoderResult(C)}static merge(e,t){if(e==null&&t==null)return null;let r=Fe.getBarcodeMetadata(e,t);if(r==null)return null;let s=pr.merge(Fe.adjustBoundingBox(e),Fe.adjustBoundingBox(t));return new ii(r,s)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let r=Fe.getMax(t),s=0;for(let u of t)if(s+=r-u,u>0)break;let o=e.getCodewords();for(let u=0;s>0&&o[u]==null;u++)s--;let l=0;for(let u=t.length-1;u>=0&&(l+=r-t[u],!(t[u]>0));u--);for(let u=o.length-1;l>0&&o[u]==null;u--)l--;return e.getBoundingBox().addMissingRows(s,l,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let s;return t==null||(s=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,s,o,l){let u=new Ia(t,s);for(let d=0;d<2;d++){let g=d===0?1:-1,p=Math.trunc(Math.trunc(r.getX()));for(let C=Math.trunc(Math.trunc(r.getY()));C<=t.getMaxY()&&C>=t.getMinY();C+=g){let I=Fe.detectCodeword(e,0,e.getWidth(),s,p,C,o,l);I!=null&&(u.setCodeword(C,I),s?p=I.getStartX():p=I.getEndX())}}return u}static adjustCodewordCount(e,t){let r=t[0][1],s=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Fe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(o<1||o>Te.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(e){let t=Fe.createBarcodeMatrix(e);Fe.adjustCodewordCount(e,t);let r=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let g=0;g<e.getBarcodeColumnCount();g++){let p=t[d][g+1].getValue(),C=d*e.getBarcodeColumnCount()+g;p.length===0?r.push(C):p.length===1?s[C]=p[0]:(l.push(C),o.push(p))}let u=new Array(o.length);for(let d=0;d<u.length;d++)u[d]=o[d];return Fe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,Te.toIntArray(r),Te.toIntArray(l),u)}static createDecoderResultFromAmbiguousValues(e,t,r,s,o){let l=new Int32Array(s.length),u=100;for(;u-- >0;){for(let d=0;d<l.length;d++)t[s[d]]=o[d][l[d]];try{return Fe.decodeCodewords(t,e,r)}catch(d){if(!(d instanceof v))throw d}if(l.length===0)throw v.getChecksumInstance();for(let d=0;d<l.length;d++)if(l[d]<o[d].length-1){l[d]++;break}else if(l[d]=0,d===l.length-1)throw v.getChecksumInstance()}throw v.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<t.length;s++)for(let o=0;o<t[s].length;o++)t[s][o]=new ri;let r=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=0){if(l>=t.length)continue;t[l][r].setValue(o.getValue())}}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,s){let o=s?1:-1,l=null;if(Fe.isValidBarcodeColumn(e,t-o)&&(l=e.getDetectionResultColumn(t-o).getCodeword(r)),l!=null)return s?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(t).getCodewordNearby(r),l!=null)return s?l.getStartX():l.getEndX();if(Fe.isValidBarcodeColumn(e,t-o)&&(l=e.getDetectionResultColumn(t-o).getCodewordNearby(r)),l!=null)return s?l.getEndX():l.getStartX();let u=0;for(;Fe.isValidBarcodeColumn(e,t-o);){t-=o;for(let d of e.getDetectionResultColumn(t).getCodewords())if(d!=null)return(s?d.getEndX():d.getStartX())+o*u*(d.getEndX()-d.getStartX());u++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,s,o,l,u,d){o=Fe.adjustCodewordStartColumn(e,t,r,s,o,l);let g=Fe.getModuleBitCount(e,t,r,s,o,l);if(g==null)return null;let p,C=Q.sum(g);if(s)p=o+C;else{for(let O=0;O<g.length/2;O++){let D=g[O];g[O]=g[g.length-1-O],g[g.length-1-O]=D}p=o,o=p-C}if(!Fe.checkCodewordSkew(C,u,d))return null;let I=Jt.getDecodedValue(g),S=Te.getCodeword(I);return S===-1?null:new si(o,p,Fe.getCodewordBucketNumber(I),S)}static getModuleBitCount(e,t,r,s,o,l){let u=o,d=new Int32Array(8),g=0,p=s?1:-1,C=s;for(;(s?u<r:u>=t)&&g<d.length;)e.get(u,l)===C?(d[g]++,u+=p):(g++,C=!C);return g===d.length||u===(s?r:t)&&g===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,s,o,l){let u=o,d=s?-1:1;for(let g=0;g<2;g++){for(;(s?u>=t:u<r)&&s===e.get(u,l);){if(Math.abs(o-u)>Fe.CODEWORD_SKEW_SIZE)return o;u+=d}d=-d,s=!s}return u}static checkCodewordSkew(e,t,r){return t-Fe.CODEWORD_SKEW_SIZE<=e&&e<=r+Fe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(e.length===0)throw Y.getFormatInstance();let s=1<<t+1,o=Fe.correctErrors(e,r,s);Fe.verifyCodewordCount(e,s);let l=U.decode(e,""+t);return l.setErrorsCorrected(o),l.setErasures(r.length),l}static correctErrors(e,t,r){if(t!=null&&t.length>r/2+Fe.MAX_ERRORS||r<0||r>Fe.MAX_EC_CODEWORDS)throw v.getChecksumInstance();return Fe.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw Y.getFormatInstance();let r=e[0];if(r>e.length)throw Y.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw Y.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,s=t.length-1;for(;!((e&1)!==r&&(r=e&1,s--,s<0));)t[s]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Fe.getCodewordBucketNumber(Fe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new ti;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let s=0;s<e[r].length;s++){let o=e[r][s];o.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()}}Fe.CODEWORD_SKEW_SIZE=2,Fe.MAX_ERRORS=3,Fe.MAX_EC_CODEWORDS=512,Fe.errorCorrection=new ya;class Pt{decode(e,t=null){let r=Pt.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw G.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return Pt.decode(e,t,!0)}catch(r){throw r instanceof Y||r instanceof v?G.getNotFoundInstance():r}}static decode(e,t,r){const s=new Array,o=Le.detectMultiple(e,t,r);for(const l of o.getPoints()){const u=Fe.decode(o.getBits(),l[4],l[5],l[6],l[7],Pt.getMinCodewordWidth(l),Pt.getMaxCodewordWidth(l)),d=new rt(u.getText(),u.getRawBytes(),void 0,l,xe.PDF_417);d.putMetadata(oe.ERROR_CORRECTION_LEVEL,u.getECLevel());const g=u.getOther();g!=null&&d.putMetadata(oe.PDF417_EXTRA_METADATA,g),s.push(d)}return s.map(l=>l)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?j.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Pt.getMaxWidth(e[0],e[4]),Pt.getMaxWidth(e[6],e[2])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN),Math.max(Pt.getMaxWidth(e[1],e[5]),Pt.getMaxWidth(e[7],e[3])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Pt.getMinWidth(e[0],e[4]),Pt.getMinWidth(e[6],e[2])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN),Math.min(Pt.getMinWidth(e[1],e[5]),Pt.getMinWidth(e[7],e[3])*Te.MODULES_IN_CODEWORD/Te.MODULES_IN_STOP_PATTERN)))}reset(){}}class Xi extends w{}Xi.kind="ReaderException";class Oa{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!c(e)&&e.get(we.TRY_HARDER)===!0,r=c(e)?null:e.get(we.POSSIBLE_FORMATS),s=new Array;if(!c(r)){const o=r.some(l=>l===xe.UPC_A||l===xe.UPC_E||l===xe.EAN_13||l===xe.EAN_8||l===xe.CODABAR||l===xe.CODE_39||l===xe.CODE_93||l===xe.CODE_128||l===xe.ITF||l===xe.RSS_14||l===xe.RSS_EXPANDED);o&&!t&&s.push(new vr(e,this.verbose)),r.includes(xe.QR_CODE)&&s.push(new rr),r.includes(xe.DATA_MATRIX)&&s.push(new nr),r.includes(xe.AZTEC)&&s.push(new Xt),r.includes(xe.PDF_417)&&s.push(new Pt),o&&t&&s.push(new vr(e,this.verbose))}s.length===0&&(t||s.push(new vr(e,this.verbose)),s.push(new rr),s.push(new nr),s.push(new Xt),s.push(new Pt),t&&s.push(new vr(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Xi("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(r){if(r instanceof Xi)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class Su extends Nt{constructor(e=null,t=500){const r=new Oa;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Tu extends Nt{constructor(e=500){super(new Pt,e)}}class Ru extends Nt{constructor(e=500){super(new rr,e)}}var qs;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(qs||(qs={}));var Tt=qs;class Qs{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new _e(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const s=this.field;for(let o=t.length;o<=e;o++){const l=r.multiply(new _e(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));t.push(l),r=l}}return t[e]}encode(e,t){if(t===0)throw new y("No error correction bytes");const r=e.length-t;if(r<=0)throw new y("No data bytes provided");const s=this.buildGenerator(t),o=new Int32Array(r);L.arraycopy(e,0,o,0,r);let l=new _e(this.field,o);l=l.multiplyByMonomial(t,1);const d=l.divide(s)[1].getCoefficients(),g=t-d.length;for(let p=0;p<g;p++)e[r+p]=0;L.arraycopy(d,0,e,r+g,d.length)}}class mt{constructor(){}static applyMaskPenaltyRule1(e){return mt.applyMaskPenaltyRule1Internal(e,!0)+mt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o-1;l++){const u=r[l];for(let d=0;d<s-1;d++){const g=u[d];g===u[d+1]&&g===r[l+1][d]&&g===r[l+1][d+1]&&t++}}return mt.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o;l++)for(let u=0;u<s;u++){const d=r[l];u+6<s&&d[u]===1&&d[u+1]===0&&d[u+2]===1&&d[u+3]===1&&d[u+4]===1&&d[u+5]===0&&d[u+6]===1&&(mt.isWhiteHorizontal(d,u-4,u)||mt.isWhiteHorizontal(d,u+7,u+11))&&t++,l+6<o&&r[l][u]===1&&r[l+1][u]===0&&r[l+2][u]===1&&r[l+3][u]===1&&r[l+4][u]===1&&r[l+5][u]===0&&r[l+6][u]===1&&(mt.isWhiteVertical(r,u,l-4,l)||mt.isWhiteVertical(r,u,l+7,l+11))&&t++}return t*mt.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let s=t;s<r;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,t,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let d=0;d<o;d++){const g=r[d];for(let p=0;p<s;p++)g[p]===1&&t++}const l=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-l)*10/l)*mt.N4}static getDataMaskBit(e,t,r){let s,o;switch(e){case 0:s=r+t&1;break;case 1:s=r&1;break;case 2:s=t%3;break;case 3:s=(r+t)%3;break;case 4:s=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:o=r*t,s=(o&1)+o%3;break;case 6:o=r*t,s=(o&1)+o%3&1;break;case 7:o=r*t,s=o%3+(r+t&1)&1;break;default:throw new y("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,t){let r=0;const s=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),l=e.getArray();for(let u=0;u<s;u++){let d=0,g=-1;for(let p=0;p<o;p++){const C=t?l[u][p]:l[p][u];C===g?d++:(d>=5&&(r+=mt.N1+(d-5)),d=1,g=C)}d>=5&&(r+=mt.N1+(d-5))}return r}}mt.N1=3,mt.N2=3,mt.N3=40,mt.N4=10;class ji{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let s=0;s!==t;s++)r[s]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)J.fill(t,e)}equals(e){if(!(e instanceof ji))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],l=t.bytes[r];for(let u=0,d=this.width;u<d;++u)if(o[u]!==l[u])return!1}return!0}toString(){const e=new Ne;for(let t=0,r=this.height;t<r;++t){const s=this.bytes[t];for(let o=0,l=this.width;o<l;++o)switch(s[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class wr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ne;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<wr.NUM_MASK_PATTERNS}}wr.NUM_MASK_PATTERNS=8;class it extends w{}it.kind="WriterException";class Ie{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,s,o){Ie.clearMatrix(o),Ie.embedBasicPatterns(r,o),Ie.embedTypeInfo(t,s,o),Ie.maybeEmbedVersionInfo(r,o),Ie.embedDataBits(e,s,o)}static embedBasicPatterns(e,t){Ie.embedPositionDetectionPatternsAndSeparators(t),Ie.embedDarkDotAtLeftBottomCorner(t),Ie.maybeEmbedPositionAdjustmentPatterns(e,t),Ie.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const s=new q;Ie.makeTypeInfoBits(e,t,s);for(let o=0,l=s.getSize();o<l;++o){const u=s.get(s.getSize()-1-o),d=Ie.TYPE_INFO_COORDINATES[o],g=d[0],p=d[1];if(r.setBoolean(g,p,u),o<8){const C=r.getWidth()-o-1;r.setBoolean(C,8,u)}else{const I=r.getHeight()-7+(o-8);r.setBoolean(8,I,u)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new q;Ie.makeVersionInfoBits(e,r);let s=17;for(let o=0;o<6;++o)for(let l=0;l<3;++l){const u=r.get(s);s--,t.setBoolean(o,t.getHeight()-11+l,u),t.setBoolean(t.getHeight()-11+l,o,u)}}static embedDataBits(e,t,r){let s=0,o=-1,l=r.getWidth()-1,u=r.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);u>=0&&u<r.getHeight();){for(let d=0;d<2;++d){const g=l-d;if(!Ie.isEmpty(r.get(g,u)))continue;let p;s<e.getSize()?(p=e.get(s),++s):p=!1,t!==255&&mt.getDataMaskBit(t,g,u)&&(p=!p),r.setBoolean(g,u,p)}u+=o}o=-o,u+=o,l-=2}if(s!==e.getSize())throw new it("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-j.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new y("0 polynomial");const r=Ie.findMSBSet(t);for(e<<=r-1;Ie.findMSBSet(e)>=r;)e^=t<<Ie.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!wr.isValidMaskPattern(t))throw new it("Invalid mask pattern");const s=e.getBits()<<3|t;r.appendBits(s,5);const o=Ie.calculateBCHCode(s,Ie.TYPE_INFO_POLY);r.appendBits(o,10);const l=new q;if(l.appendBits(Ie.TYPE_INFO_MASK_PATTERN,15),r.xor(l),r.getSize()!==15)throw new it("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Ie.calculateBCHCode(e.getVersionNumber(),Ie.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new it("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Ie.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Ie.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new it;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let s=0;s<8;++s){if(!Ie.isEmpty(r.get(e+s,t)))throw new it;r.setNumber(e+s,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let s=0;s<7;++s){if(!Ie.isEmpty(r.get(e,t+s)))throw new it;r.setNumber(e,t+s,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let s=0;s<5;++s){const o=Ie.POSITION_ADJUSTMENT_PATTERN[s];for(let l=0;l<5;++l)r.setNumber(e+l,t+s,o[l])}}static embedPositionDetectionPattern(e,t,r){for(let s=0;s<7;++s){const o=Ie.POSITION_DETECTION_PATTERN[s];for(let l=0;l<7;++l)r.setNumber(e+l,t+s,o[l])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Ie.POSITION_DETECTION_PATTERN[0].length;Ie.embedPositionDetectionPattern(0,0,e),Ie.embedPositionDetectionPattern(e.getWidth()-t,0,e),Ie.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Ie.embedHorizontalSeparationPattern(0,r-1,e),Ie.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Ie.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const s=7;Ie.embedVerticalSeparationPattern(s,0,e),Ie.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),Ie.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,s=Ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,l=s.length;o!==l;o++){const u=s[o];if(u>=0)for(let d=0;d!==l;d++){const g=s[d];g>=0&&Ie.isEmpty(t.get(g,u))&&Ie.embedPositionAdjustmentPattern(g-2,u-2,t)}}}}Ie.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ie.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ie.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ie.VERSION_INFO_POLY=7973,Ie.TYPE_INFO_POLY=1335,Ie.TYPE_INFO_MASK_PATTERN=21522;class Ou{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ht{constructor(){}static calculateMaskPenalty(e){return mt.applyMaskPenaltyRule1(e)+mt.applyMaskPenaltyRule2(e)+mt.applyMaskPenaltyRule3(e)+mt.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let s=ht.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Tt.CHARACTER_SET)!==void 0;o&&(s=r.get(Tt.CHARACTER_SET).toString());const l=this.chooseMode(e,s),u=new q;if(l===be.BYTE&&(o||ht.DEFAULT_BYTE_MODE_ENCODING!==s)){const ie=te.getCharacterSetECIByName(s);ie!==void 0&&this.appendECI(ie,u)}this.appendModeInfo(l,u);const d=new q;this.appendBytes(e,l,d,s);let g;if(r!==null&&r.get(Tt.QR_VERSION)!==void 0){const ie=Number.parseInt(r.get(Tt.QR_VERSION).toString(),10);g=Ae.getVersionForNumber(ie);const ne=this.calculateBitsNeeded(l,u,d,g);if(!this.willFit(ne,g,t))throw new it("Data too big for requested version")}else g=this.recommendVersion(t,l,u,d);const p=new q;p.appendBitArray(u);const C=l===be.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(C,g,l,p),p.appendBitArray(d);const I=g.getECBlocksForLevel(t),S=g.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(S,p);const O=this.interleaveWithECBytes(p,g.getTotalCodewords(),S,I.getNumBlocks()),D=new wr;D.setECLevel(t),D.setMode(l),D.setVersion(g);const B=g.getDimensionForVersion(),V=new ji(B,B),re=this.chooseMaskPattern(O,t,g,V);return D.setMaskPattern(re),Ie.buildMatrix(O,t,g,re,V),D.setMatrix(V),D}static recommendVersion(e,t,r,s){const o=this.calculateBitsNeeded(t,r,s,Ae.getVersionForNumber(1)),l=this.chooseVersion(o,e),u=this.calculateBitsNeeded(t,r,s,l);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,t,r,s){return t.getSize()+e.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(e){return e<ht.ALPHANUMERIC_TABLE.length?ht.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(te.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return be.KANJI;let r=!1,s=!1;for(let o=0,l=e.length;o<l;++o){const u=e.charAt(o);if(ht.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)s=!0;else return be.BYTE}return s?be.ALPHANUMERIC:r?be.NUMERIC:be.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=at.encode(e,te.SJIS)}catch{return!1}const r=t.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=t[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,t,r,s){let o=Number.MAX_SAFE_INTEGER,l=-1;for(let u=0;u<wr.NUM_MASK_PATTERNS;u++){Ie.buildMatrix(e,t,r,u,s);let d=this.calculateMaskPenalty(s);d<o&&(o=d,l=u)}return l}static chooseVersion(e,t){for(let r=1;r<=40;r++){const s=Ae.getVersionForNumber(r);if(ht.willFit(e,s,t))return s}throw new it("Data too big")}static willFit(e,t,r){const s=t.getTotalCodewords(),l=t.getECBlocksForLevel(r).getTotalECCodewords(),u=s-l,d=(e+7)/8;return u>=d}static terminateBits(e,t){const r=e*8;if(t.getSize()>r)throw new it("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let l=0;l<4&&t.getSize()<r;++l)t.appendBit(!1);const s=t.getSize()&7;if(s>0)for(let l=s;l<8;l++)t.appendBit(!1);const o=e-t.getSizeInBytes();for(let l=0;l<o;++l)t.appendBits((l&1)===0?236:17,8);if(t.getSize()!==r)throw new it("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,s,o,l){if(s>=r)throw new it("Block ID too large");const u=e%r,d=r-u,g=Math.floor(e/r),p=g+1,C=Math.floor(t/r),I=C+1,S=g-C,O=p-I;if(S!==O)throw new it("EC bytes mismatch");if(r!==d+u)throw new it("RS blocks mismatch");if(e!==(C+S)*d+(I+O)*u)throw new it("Total bytes mismatch");s<d?(o[0]=C,l[0]=S):(o[0]=I,l[0]=O)}static interleaveWithECBytes(e,t,r,s){if(e.getSizeInBytes()!==r)throw new it("Number of bits and data bytes does not match");let o=0,l=0,u=0;const d=new Array;for(let p=0;p<s;++p){const C=new Int32Array(1),I=new Int32Array(1);ht.getNumDataBytesAndNumECBytesForBlockID(t,r,s,p,C,I);const S=C[0],O=new Uint8Array(S);e.toBytes(8*o,O,0,S);const D=ht.generateECBytes(O,I[0]);d.push(new Ou(O,D)),l=Math.max(l,S),u=Math.max(u,D.length),o+=C[0]}if(r!==o)throw new it("Data bytes does not match offset");const g=new q;for(let p=0;p<l;++p)for(const C of d){const I=C.getDataBytes();p<I.length&&g.appendBits(I[p],8)}for(let p=0;p<u;++p)for(const C of d){const I=C.getErrorCorrectionBytes();p<I.length&&g.appendBits(I[p],8)}if(t!==g.getSizeInBytes())throw new it("Interleaving error: "+t+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,t){const r=e.length,s=new Int32Array(r+t);for(let l=0;l<r;l++)s[l]=e[l]&255;new Qs(T.QR_CODE_FIELD_256).encode(s,t);const o=new Uint8Array(t);for(let l=0;l<t;l++)o[l]=s[r+l];return o}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,s){const o=r.getCharacterCountBits(t);if(e>=1<<o)throw new it(e+" is bigger than "+((1<<o)-1));s.appendBits(e,o)}static appendBytes(e,t,r,s){switch(t){case be.NUMERIC:ht.appendNumericBytes(e,r);break;case be.ALPHANUMERIC:ht.appendAlphanumericBytes(e,r);break;case be.BYTE:ht.append8BitBytes(e,r,s);break;case be.KANJI:ht.appendKanjiBytes(e,r);break;default:throw new it("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=ht.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let s=0;for(;s<r;){const o=ht.getDigit(e.charAt(s));if(s+2<r){const l=ht.getDigit(e.charAt(s+1)),u=ht.getDigit(e.charAt(s+2));t.appendBits(o*100+l*10+u,10),s+=3}else if(s+1<r){const l=ht.getDigit(e.charAt(s+1));t.appendBits(o*10+l,7),s+=2}else t.appendBits(o,4),s++}}static appendAlphanumericBytes(e,t){const r=e.length;let s=0;for(;s<r;){const o=ht.getAlphanumericCode(e.charCodeAt(s));if(o===-1)throw new it;if(s+1<r){const l=ht.getAlphanumericCode(e.charCodeAt(s+1));if(l===-1)throw new it;t.appendBits(o*45+l,11),s+=2}else t.appendBits(o,6),s++}}static append8BitBytes(e,t,r){let s;try{s=at.encode(e,r)}catch(o){throw new it(o)}for(let o=0,l=s.length;o!==l;o++){const u=s[o];t.appendBits(u,8)}}static appendKanjiBytes(e,t){let r;try{r=at.encode(e,te.SJIS)}catch(o){throw new it(o)}const s=r.length;for(let o=0;o<s;o+=2){const l=r[o]&255,u=r[o+1]&255,d=l<<8&4294967295|u;let g=-1;if(d>=33088&&d<=40956?g=d-33088:d>=57408&&d<=60351&&(g=d-49472),g===-1)throw new it("Invalid byte sequence");const p=(g>>8)*192+(g&255);t.appendBits(p,13)}}static appendECI(e,t){t.appendBits(be.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}ht.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ht.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class mr{write(e,t,r,s=null){if(e.length===0)throw new y("Found empty contents");if(t<0||r<0)throw new y("Requested dimensions are too small: "+t+"x"+r);let o=ct.L,l=mr.QUIET_ZONE_SIZE;s!==null&&(s.get(Tt.ERROR_CORRECTION)!==void 0&&(o=ct.fromString(s.get(Tt.ERROR_CORRECTION).toString())),s.get(Tt.MARGIN)!==void 0&&(l=Number.parseInt(s.get(Tt.MARGIN).toString(),10)));const u=ht.encode(e,o,s);return this.renderResult(u,t,r,l)}writeToDom(e,t,r,s,o=null){typeof e=="string"&&(e=document.querySelector(e));const l=this.write(t,r,s,o);e&&e.appendChild(l)}renderResult(e,t,r,s){const o=e.getMatrix();if(o===null)throw new X;const l=o.getWidth(),u=o.getHeight(),d=l+s*2,g=u+s*2,p=Math.max(t,d),C=Math.max(r,g),I=Math.min(Math.floor(p/d),Math.floor(C/g)),S=Math.floor((p-l*I)/2),O=Math.floor((C-u*I)/2),D=this.createSVGElement(p,C);for(let B=0,V=O;B<u;B++,V+=I)for(let re=0,ie=S;re<l;re++,ie+=I)if(o.get(re,B)===1){const ne=this.createSvgRectElement(ie,V,I,I);D.appendChild(ne)}return D}createSVGElement(e,t){const r=document.createElementNS(mr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,s){const o=document.createElementNS(mr.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",t.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}mr.QUIET_ZONE_SIZE=4,mr.SVG_NS="http://www.w3.org/2000/svg";class Br{encode(e,t,r,s,o){if(e.length===0)throw new y("Found empty contents");if(t!==xe.QR_CODE)throw new y("Can only encode QR_CODE, but got "+t);if(r<0||s<0)throw new y(`Requested dimensions are too small: ${r}x${s}`);let l=ct.L,u=Br.QUIET_ZONE_SIZE;o!==null&&(o.get(Tt.ERROR_CORRECTION)!==void 0&&(l=ct.fromString(o.get(Tt.ERROR_CORRECTION).toString())),o.get(Tt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Tt.MARGIN).toString(),10)));const d=ht.encode(e,l,o);return Br.renderResult(d,r,s,u)}static renderResult(e,t,r,s){const o=e.getMatrix();if(o===null)throw new X;const l=o.getWidth(),u=o.getHeight(),d=l+s*2,g=u+s*2,p=Math.max(t,d),C=Math.max(r,g),I=Math.min(Math.floor(p/d),Math.floor(C/g)),S=Math.floor((p-l*I)/2),O=Math.floor((C-u*I)/2),D=new ze(p,C);for(let B=0,V=O;B<u;B++,V+=I)for(let re=0,ie=S;re<l;re++,ie+=I)o.get(re,B)===1&&D.setRegion(ie,V,I,I);return D}}Br.QUIET_ZONE_SIZE=4;class Nu{encode(e,t,r,s,o){let l;if(t===xe.QR_CODE)l=new Br;else throw new y("No encoder available for format "+t);return l.encode(e,t,r,s,o)}}class Dn extends De{constructor(e,t,r,s,o,l,u,d){if(super(l,u),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=s,this.top=o,s+l>t||o+u>r)throw new y("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(l,u)}getRow(e,t){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return L.arraycopy(this.yuvData,s,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return L.arraycopy(this.yuvData,o,s,0,r),s;for(let l=0;l<t;l++){const u=l*e;L.arraycopy(this.yuvData,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,t,r,s){return new Dn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,s,!1)}renderThumbnail(){const e=this.getWidth()/Dn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Dn.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let l=0;l<t;l++){const u=l*e;for(let d=0;d<e;d++){const g=s[o+d*Dn.THUMBNAIL_SCALE_FACTOR]&255;r[u+d]=4278190080|g*65793}o+=this.dataWidth*Dn.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Dn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Dn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<t;s++,o+=this.dataWidth){const l=o+e/2;for(let u=o,d=o+e-1;u<l;u++,d--){const g=r[u];r[u]=r[d],r[d]=g}}}invert(){return new Ct(this)}}Dn.THUMBNAIL_SCALE_FACTOR=2;class Js extends De{constructor(e,t,r,s,o,l,u){if(super(t,r),this.dataWidth=s,this.dataHeight=o,this.left=l,this.top=u,e.BYTES_PER_ELEMENT===4){const d=t*r,g=new Uint8ClampedArray(d);for(let p=0;p<d;p++){const C=e[p],I=C>>16&255,S=C>>7&510,O=C&255;g[p]=(I+S+O)/4&255}this.luminances=g}else this.luminances=e;if(s===void 0&&(this.dataWidth=t),o===void 0&&(this.dataHeight=r),l===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new y("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return L.arraycopy(this.luminances,s,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return L.arraycopy(this.luminances,o,s,0,r),s;for(let l=0;l<t;l++){const u=l*e;L.arraycopy(this.luminances,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,t,r,s){return new Js(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new Ct(this)}}class Na extends te{static forName(e){return this.getCharacterSetECIByName(e)}}class $s{}$s.ISO_8859_1=te.ISO8859_1;class Da{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class va{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Du{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Pr extends Du{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Pr(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Pr(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+j.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class eo extends Pr{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new eo(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function vu(A,e,t){return new eo(A,e,t)}function oi(A,e,t){return new Pr(A,e,t)}const Mu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],sr=0,zi=1,xn=2,Ma=3,vn=4,Bu=new Pr(null,0,0),to=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Pu(A){for(let e of A)J.fill(e,-1);return A[sr][vn]=0,A[zi][vn]=0,A[zi][sr]=28,A[Ma][vn]=0,A[xn][vn]=0,A[xn][sr]=15,A}const Ba=Pu(J.createInt32Array(6,6));class Mn{constructor(e,t,r,s){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,s=this.token;if(e!==this.mode){let l=to[this.mode][e];s=oi(s,l&65535,l>>16),r+=l>>16}let o=e===xn?4:5;return s=oi(s,t,o),new Mn(s,e,0,r+o)}shiftAndAppend(e,t){let r=this.token,s=this.mode===xn?4:5;return r=oi(r,Ba[this.mode][e],s),r=oi(r,t,5),new Mn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,s=this.bitCount;if(this.mode===vn||this.mode===xn){let u=to[r][sr];t=oi(t,u&65535,u>>16),s+=u>>16,r=sr}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new Mn(t,r,this.binaryShiftByteCount+1,s+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=vu(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mn(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(to[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=Mn.calculateBinaryShiftCost(e)-Mn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())t.unshift(s);let r=new q;for(const s of t)s.appendTo(r,e);return r}toString(){return me.format("%s bits=%d bytes=%d",Mu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Mn.INITIAL_STATE=new Mn(Bu,sr,0,0);function Lu(A){const e=me.getCharCode(" "),t=me.getCharCode("."),r=me.getCharCode(",");A[sr][e]=1;const s=me.getCharCode("Z"),o=me.getCharCode("A");for(let I=o;I<=s;I++)A[sr][I]=I-o+2;A[zi][e]=1;const l=me.getCharCode("z"),u=me.getCharCode("a");for(let I=u;I<=l;I++)A[zi][I]=I-u+2;A[xn][e]=1;const d=me.getCharCode("9"),g=me.getCharCode("0");for(let I=g;I<=d;I++)A[xn][I]=I-g+2;A[xn][r]=12,A[xn][t]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<p.length;I++)A[Ma][me.getCharCode(p[I])]=I;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<C.length;I++)me.getCharCode(C[I])>0&&(A[vn][me.getCharCode(C[I])]=I);return A}const no=Lu(J.createInt32Array(5,256));class ai{constructor(e){this.text=e}encode(){const e=me.getCharCode(" "),t=me.getCharCode(`
`);let r=va.singletonList(Mn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let l,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case me.getCharCode("\r"):l=u===t?2:0;break;case me.getCharCode("."):l=u===e?3:0;break;case me.getCharCode(","):l=u===e?4:0;break;case me.getCharCode(":"):l=u===e?5:0;break;default:l=0}l>0?(r=ai.updateStateListForPair(r,o,l),o++):r=this.updateStateListForChar(r,o)}return va.min(r,(o,l)=>o.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let s of e)this.updateStateForChar(s,t,r);return ai.simplifyStates(r)}updateStateForChar(e,t,r){let s=this.text[t]&255,o=no[e.getMode()][s]>0,l=null;for(let u=0;u<=vn;u++){let d=no[u][s];if(d>0){if(l==null&&(l=e.endBinaryShift(t)),!o||u===e.getMode()||u===xn){const g=l.latchAndAppend(u,d);r.push(g)}if(!o&&Ba[e.getMode()][u]>=0){const g=l.shiftAndAppend(u,d);r.push(g)}}}if(e.getBinaryShiftByteCount()>0||no[e.getMode()][s]===0){let u=e.addBinaryShiftChar(t);r.push(u)}}static updateStateListForPair(e,t,r){const s=[];for(let o of e)this.updateStateForPair(o,t,r,s);return this.simplifyStates(s)}static updateStateForPair(e,t,r,s){let o=e.endBinaryShift(t);if(s.push(o.latchAndAppend(vn,r)),e.getMode()!==vn&&s.push(o.shiftAndAppend(vn,r)),r===3||r===4){let l=o.latchAndAppend(xn,16-r).latchAndAppend(xn,1);s.push(l)}if(e.getBinaryShiftByteCount()>0){let l=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);s.push(l)}}static simplifyStates(e){let t=[];for(const r of e){let s=!0;for(const o of t){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(t=t.filter(l=>l!==o))}s&&t.push(r)}return t}}class je{constructor(){}static encodeBytes(e){return je.encode(e,je.DEFAULT_EC_PERCENT,je.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let s=new ai(e).encode(),o=j.truncDivision(s.getSize()*t,100)+11,l=s.getSize()+o,u,d,g,p,C;if(r!==je.DEFAULT_AZTEC_LAYERS){if(u=r<0,d=Math.abs(r),d>(u?je.MAX_NB_BITS_COMPACT:je.MAX_NB_BITS))throw new y(me.format("Illegal value %s for layers",r));g=je.totalBitsInLayer(d,u),p=je.WORD_SIZE[d];let ne=g-g%p;if(C=je.stuffBits(s,p),C.getSize()+o>ne)throw new y("Data to large for user specified layer");if(u&&C.getSize()>p*64)throw new y("Data to large for user specified layer")}else{p=0,C=null;for(let ne=0;;ne++){if(ne>je.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(u=ne<=3,d=u?ne+1:ne,g=je.totalBitsInLayer(d,u),l>g)continue;(C==null||p!==je.WORD_SIZE[d])&&(p=je.WORD_SIZE[d],C=je.stuffBits(s,p));let He=g-g%p;if(!(u&&C.getSize()>p*64)&&C.getSize()+o<=He)break}}let I=je.generateCheckWords(C,g,p),S=C.getSize()/p,O=je.generateModeMessage(u,d,S),D=(u?11:14)+d*4,B=new Int32Array(D),V;if(u){V=D;for(let ne=0;ne<B.length;ne++)B[ne]=ne}else{V=D+1+2*j.truncDivision(j.truncDivision(D,2)-1,15);let ne=j.truncDivision(D,2),He=j.truncDivision(V,2);for(let Pe=0;Pe<ne;Pe++){let $t=Pe+j.truncDivision(Pe,15);B[ne-Pe-1]=He-$t-1,B[ne+Pe]=He+$t+1}}let re=new ze(V);for(let ne=0,He=0;ne<d;ne++){let Pe=(d-ne)*4+(u?9:12);for(let $t=0;$t<Pe;$t++){let yn=$t*2;for(let en=0;en<2;en++)I.get(He+yn+en)&&re.set(B[ne*2+en],B[ne*2+$t]),I.get(He+Pe*2+yn+en)&&re.set(B[ne*2+$t],B[D-1-ne*2-en]),I.get(He+Pe*4+yn+en)&&re.set(B[D-1-ne*2-en],B[D-1-ne*2-$t]),I.get(He+Pe*6+yn+en)&&re.set(B[D-1-ne*2-$t],B[ne*2+en])}He+=Pe*8}if(je.drawModeMessage(re,u,V,O),u)je.drawBullsEye(re,j.truncDivision(V,2),5);else{je.drawBullsEye(re,j.truncDivision(V,2),7);for(let ne=0,He=0;ne<j.truncDivision(D,2)-1;ne+=15,He+=16)for(let Pe=j.truncDivision(V,2)&1;Pe<V;Pe+=2)re.set(j.truncDivision(V,2)-He,Pe),re.set(j.truncDivision(V,2)+He,Pe),re.set(Pe,j.truncDivision(V,2)-He),re.set(Pe,j.truncDivision(V,2)+He)}let ie=new Da;return ie.setCompact(u),ie.setSize(V),ie.setLayers(d),ie.setCodeWords(S),ie.setMatrix(re),ie}static drawBullsEye(e,t,r){for(let s=0;s<r;s+=2)for(let o=t-s;o<=t+s;o++)e.set(o,t-s),e.set(o,t+s),e.set(t-s,o),e.set(t+s,o);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let s=new q;return e?(s.appendBits(t-1,2),s.appendBits(r-1,6),s=je.generateCheckWords(s,28,4)):(s.appendBits(t-1,5),s.appendBits(r-1,11),s=je.generateCheckWords(s,40,4)),s}static drawModeMessage(e,t,r,s){let o=j.truncDivision(r,2);if(t)for(let l=0;l<7;l++){let u=o-3+l;s.get(l)&&e.set(u,o-5),s.get(l+7)&&e.set(o+5,u),s.get(20-l)&&e.set(u,o+5),s.get(27-l)&&e.set(o-5,u)}else for(let l=0;l<10;l++){let u=o-5+l+j.truncDivision(l,5);s.get(l)&&e.set(u,o-7),s.get(l+10)&&e.set(o+7,u),s.get(29-l)&&e.set(u,o+7),s.get(39-l)&&e.set(o-7,u)}}static generateCheckWords(e,t,r){let s=e.getSize()/r,o=new Qs(je.getGF(r)),l=j.truncDivision(t,r),u=je.bitsToWords(e,r,l);o.encode(u,l-s);let d=t%r,g=new q;g.appendBits(0,d);for(const p of Array.from(u))g.appendBits(p,r);return g}static bitsToWords(e,t,r){let s=new Int32Array(r),o,l;for(o=0,l=e.getSize()/t;o<l;o++){let u=0;for(let d=0;d<t;d++)u|=e.get(o*t+d)?1<<t-d-1:0;s[o]=u}return s}static getGF(e){switch(e){case 4:return T.AZTEC_PARAM;case 6:return T.AZTEC_DATA_6;case 8:return T.AZTEC_DATA_8;case 10:return T.AZTEC_DATA_10;case 12:return T.AZTEC_DATA_12;default:throw new y("Unsupported word size "+e)}}static stuffBits(e,t){let r=new q,s=e.getSize(),o=(1<<t)-2;for(let l=0;l<s;l+=t){let u=0;for(let d=0;d<t;d++)(l+d>=s||e.get(l+d))&&(u|=1<<t-1-d);(u&o)===o?(r.appendBits(u&o,t),l--):(u&o)===0?(r.appendBits(u|1,t),l--):r.appendBits(u,t)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}je.DEFAULT_EC_PERCENT=33,je.DEFAULT_AZTEC_LAYERS=0,je.MAX_NB_BITS=32,je.MAX_NB_BITS_COMPACT=4,je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Yi{encode(e,t,r,s){return this.encodeWithHints(e,t,r,s,null)}encodeWithHints(e,t,r,s,o){let l=$s.ISO_8859_1,u=je.DEFAULT_EC_PERCENT,d=je.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Tt.CHARACTER_SET)&&(l=Na.forName(o.get(Tt.CHARACTER_SET).toString())),o.has(Tt.ERROR_CORRECTION)&&(u=j.parseInt(o.get(Tt.ERROR_CORRECTION).toString())),o.has(Tt.AZTEC_LAYERS)&&(d=j.parseInt(o.get(Tt.AZTEC_LAYERS).toString()))),Yi.encodeLayers(e,t,r,s,l,u,d)}static encodeLayers(e,t,r,s,o,l,u){if(t!==xe.AZTEC)throw new y("Can only encode AZTEC, but got "+t);let d=je.encode(me.getBytes(e,o),l,u);return Yi.renderResult(d,r,s)}static renderResult(e,t,r){let s=e.getMatrix();if(s==null)throw new X;let o=s.getWidth(),l=s.getHeight(),u=Math.max(t,o),d=Math.max(r,l),g=Math.min(u/o,d/l),p=(u-o*g)/2,C=(d-l*g)/2,I=new ze(u,d);for(let S=0,O=C;S<l;S++,O+=g)for(let D=0,B=p;D<o;D++,B+=g)s.get(D,S)&&I.setRegion(B,O,g,g);return I}}a.AbstractExpandedDecoder=Hs,a.ArgumentException=b,a.ArithmeticException=R,a.AztecCode=Da,a.AztecCodeReader=Xt,a.AztecCodeWriter=Yi,a.AztecDecoder=ee,a.AztecDetector=Mt,a.AztecDetectorResult=he,a.AztecEncoder=je,a.AztecHighLevelEncoder=ai,a.AztecPoint=Ze,a.BarcodeFormat=xe,a.Binarizer=P,a.BinaryBitmap=N,a.BitArray=q,a.BitMatrix=ze,a.BitSource=js,a.BrowserAztecCodeReader=fn,a.BrowserBarcodeReader=du,a.BrowserCodeReader=Nt,a.BrowserDatamatrixCodeReader=xu,a.BrowserMultiFormatReader=Su,a.BrowserPDF417Reader=Tu,a.BrowserQRCodeReader=Ru,a.BrowserQRCodeSvgWriter=mr,a.CharacterSetECI=te,a.ChecksumException=v,a.Code128Reader=ae,a.Code39Reader=Xe,a.DataMatrixDecodedBitStreamParser=tr,a.DataMatrixReader=nr,a.DecodeHintType=we,a.DecoderResult=ce,a.DefaultGridSampler=et,a.DetectorResult=Ce,a.EAN13Reader=dr,a.EncodeHintType=Tt,a.Exception=w,a.FormatException=Y,a.GenericGF=T,a.GenericGFPoly=_e,a.GlobalHistogramBinarizer=ye,a.GridSampler=Se,a.GridSamplerInstance=ke,a.HTMLCanvasElementLuminanceSource=_t,a.HybridBinarizer=fe,a.ITFReader=Ue,a.IllegalArgumentException=y,a.IllegalStateException=X,a.InvertedLuminanceSource=Ct,a.LuminanceSource=De,a.MathUtils=Q,a.MultiFormatOneDReader=vr,a.MultiFormatReader=Oa,a.MultiFormatWriter=Nu,a.NotFoundException=G,a.OneDReader=lt,a.PDF417DecodedBitStreamParser=U,a.PDF417DecoderErrorCorrection=ya,a.PDF417Reader=Pt,a.PDF417ResultMetadata=_a,a.PerspectiveTransform=Oe,a.PlanarYUVLuminanceSource=Dn,a.QRCodeByteMatrix=ji,a.QRCodeDataMask=dn,a.QRCodeDecodedBitStreamParser=gt,a.QRCodeDecoderErrorCorrectionLevel=ct,a.QRCodeDecoderFormatInformation=Ut,a.QRCodeEncoder=ht,a.QRCodeEncoderQRCode=wr,a.QRCodeMaskUtil=mt,a.QRCodeMatrixUtil=Ie,a.QRCodeMode=be,a.QRCodeReader=rr,a.QRCodeVersion=Ae,a.QRCodeWriter=Br,a.RGBLuminanceSource=Js,a.RSS14Reader=wt,a.RSSExpandedReader=$,a.ReaderException=Xi,a.ReedSolomonDecoder=Z,a.ReedSolomonEncoder=Qs,a.ReedSolomonException=M,a.Result=rt,a.ResultMetadataType=oe,a.ResultPoint=F,a.StringUtils=me,a.UnsupportedOperationException=It,a.VideoInputDevice=pt,a.WhiteRectangleDetector=pe,a.WriterException=it,a.ZXingArrays=J,a.ZXingCharset=Na,a.ZXingInteger=j,a.ZXingStandardCharsets=$s,a.ZXingStringBuilder=Ne,a.ZXingStringEncoding=at,a.ZXingSystem=L,a.createAbstractExpandedDecoder=Ca,Object.defineProperty(a,"__esModule",{value:!0})}))})(gi,gi.exports)),gi.exports}var xt=cg();const ug=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var $l=(function(){function n(i,a,c){if(this.formatMap=new Map([[ue.QR_CODE,xt.BarcodeFormat.QR_CODE],[ue.AZTEC,xt.BarcodeFormat.AZTEC],[ue.CODABAR,xt.BarcodeFormat.CODABAR],[ue.CODE_39,xt.BarcodeFormat.CODE_39],[ue.CODE_93,xt.BarcodeFormat.CODE_93],[ue.CODE_128,xt.BarcodeFormat.CODE_128],[ue.DATA_MATRIX,xt.BarcodeFormat.DATA_MATRIX],[ue.MAXICODE,xt.BarcodeFormat.MAXICODE],[ue.ITF,xt.BarcodeFormat.ITF],[ue.EAN_13,xt.BarcodeFormat.EAN_13],[ue.EAN_8,xt.BarcodeFormat.EAN_8],[ue.PDF_417,xt.BarcodeFormat.PDF_417],[ue.RSS_14,xt.BarcodeFormat.RSS_14],[ue.RSS_EXPANDED,xt.BarcodeFormat.RSS_EXPANDED],[ue.UPC_A,xt.BarcodeFormat.UPC_A],[ue.UPC_E,xt.BarcodeFormat.UPC_E],[ue.UPC_EAN_EXTENSION,xt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ug)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=c;var f=this.createZXingFormats(i),h=new Map;h.set(xt.DecodeHintType.POSSIBLE_FORMATS,f),h.set(xt.DecodeHintType.TRY_HARDER,!1),this.hints=h}return n.prototype.decodeAsync=function(i){var a=this;return new Promise(function(c,f){try{c(a.decode(i))}catch(h){f(h)}})},n.prototype.decode=function(i){var a=new xt.MultiFormatReader(this.verbose,this.hints),c=new xt.HTMLCanvasElementLuminanceSource(i),f=new xt.BinaryBitmap(new xt.HybridBinarizer(c)),h=a.decode(f);return{text:h.text,format:iu.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(a,c,f){i.set(a,c)}),i},n.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},n.prototype.createZXingFormats=function(i){for(var a=[],c=0,f=i;c<f.length;c++){var h=f[c];this.formatMap.has(h)?a.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return a},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n})(),fg=function(n,i,a,c){function f(h){return h instanceof a?h:new a(function(x){x(h)})}return new(a||(a=Promise))(function(h,x){function m(b){try{w(c.next(b))}catch(y){x(y)}}function E(b){try{w(c.throw(b))}catch(y){x(y)}}function w(b){b.done?h(b.value):f(b.value).then(m,E)}w((c=c.apply(n,i||[])).next())})},hg=function(n,i){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},c,f,h,x;return x={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function m(w){return function(b){return E([w,b])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;x&&(x=0,w[0]&&(a=0)),a;)try{if(c=1,f&&(h=w[0]&2?f.return:w[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,w[1])).done)return h;switch(f=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,f=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=i.call(n,a)}catch(b){w=[6,b],f=0}finally{c=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ec=(function(){function n(i,a,c){if(this.formatMap=new Map([[ue.QR_CODE,"qr_code"],[ue.AZTEC,"aztec"],[ue.CODABAR,"codabar"],[ue.CODE_39,"code_39"],[ue.CODE_93,"code_93"],[ue.CODE_128,"code_128"],[ue.DATA_MATRIX,"data_matrix"],[ue.ITF,"itf"],[ue.EAN_13,"ean_13"],[ue.EAN_8,"ean_8"],[ue.PDF_417,"pdf417"],[ue.UPC_A,"upc_a"],[ue.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=c;var f=this.createBarcodeDetectorFormats(i);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var i=new BarcodeDetector({formats:["qr_code"]});return typeof i<"u"},n.prototype.decodeAsync=function(i){return fg(this,void 0,void 0,function(){var a,c;return hg(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(i)];case 1:if(a=f.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(a),[2,{text:c.rawValue,format:iu.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(i){for(var a=null,c=0,f=0,h=i;f<h.length;f++){var x=h[f],m=x.boundingBox.width*x.boundingBox.height;m>c&&(c=m,a=x)}if(!a)throw"No largest barcode found";return a},n.prototype.createBarcodeDetectorFormats=function(i){for(var a=[],c=0,f=i;c<f.length;c++){var h=f[c];this.formatMap.has(h)?a.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},n.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},n.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(a,c,f){i.set(a,c)}),i},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n})(),tc=function(n,i,a,c){function f(h){return h instanceof a?h:new a(function(x){x(h)})}return new(a||(a=Promise))(function(h,x){function m(b){try{w(c.next(b))}catch(y){x(y)}}function E(b){try{w(c.throw(b))}catch(y){x(y)}}function w(b){b.done?h(b.value):f(b.value).then(m,E)}w((c=c.apply(n,i||[])).next())})},nc=function(n,i){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},c,f,h,x;return x={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function m(w){return function(b){return E([w,b])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;x&&(x=0,w[0]&&(a=0)),a;)try{if(c=1,f&&(h=w[0]&2?f.return:w[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,w[1])).done)return h;switch(f=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,f=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=i.call(n,a)}catch(b){w=[6,b],f=0}finally{c=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},dg=(function(){function n(i,a,c,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,a&&ec.isSupported()?(this.primaryDecoder=new ec(i,c,f),this.secondaryDecoder=new $l(i,c,f)):this.primaryDecoder=new $l(i,c,f)}return n.prototype.decodeAsync=function(i){return tc(this,void 0,void 0,function(){var a;return nc(this,function(c){switch(c.label){case 0:a=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(i)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(i){return tc(this,void 0,void 0,function(){var a,c;return nc(this,function(f){switch(f.label){case 0:a=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(i)];case 2:return[2,f.sent()];case 3:if(c=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(i)];throw c;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(i){if(this.verbose){var a=performance.now()-i;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var i=0,a=0,c=this.executionResults;a<c.length;a++){var f=c[a];i+=f}var h=i/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n})(),wa=(function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function c(){this.constructor=i}i.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}})(),ws=function(n,i,a,c){function f(h){return h instanceof a?h:new a(function(x){x(h)})}return new(a||(a=Promise))(function(h,x){function m(b){try{w(c.next(b))}catch(y){x(y)}}function E(b){try{w(c.throw(b))}catch(y){x(y)}}function w(b){b.done?h(b.value):f(b.value).then(m,E)}w((c=c.apply(n,i||[])).next())})},ms=function(n,i){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},c,f,h,x;return x={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function m(w){return function(b){return E([w,b])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;x&&(x=0,w[0]&&(a=0)),a;)try{if(c=1,f&&(h=w[0]&2?f.return:w[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,w[1])).done)return h;switch(f=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,f=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=i.call(n,a)}catch(b){w=[6,b],f=0}finally{c=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ou=(function(){function n(i,a){this.name=i,this.track=a}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(i){var a={};a[this.name]=i;var c={advanced:[a]};return this.track.applyConstraints(c)},n.prototype.value=function(){var i=this.track.getSettings();if(this.name in i){var a=i[this.name];return a}return null},n})(),gg=(function(n){wa(i,n);function i(a,c){return n.call(this,a,c)||this}return i.prototype.min=function(){return this.getCapabilities().min},i.prototype.max=function(){return this.getCapabilities().max},i.prototype.step=function(){return this.getCapabilities().step},i.prototype.apply=function(a){var c={};c[this.name]=a;var f={advanced:[c]};return this.track.applyConstraints(f)},i.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),c=a[this.name];return{min:c.min,max:c.max,step:c.step}},i.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},i})(ou),xg=(function(n){wa(i,n);function i(a){return n.call(this,"zoom",a)||this}return i})(gg),pg=(function(n){wa(i,n);function i(a){return n.call(this,"torch",a)||this}return i})(ou),wg=(function(){function n(i){this.track=i}return n.prototype.zoomFeature=function(){return new xg(this.track)},n.prototype.torchFeature=function(){return new pg(this.track)},n})(),mg=(function(){function n(i,a,c){this.isClosed=!1,this.parentElement=i,this.mediaStream=a,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),i.append(this.surface)}return n.prototype.createVideoElement=function(i){var a=document.createElement("video");return a.style.width="".concat(i,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},n.prototype.setupSurface=function(){var i=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var c=i.surface.clientWidth,f=i.surface.clientHeight;i.callbacks.onRenderSurfaceReady(c,f),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(i,a,c,f){return ws(this,void 0,void 0,function(){var h,x;return ms(this,function(m){switch(m.label){case 0:return h=new n(i,a,f),c.aspectRatio?(x={aspectRatio:c.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:m.sent(),m.label=2;case 2:return h.setupSurface(),[2,h]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(i){this.failIfClosed();var a=this,c=function(){setTimeout(i,200),a.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(i){return ws(this,void 0,void 0,function(){return ms(this,function(a){if("aspectRatio"in i)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(i)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var i=this;return new Promise(function(a,c){var f=i.mediaStream.getVideoTracks(),h=f.length,x=0;i.mediaStream.getVideoTracks().forEach(function(m){i.mediaStream.removeTrack(m),m.stop(),++x,x>=h&&(i.isClosed=!0,i.parentElement.removeChild(i.surface),a())})})},n.prototype.getCapabilities=function(){return new wg(this.getFirstTrackOrFail())},n})(),Eg=(function(){function n(i){this.mediaStream=i}return n.prototype.render=function(i,a,c){return ws(this,void 0,void 0,function(){return ms(this,function(f){return[2,mg.create(i,this.mediaStream,a,c)]})})},n.create=function(i){return ws(this,void 0,void 0,function(){var a,c;return ms(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:i},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return c=f.sent(),[2,new n(c)]}})})},n})(),rc=function(n,i,a,c){function f(h){return h instanceof a?h:new a(function(x){x(h)})}return new(a||(a=Promise))(function(h,x){function m(b){try{w(c.next(b))}catch(y){x(y)}}function E(b){try{w(c.throw(b))}catch(y){x(y)}}function w(b){b.done?h(b.value):f(b.value).then(m,E)}w((c=c.apply(n,i||[])).next())})},ic=function(n,i){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},c,f,h,x;return x={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function m(w){return function(b){return E([w,b])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;x&&(x=0,w[0]&&(a=0)),a;)try{if(c=1,f&&(h=w[0]&2?f.return:w[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,w[1])).done)return h;switch(f=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,f=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=i.call(n,a)}catch(b){w=[6,b],f=0}finally{c=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Ag=(function(){function n(){}return n.failIfNotSupported=function(){return rc(this,void 0,void 0,function(){return ic(this,function(i){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(i){return rc(this,void 0,void 0,function(){return ic(this,function(a){return[2,Eg.create(i)]})})},n})(),Cg=function(n,i,a,c){function f(h){return h instanceof a?h:new a(function(x){x(h)})}return new(a||(a=Promise))(function(h,x){function m(b){try{w(c.next(b))}catch(y){x(y)}}function E(b){try{w(c.throw(b))}catch(y){x(y)}}function w(b){b.done?h(b.value):f(b.value).then(m,E)}w((c=c.apply(n,i||[])).next())})},bg=function(n,i){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},c,f,h,x;return x={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function m(w){return function(b){return E([w,b])}}function E(w){if(c)throw new TypeError("Generator is already executing.");for(;x&&(x=0,w[0]&&(a=0)),a;)try{if(c=1,f&&(h=w[0]&2?f.return:w[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,w[1])).done)return h;switch(f=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,f=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=i.call(n,a)}catch(b){w=[6,b],f=0}finally{c=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},yg=(function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var i=MediaStreamTrack;return MediaStreamTrack&&i.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var i=Gr.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(i=Gr.insecureContextCameraQueryError()),Promise.reject(i)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var i=location.host.split(":")[0];return i==="127.0.0.1"||i==="localhost"},n.getCamerasFromMediaDevices=function(){return Cg(this,void 0,void 0,function(){var i,a,c,f,h,x,m;return bg(this,function(E){switch(E.label){case 0:return i=function(w){for(var b=w.getVideoTracks(),y=0,N=b;y<N.length;y++){var v=N[y];v.enabled=!1,v.stop(),w.removeTrack(v)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=E.sent(),f=[],h=0,x=c;h<x.length;h++)m=x[h],m.kind==="videoinput"&&f.push({id:m.deviceId,label:m.label});return i(a),[2,f]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(i,a){var c=function(h){for(var x=[],m=0,E=h;m<E.length;m++){var w=E[m];w.kind==="video"&&x.push({id:w.id,label:w.label})}i(x)},f=MediaStreamTrack;f.getSources(c)})},n})(),At;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(At||(At={}));var Ig=(function(){function n(){this.state=At.NOT_STARTED,this.onGoingTransactionNewState=At.UNKNOWN}return n.prototype.directTransition=function(i){this.failIfTransitionOngoing(),this.validateTransition(i),this.state=i},n.prototype.startTransition=function(i){return this.failIfTransitionOngoing(),this.validateTransition(i),this.onGoingTransactionNewState=i,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===At.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var i=this.onGoingTransactionNewState;this.onGoingTransactionNewState=At.UNKNOWN,this.directTransition(i)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===At.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=At.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==At.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(i){switch(this.state){case At.UNKNOWN:throw"Transition from unknown is not allowed";case At.NOT_STARTED:this.failIfNewStateIs(i,[At.PAUSED]);break;case At.SCANNING:break;case At.PAUSED:break}},n.prototype.failIfNewStateIs=function(i,a){for(var c=0,f=a;c<f.length;c++){var h=f[c];if(i===h)throw"Cannot transition from ".concat(this.state," to ").concat(i)}},n})(),_g=(function(){function n(i){this.stateManager=i}return n.prototype.startTransition=function(i){return this.stateManager.startTransition(i)},n.prototype.directTransition=function(i){this.stateManager.directTransition(i)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===At.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==At.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===At.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===At.PAUSED},n})(),Sg=(function(){function n(){}return n.create=function(){return new _g(new Ig)},n})(),Tg=(function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function c(){this.constructor=i}i.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}})(),an=(function(n){Tg(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.DEFAULT_WIDTH=300,i.DEFAULT_WIDTH_OFFSET=2,i.FILE_SCAN_MIN_HEIGHT=300,i.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,i.MIN_QR_BOX_SIZE=50,i.SHADED_LEFT=1,i.SHADED_RIGHT=2,i.SHADED_TOP=3,i.SHADED_BOTTOM=4,i.SHADED_REGION_ELEMENT_ID="qr-shaded-region",i.VERBOSE=!1,i.BORDER_SHADER_DEFAULT_COLOR="#ffffff",i.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",i})(sg),Rg=(function(){function n(i,a){this.logger=a,this.fps=an.SCAN_DEFAULT_FPS,i?(i.fps&&(this.fps=i.fps),this.disableFlip=i.disableFlip===!0,this.qrbox=i.qrbox,this.aspectRatio=i.aspectRatio,this.videoConstraints=i.videoConstraints):this.disableFlip=an.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?su.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Wn(this.qrbox)},n.create=function(i,a){return new n(i,a)},n})(),Og=(function(){function n(i,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.elementId=i,this.verbose=!1;var c;typeof a=="boolean"?this.verbose=a===!0:a&&(c=a,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new ag(this.verbose),this.qrcode=new dg(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Sg.create()}return n.prototype.start=function(i,a,c,f){var h=this;if(!i)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;f?x=f:x=this.verbose?this.logger.log:function(){};var m=Rg.create(a,this.logger);this.clearElement();var E=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=E,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:an.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var y=this,N=this.stateManagerProxy.startTransition(At.SCANNING);return new Promise(function(v,P){var L=w?m.videoConstraints:y.createVideoConstraints(i);if(!L){N.cancel(),P("videoConstraints should be defined");return}var z={};(!w||m.aspectRatio)&&(z.aspectRatio=m.aspectRatio);var le={onRenderSurfaceReady:function(J,j){y.setupUi(J,j,m),y.isScanning=!0,y.foreverScan(m,c,x)}};Ag.failIfNotSupported().then(function(J){J.create(L).then(function(j){return j.render(h.element,z,le).then(function(q){y.renderedCamera=q,N.execute(),v(null)}).catch(function(q){N.cancel(),P(q)})}).catch(function(j){N.cancel(),P(Gr.errorGettingUserMedia(j))})}).catch(function(J){N.cancel(),P(Gr.cameraStreamingNotSupported())})})},n.prototype.pause=function(i){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(At.PAUSED),this.showPausedState(),(Wn(i)||i!==!0)&&(i=!1),i&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var i=this,a=function(){i.stateManagerProxy.directTransition(At.SCANNING),i.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var i=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(At.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(i.element){var h=document.getElementById(an.SHADED_REGION_ELEMENT_ID);h&&i.element.removeChild(h)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),c(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),a.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(i,a){return this.scanFileV2(i,a).then(function(c){return c.decodedText})},n.prototype.scanFileV2=function(i,a){var c=this;if(!i||!(i instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Wn(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,h){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(i);var x=new Image;x.onload=function(){var m=x.width,E=x.height,w=document.getElementById(c.elementId),b=w.clientWidth?w.clientWidth:an.DEFAULT_WIDTH,y=Math.max(w.clientHeight?w.clientHeight:E,an.FILE_SCAN_MIN_HEIGHT),N=c.computeCanvasDrawConfig(m,E,b,y);if(a){var v=c.createCanvasElement(b,y,"qr-canvas-visible");v.style.display="inline-block",w.appendChild(v);var P=v.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=b,P.canvas.height=y,P.drawImage(x,0,0,m,E,N.x,N.y,N.width,N.height)}var L=an.FILE_SCAN_HIDDEN_CANVAS_PADDING,z=Math.max(x.width,N.width),le=Math.max(x.height,N.height),J=z+2*L,j=le+2*L,q=c.createCanvasElement(J,j);w.appendChild(q);var ge=q.getContext("2d");if(!ge)throw"Unable to get 2d context from canvas";ge.canvas.width=J,ge.canvas.height=j,ge.drawImage(x,0,0,m,E,L,L,z,le);try{c.qrcode.decodeRobustlyAsync(q).then(function(we){f(Ql.createFromQrcodeResult(we))}).catch(h)}catch(we){h("QR code parse error, error = ".concat(we))}},x.onerror=h,x.onabort=h,x.onstalled=h,x.onsuspend=h,x.src=URL.createObjectURL(i)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return yg.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(i){if(i){if(!su.isMediaStreamConstraintsValid(i,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(i)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(i){var a=[ue.QR_CODE,ue.AZTEC,ue.CODABAR,ue.CODE_39,ue.CODE_93,ue.CODE_128,ue.DATA_MATRIX,ue.MAXICODE,ue.ITF,ue.EAN_13,ue.EAN_8,ue.PDF_417,ue.RSS_14,ue.RSS_EXPANDED,ue.UPC_A,ue.UPC_E,ue.UPC_EAN_EXTENSION];if(!i||typeof i=="boolean"||!i.formatsToSupport)return a;if(!Array.isArray(i.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(i.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],f=0,h=i.formatsToSupport;f<h.length;f++){var x=h[f];ig(x)?c.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},n.prototype.getUseBarCodeDetectorIfSupported=function(i){if(Wn(i))return!0;if(!Wn(i.useBarCodeDetectorIfSupported))return i.useBarCodeDetectorIfSupported!==!1;if(Wn(i.experimentalFeatures))return!0;var a=i.experimentalFeatures;return Wn(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(i,a,c){var f=this,h=c.qrbox;this.validateQrboxConfig(h);var x=this.toQrdimensions(i,a,h),m=function(w){if(w<an.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(an.MIN_QR_BOX_SIZE,"px.")},E=function(w){return w>i&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=i),w};m(x.width),m(x.height),x.width=E(x.width)},n.prototype.validateQrboxConfig=function(i){if(typeof i!="number"&&typeof i!="function"&&(i.width===void 0||i.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(i,a,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(i,a)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return c},n.prototype.setupUi=function(i,a,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(i,a,c);var f=Wn(c.qrbox)?{width:i,height:a}:c.qrbox;this.validateQrboxConfig(f);var h=this.toQrdimensions(i,a,f);h.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=c.isShadedBoxEnabled()&&h.height<=a,m={x:0,y:0,width:i,height:a},E=x?this.getShadedRegionBounds(i,a,h):m,w=this.createCanvasElement(E.width,E.height),b={willReadFrequently:!0},y=w.getContext("2d",b);y.canvas.width=E.width,y.canvas.height=E.height,this.element.append(w),x&&this.possiblyInsertShadingElement(this.element,i,a,h),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=y,this.canvasElement=w},n.prototype.createScannerPausedUiElement=function(i){var a=document.createElement("div");a.innerText=Gr.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",i.appendChild(a),this.scannerPausedUiElement=a},n.prototype.scanContext=function(i,a){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return i(f.text,Ql.createFromQrcodeResult(f)),c.possiblyUpdateShaders(!0),!0}).catch(function(f){c.possiblyUpdateShaders(!1);var h=Gr.codeParseError(f);return a(h,og.createFrom(h)),!1})},n.prototype.foreverScan=function(i,a,c){var f=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),x=h.videoWidth/h.clientWidth,m=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*x,w=this.qrRegion.height*m,b=this.qrRegion.x*x,y=this.qrRegion.y*m;this.context.drawImage(h,b,y,E,w,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(i,a,c)},f.getTimeoutFps(i.fps))};this.scanContext(a,c).then(function(v){!v&&i.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(a,c).finally(function(){N()})):N()}).catch(function(v){f.logger.logError("Error happend while scanning context",v),N()})}},n.prototype.createVideoConstraints=function(i){if(typeof i=="string")return{deviceId:{exact:i}};if(typeof i=="object"){var a="facingMode",c="deviceId",f={user:!0,environment:!0},h="exact",x=function(P){if(P in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},m=Object.keys(i);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var E=Object.keys(i)[0];if(E!==a&&E!==c)throw"Only '".concat(a,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(E===a){var w=i.facingMode;if(typeof w=="string"){if(x(w))return{facingMode:w}}else if(typeof w=="object")if(h in w){if(x(w["".concat(h)]))return{facingMode:{exact:w["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var b=typeof w;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var y=i.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(h in y)return{deviceId:{exact:y["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var N=typeof y;throw"Invalid type of 'deviceId' = ".concat(N)}}}var v=typeof i;throw"Invalid type of 'cameraIdOrConfig' = ".concat(v)},n.prototype.computeCanvasDrawConfig=function(i,a,c,f){if(i<=c&&a<=f){var h=(c-i)/2,x=(f-a)/2;return{x:h,y:x,width:i,height:a}}else{var m=i,E=a;return i>c&&(a=c/i*a,i=c),a>f&&(i=f/a*i,a=f),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(E)+" to ".concat(i,"X").concat(a,".")),this.computeCanvasDrawConfig(i,a,c,f)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var i=document.getElementById(this.elementId);i&&(i.innerHTML="")},n.prototype.possiblyUpdateShaders=function(i){this.qrMatch!==i&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=i?an.BORDER_SHADER_MATCH_COLOR:an.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=i)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(i,a,c){var f=i,h=a,x=document.createElement("canvas");return x.style.width="".concat(f,"px"),x.style.height="".concat(h,"px"),x.style.display="none",x.id=Wn(c)?"qr-canvas":c,x},n.prototype.getShadedRegionBounds=function(i,a,c){if(c.width>i||c.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(i-c.width)/2,y:(a-c.height)/2,width:c.width,height:c.height}},n.prototype.possiblyInsertShadingElement=function(i,a,c,f){if(!(a-f.width<1||c-f.height<1)){var h=document.createElement("div");h.style.position="absolute";var x=(a-f.width)/2,m=(c-f.height)/2;if(h.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(an.SHADED_REGION_ELEMENT_ID),a-f.width<11||c-f.height<11)this.hasBorderShaders=!1;else{var E=5,w=40;this.insertShaderBorders(h,w,E,-E,null,0,!0),this.insertShaderBorders(h,w,E,-E,null,0,!1),this.insertShaderBorders(h,w,E,null,-E,0,!0),this.insertShaderBorders(h,w,E,null,-E,0,!1),this.insertShaderBorders(h,E,w+E,-E,null,-E,!0),this.insertShaderBorders(h,E,w+E,null,-E,-E,!0),this.insertShaderBorders(h,E,w+E,-E,null,-E,!1),this.insertShaderBorders(h,E,w+E,null,-E,-E,!1),this.hasBorderShaders=!0}i.append(h)}},n.prototype.insertShaderBorders=function(i,a,c,f,h,x,m){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=an.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(a,"px"),E.style.height="".concat(c,"px"),f!==null&&(E.style.top="".concat(f,"px")),h!==null&&(E.style.bottom="".concat(h,"px")),m?E.style.left="".concat(x,"px"):E.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),i.appendChild(E)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(i){return 1e3/i},n})(),sc;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(sc||(sc={}));let hi=null;function Ng(){return hi||(hi=new AudioContext),hi.state==="suspended"&&hi.resume(),hi}function au(n,i,a){const c=Ng(),f=c.createOscillator(),h=c.createGain();f.type=a,f.frequency.value=n,h.gain.value=1e-4,f.connect(h),h.connect(c.destination);const x=c.currentTime;return h.gain.exponentialRampToValueAtTime(.18,x+.02),h.gain.exponentialRampToValueAtTime(1e-4,x+i/1e3),f.start(x),f.stop(x+i/1e3),new Promise(m=>{f.onended=()=>m()})}async function Dg(){await au(980,120,"square")}async function oc(){await au(220,180,"sawtooth")}const vg={class:"scan-header"},Mg={class:"scan-user"},Bg={class:"scan-reader-shell"},Pg={class:"scan-tip"},Lg={class:"scan-result-main"},Fg={class:"scan-product-name"},kg={class:"scan-product-spec"},Ug={class:"scan-product-price"},Vg={class:"scan-result-meta"},Hg={class:"scan-result-main"},Gg={class:"scan-result-error"},ac="barcode-reader",Wg=_s({__name:"ScanView",setup(n){const i=v1(),a=[ue.CODE_128,ue.EAN_13,ue.EAN_8,ue.UPC_A,ue.UPC_E,ue.CODE_39],c=mn(Q2()),f=mn("idle"),h=mn(""),x=mn(""),m=mn(!1),E=mn(null),w=mn("");let b=null,y=null,N=!1;const v=An(()=>({"scan-page--error":f.value==="error","scan-page--success":f.value==="success"}));async function P(){b=new Og(ac,{verbose:!1,formatsToSupport:a});const q={fps:12,qrbox:{width:280,height:150},aspectRatio:1.6,disableFlip:!0};try{await b.start({facingMode:{exact:"environment"}},q,L,()=>{})}catch{await b.start({facingMode:"environment"},q,L,()=>{})}m.value=!0,h.value="..."}async function L(q){if(N)return;const ge=q.trim();if(ge.length!==0){N=!0,x.value=ge,f.value="loading",h.value="...";try{b?.pause(!0)}catch{}try{const we=await Fs.get("/api/products/lookup",{params:{barcode:ge}});E.value=we.data,w.value="",f.value="success",h.value="",await Dg()}catch(we){E.value=null,f.value="error",h.value="",tu(we)&&we.response?.data?.message?w.value=we.response.data.message:w.value=" WiFi ",await oc()}finally{z()}}}function z(){y&&window.clearTimeout(y),y=window.setTimeout(()=>{le()},3e3)}function le(){y&&(window.clearTimeout(y),y=null),f.value="idle",h.value=m.value?"...":"...",E.value=null,w.value="",x.value="",N=!1;try{b?.resume()}catch{}}async function J(){nu(),await i.replace({name:"login"})}async function j(){if(b){try{await b.stop()}catch{}try{await b.clear()}catch{}b=null}}return jc(async()=>{h.value="...";try{await P()}catch{f.value="error",h.value="",w.value=" HTTPS ",await oc()}}),zc(async()=>{y&&window.clearTimeout(y),await j()}),(q,ge)=>(Kn(),br("main",{class:yi(["scan-page",v.value])},[Ge("header",vg,[Ge("div",null,[ge[0]||(ge[0]=Ge("p",{class:"scan-kicker"},"SWCS ",-1)),Ge("p",Mg,""+wn(c.value||""),1)]),Ge("button",{class:"scan-logout",type:"button",onClick:J},"")]),Ge("section",Bg,[Ge("div",{id:ac,class:"scan-reader"}),Ge("p",Pg,wn(h.value),1)]),ge[5]||(ge[5]=Ge("section",{class:"scan-instruction"},[Ge("p",null,"1. "),Ge("p",null,"2. "),Ge("p",null,"3.  3 ")],-1)),f.value!=="idle"?(Kn(),br("section",{key:0,class:"scan-overlay",onClick:le},[Ge("article",{class:yi(["scan-result",`scan-result--${f.value}`])},[f.value==="loading"?(Kn(),br(En,{key:0},[ge[1]||(ge[1]=Ge("p",{class:"scan-result-label"},"",-1)),Ge("p",Lg,wn(x.value),1)],64)):f.value==="success"&&E.value?(Kn(),br(En,{key:1},[ge[2]||(ge[2]=Ge("p",{class:"scan-result-label"},"",-1)),Ge("p",Fg,wn(E.value.productName),1),Ge("p",kg,wn(E.value.specification||""),1),Ge("p",Ug,""+wn(E.value.price.toFixed(2)),1),Ge("p",Vg,""+wn(E.value.barcodeMatchedBy),1)],64)):(Kn(),br(En,{key:2},[ge[3]||(ge[3]=Ge("p",{class:"scan-result-label"},"",-1)),Ge("p",Hg,wn(x.value),1),Ge("p",Gg,wn(w.value),1)],64)),ge[4]||(ge[4]=Ge("p",{class:"scan-result-tip"},"",-1))],2)])):g1("",!0)],2))}}),lu=Ad({history:Jh(),routes:[{path:"/",redirect:"/scan"},{path:"/login",name:"login",component:rg,meta:{guestOnly:!0}},{path:"/scan",name:"scan",component:Wg,meta:{requiresAuth:!0}}]});lu.beforeEach(n=>n.meta.requiresAuth&&!Kl()?{name:"login"}:n.meta.guestOnly&&Kl()?{name:"scan"}:!0);lh(gh).use(lu).mount("#app");
